(function(){const v=document.createElement("link").relList;if(v&&v.supports&&v.supports("modulepreload"))return;for(const k of document.querySelectorAll('link[rel="modulepreload"]'))D(k);new MutationObserver(k=>{for(const F of k)if(F.type==="childList")for(const $ of F.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&D($)}).observe(document,{childList:!0,subtree:!0});function j(k){const F={};return k.integrity&&(F.integrity=k.integrity),k.referrerPolicy&&(F.referrerPolicy=k.referrerPolicy),k.crossOrigin==="use-credentials"?F.credentials="include":k.crossOrigin==="anonymous"?F.credentials="omit":F.credentials="same-origin",F}function D(k){if(k.ep)return;k.ep=!0;const F=j(k);fetch(k.href,F)}})();function Xo(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}function Om(C){if(C.__esModule)return C;var v=C.default;if(typeof v=="function"){var j=function D(){return this instanceof D?Reflect.construct(v,arguments,this.constructor):v.apply(this,arguments)};j.prototype=v.prototype}else j={};return Object.defineProperty(j,"__esModule",{value:!0}),Object.keys(C).forEach(function(D){var k=Object.getOwnPropertyDescriptor(C,D);Object.defineProperty(j,D,k.get?k:{enumerable:!0,get:function(){return C[D]}})}),j}var Eo={exports:{}},Wa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah;function Em(){if(Ah)return Wa;Ah=1;var C=Symbol.for("react.transitional.element"),v=Symbol.for("react.fragment");function j(D,k,F){var $=null;if(F!==void 0&&($=""+F),k.key!==void 0&&($=""+k.key),"key"in k){F={};for(var m in k)m!=="key"&&(F[m]=k[m])}else F=k;return k=F.ref,{$$typeof:C,type:D,key:$,ref:k!==void 0?k:null,props:F}}return Wa.Fragment=v,Wa.jsx=j,Wa.jsxs=j,Wa}var Dh;function Am(){return Dh||(Dh=1,Eo.exports=Em()),Eo.exports}var Lt=Am(),Ao={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh;function Dm(){if(Mh)return Rt;Mh=1;var C=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),$=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),a=Symbol.iterator;function r(x){return x===null||typeof x!="object"?null:(x=a&&x[a]||x["@@iterator"],typeof x=="function"?x:null)}var n={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u=Object.assign,h={};function s(x,M,B){this.props=x,this.context=M,this.refs=h,this.updater=B||n}s.prototype.isReactComponent={},s.prototype.setState=function(x,M){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,M,"setState")},s.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function d(){}d.prototype=s.prototype;function p(x,M,B){this.props=x,this.context=M,this.refs=h,this.updater=B||n}var _=p.prototype=new d;_.constructor=p,u(_,s.prototype),_.isPureReactComponent=!0;var S=Array.isArray,b={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function L(x,M,B,X,R,E){return B=E.ref,{$$typeof:C,type:x,key:M,ref:B!==void 0?B:null,props:E}}function P(x,M){return L(x.type,M,void 0,void 0,void 0,x.props)}function H(x){return typeof x=="object"&&x!==null&&x.$$typeof===C}function K(x){var M={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(B){return M[B]})}var dt=/\/+/g;function yt(x,M){return typeof x=="object"&&x!==null&&x.key!=null?K(""+x.key):M.toString(36)}function St(){}function pt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(St,St):(x.status="pending",x.then(function(M){x.status==="pending"&&(x.status="fulfilled",x.value=M)},function(M){x.status==="pending"&&(x.status="rejected",x.reason=M)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function vt(x,M,B,X,R){var E=typeof x;(E==="undefined"||E==="boolean")&&(x=null);var U=!1;if(x===null)U=!0;else switch(E){case"bigint":case"string":case"number":U=!0;break;case"object":switch(x.$$typeof){case C:case v:U=!0;break;case f:return U=x._init,vt(U(x._payload),M,B,X,R)}}if(U)return R=R(x),U=X===""?"."+yt(x,0):X,S(R)?(B="",U!=null&&(B=U.replace(dt,"$&/")+"/"),vt(R,M,B,"",function(W){return W})):R!=null&&(H(R)&&(R=P(R,B+(R.key==null||x&&x.key===R.key?"":(""+R.key).replace(dt,"$&/")+"/")+U)),M.push(R)),1;U=0;var G=X===""?".":X+":";if(S(x))for(var Q=0;Q<x.length;Q++)X=x[Q],E=G+yt(X,Q),U+=vt(X,M,B,E,R);else if(Q=r(x),typeof Q=="function")for(x=Q.call(x),Q=0;!(X=x.next()).done;)X=X.value,E=G+yt(X,Q++),U+=vt(X,M,B,E,R);else if(E==="object"){if(typeof x.then=="function")return vt(pt(x),M,B,X,R);throw M=String(x),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return U}function tt(x,M,B){if(x==null)return x;var X=[],R=0;return vt(x,X,"","",function(E){return M.call(B,E,R++)}),X}function mt(x){if(x._status===-1){var M=x._result;M=M(),M.then(function(B){(x._status===0||x._status===-1)&&(x._status=1,x._result=B)},function(B){(x._status===0||x._status===-1)&&(x._status=2,x._result=B)}),x._status===-1&&(x._status=0,x._result=M)}if(x._status===1)return x._result.default;throw x._result}var ft=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function O(){}return Rt.Children={map:tt,forEach:function(x,M,B){tt(x,function(){M.apply(this,arguments)},B)},count:function(x){var M=0;return tt(x,function(){M++}),M},toArray:function(x){return tt(x,function(M){return M})||[]},only:function(x){if(!H(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Rt.Component=s,Rt.Fragment=j,Rt.Profiler=k,Rt.PureComponent=p,Rt.StrictMode=D,Rt.Suspense=l,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(x){return function(){return x.apply(null,arguments)}},Rt.cloneElement=function(x,M,B){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var X=u({},x.props),R=x.key,E=void 0;if(M!=null)for(U in M.ref!==void 0&&(E=void 0),M.key!==void 0&&(R=""+M.key),M)!w.call(M,U)||U==="key"||U==="__self"||U==="__source"||U==="ref"&&M.ref===void 0||(X[U]=M[U]);var U=arguments.length-2;if(U===1)X.children=B;else if(1<U){for(var G=Array(U),Q=0;Q<U;Q++)G[Q]=arguments[Q+2];X.children=G}return L(x.type,R,void 0,void 0,E,X)},Rt.createContext=function(x){return x={$$typeof:$,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:F,_context:x},x},Rt.createElement=function(x,M,B){var X,R={},E=null;if(M!=null)for(X in M.key!==void 0&&(E=""+M.key),M)w.call(M,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(R[X]=M[X]);var U=arguments.length-2;if(U===1)R.children=B;else if(1<U){for(var G=Array(U),Q=0;Q<U;Q++)G[Q]=arguments[Q+2];R.children=G}if(x&&x.defaultProps)for(X in U=x.defaultProps,U)R[X]===void 0&&(R[X]=U[X]);return L(x,E,void 0,void 0,null,R)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(x){return{$$typeof:m,render:x}},Rt.isValidElement=H,Rt.lazy=function(x){return{$$typeof:f,_payload:{_status:-1,_result:x},_init:mt}},Rt.memo=function(x,M){return{$$typeof:c,type:x,compare:M===void 0?null:M}},Rt.startTransition=function(x){var M=b.T,B={};b.T=B;try{var X=x(),R=b.S;R!==null&&R(B,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(O,ft)}catch(E){ft(E)}finally{b.T=M}},Rt.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},Rt.use=function(x){return b.H.use(x)},Rt.useActionState=function(x,M,B){return b.H.useActionState(x,M,B)},Rt.useCallback=function(x,M){return b.H.useCallback(x,M)},Rt.useContext=function(x){return b.H.useContext(x)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(x,M){return b.H.useDeferredValue(x,M)},Rt.useEffect=function(x,M){return b.H.useEffect(x,M)},Rt.useId=function(){return b.H.useId()},Rt.useImperativeHandle=function(x,M,B){return b.H.useImperativeHandle(x,M,B)},Rt.useInsertionEffect=function(x,M){return b.H.useInsertionEffect(x,M)},Rt.useLayoutEffect=function(x,M){return b.H.useLayoutEffect(x,M)},Rt.useMemo=function(x,M){return b.H.useMemo(x,M)},Rt.useOptimistic=function(x,M){return b.H.useOptimistic(x,M)},Rt.useReducer=function(x,M,B){return b.H.useReducer(x,M,B)},Rt.useRef=function(x){return b.H.useRef(x)},Rt.useState=function(x){return b.H.useState(x)},Rt.useSyncExternalStore=function(x,M,B){return b.H.useSyncExternalStore(x,M,B)},Rt.useTransition=function(){return b.H.useTransition()},Rt.version="19.0.0",Rt}var Rh;function No(){return Rh||(Rh=1,Ao.exports=Dm()),Ao.exports}var ut=No();const Mm=Xo(ut);var Do={exports:{}},Ia={},Mo={exports:{}},Ro={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function Rm(){return Lh||(Lh=1,function(C){function v(tt,mt){var ft=tt.length;tt.push(mt);t:for(;0<ft;){var O=ft-1>>>1,x=tt[O];if(0<k(x,mt))tt[O]=mt,tt[ft]=x,ft=O;else break t}}function j(tt){return tt.length===0?null:tt[0]}function D(tt){if(tt.length===0)return null;var mt=tt[0],ft=tt.pop();if(ft!==mt){tt[0]=ft;t:for(var O=0,x=tt.length,M=x>>>1;O<M;){var B=2*(O+1)-1,X=tt[B],R=B+1,E=tt[R];if(0>k(X,ft))R<x&&0>k(E,X)?(tt[O]=E,tt[R]=ft,O=R):(tt[O]=X,tt[B]=ft,O=B);else if(R<x&&0>k(E,ft))tt[O]=E,tt[R]=ft,O=R;else break t}}return mt}function k(tt,mt){var ft=tt.sortIndex-mt.sortIndex;return ft!==0?ft:tt.id-mt.id}if(C.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var F=performance;C.unstable_now=function(){return F.now()}}else{var $=Date,m=$.now();C.unstable_now=function(){return $.now()-m}}var l=[],c=[],f=1,a=null,r=3,n=!1,u=!1,h=!1,s=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function _(tt){for(var mt=j(c);mt!==null;){if(mt.callback===null)D(c);else if(mt.startTime<=tt)D(c),mt.sortIndex=mt.expirationTime,v(l,mt);else break;mt=j(c)}}function S(tt){if(h=!1,_(tt),!u)if(j(l)!==null)u=!0,pt();else{var mt=j(c);mt!==null&&vt(S,mt.startTime-tt)}}var b=!1,w=-1,L=5,P=-1;function H(){return!(C.unstable_now()-P<L)}function K(){if(b){var tt=C.unstable_now();P=tt;var mt=!0;try{t:{u=!1,h&&(h=!1,d(w),w=-1),n=!0;var ft=r;try{e:{for(_(tt),a=j(l);a!==null&&!(a.expirationTime>tt&&H());){var O=a.callback;if(typeof O=="function"){a.callback=null,r=a.priorityLevel;var x=O(a.expirationTime<=tt);if(tt=C.unstable_now(),typeof x=="function"){a.callback=x,_(tt),mt=!0;break e}a===j(l)&&D(l),_(tt)}else D(l);a=j(l)}if(a!==null)mt=!0;else{var M=j(c);M!==null&&vt(S,M.startTime-tt),mt=!1}}break t}finally{a=null,r=ft,n=!1}mt=void 0}}finally{mt?dt():b=!1}}}var dt;if(typeof p=="function")dt=function(){p(K)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,St=yt.port2;yt.port1.onmessage=K,dt=function(){St.postMessage(null)}}else dt=function(){s(K,0)};function pt(){b||(b=!0,dt())}function vt(tt,mt){w=s(function(){tt(C.unstable_now())},mt)}C.unstable_IdlePriority=5,C.unstable_ImmediatePriority=1,C.unstable_LowPriority=4,C.unstable_NormalPriority=3,C.unstable_Profiling=null,C.unstable_UserBlockingPriority=2,C.unstable_cancelCallback=function(tt){tt.callback=null},C.unstable_continueExecution=function(){u||n||(u=!0,pt())},C.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<tt?Math.floor(1e3/tt):5},C.unstable_getCurrentPriorityLevel=function(){return r},C.unstable_getFirstCallbackNode=function(){return j(l)},C.unstable_next=function(tt){switch(r){case 1:case 2:case 3:var mt=3;break;default:mt=r}var ft=r;r=mt;try{return tt()}finally{r=ft}},C.unstable_pauseExecution=function(){},C.unstable_requestPaint=function(){},C.unstable_runWithPriority=function(tt,mt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var ft=r;r=tt;try{return mt()}finally{r=ft}},C.unstable_scheduleCallback=function(tt,mt,ft){var O=C.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?O+ft:O):ft=O,tt){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ft+x,tt={id:f++,callback:mt,priorityLevel:tt,startTime:ft,expirationTime:x,sortIndex:-1},ft>O?(tt.sortIndex=ft,v(c,tt),j(l)===null&&tt===j(c)&&(h?(d(w),w=-1):h=!0,vt(S,ft-O))):(tt.sortIndex=x,v(l,tt),u||n||(u=!0,pt())),tt},C.unstable_shouldYield=H,C.unstable_wrapCallback=function(tt){var mt=r;return function(){var ft=r;r=mt;try{return tt.apply(this,arguments)}finally{r=ft}}}}(Ro)),Ro}var Bh;function Lm(){return Bh||(Bh=1,Mo.exports=Rm()),Mo.exports}var Lo={exports:{}},ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function Bm(){if(jh)return ye;jh=1;var C=No();function v(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function j(){}var D={d:{f:j,r:function(){throw Error(v(522))},D:j,C:j,L:j,m:j,X:j,S:j,M:j},p:0,findDOMNode:null},k=Symbol.for("react.portal");function F(l,c,f){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:a==null?null:""+a,children:l,containerInfo:c,implementation:f}}var $=C.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ye.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(v(299));return F(l,c,null,f)},ye.flushSync=function(l){var c=$.T,f=D.p;try{if($.T=null,D.p=2,l)return l()}finally{$.T=c,D.p=f,D.d.f()}},ye.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,D.d.C(l,c))},ye.prefetchDNS=function(l){typeof l=="string"&&D.d.D(l)},ye.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var f=c.as,a=m(f,c.crossOrigin),r=typeof c.integrity=="string"?c.integrity:void 0,n=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?D.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:n}):f==="script"&&D.d.X(l,{crossOrigin:a,integrity:r,fetchPriority:n,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},ye.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=m(c.as,c.crossOrigin);D.d.M(l,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&D.d.M(l)},ye.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,a=m(f,c.crossOrigin);D.d.L(l,f,{crossOrigin:a,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},ye.preloadModule=function(l,c){if(typeof l=="string")if(c){var f=m(c.as,c.crossOrigin);D.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else D.d.m(l)},ye.requestFormReset=function(l){D.d.r(l)},ye.unstable_batchedUpdates=function(l,c){return l(c)},ye.useFormState=function(l,c,f){return $.H.useFormState(l,c,f)},ye.useFormStatus=function(){return $.H.useHostTransitionStatus()},ye.version="19.0.0",ye}var kh;function jm(){if(kh)return Lo.exports;kh=1;function C(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C)}catch(v){console.error(v)}}return C(),Lo.exports=Bm(),Lo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function km(){if(zh)return Ia;zh=1;var C=Lm(),v=No(),j=jm();function D(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function k(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var F=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),r=Symbol.for("react.consumer"),n=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),s=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),S=Symbol.for("react.memo_cache_sentinel"),b=Symbol.iterator;function w(t){return t===null||typeof t!="object"?null:(t=b&&t[b]||t["@@iterator"],typeof t=="function"?t:null)}var L=Symbol.for("react.client.reference");function P(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===L?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case l:return"Fragment";case m:return"Portal";case f:return"Profiler";case c:return"StrictMode";case h:return"Suspense";case s:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case n:return(t.displayName||"Context")+".Provider";case r:return(t._context.displayName||"Context")+".Consumer";case u:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case d:return e=t.displayName||null,e!==null?e:P(t.type)||"Memo";case p:e=t._payload,t=t._init;try{return P(t(e))}catch{}}return null}var H=v.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=Object.assign,dt,yt;function St(t){if(dt===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);dt=e&&e[1]||"",yt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dt+t+yt}var pt=!1;function vt(t,e){if(!t||pt)return"";pt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(e){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(nt){var Z=nt}Reflect.construct(t,[],gt)}else{try{gt.call()}catch(nt){Z=nt}t.call(gt.prototype)}}else{try{throw Error()}catch(nt){Z=nt}(gt=t())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(nt){if(nt&&Z&&typeof nt.stack=="string")return[nt.stack,Z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=o.DetermineComponentFrameRoot(),T=y[0],A=y[1];if(T&&A){var z=T.split(`
`),N=A.split(`
`);for(g=o=0;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;for(;g<N.length&&!N[g].includes("DetermineComponentFrameRoot");)g++;if(o===z.length||g===N.length)for(o=z.length-1,g=N.length-1;1<=o&&0<=g&&z[o]!==N[g];)g--;for(;1<=o&&0<=g;o--,g--)if(z[o]!==N[g]){if(o!==1||g!==1)do if(o--,g--,0>g||z[o]!==N[g]){var at=`
`+z[o].replace(" at new "," at ");return t.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",t.displayName)),at}while(1<=o&&0<=g);break}}}finally{pt=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?St(i):""}function tt(t){switch(t.tag){case 26:case 27:case 5:return St(t.type);case 16:return St("Lazy");case 13:return St("Suspense");case 19:return St("SuspenseList");case 0:case 15:return t=vt(t.type,!1),t;case 11:return t=vt(t.type.render,!1),t;case 1:return t=vt(t.type,!0),t;default:return""}}function mt(t){try{var e="";do e+=tt(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function ft(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function O(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x(t){if(ft(t)!==t)throw Error(D(188))}function M(t){var e=t.alternate;if(!e){if(e=ft(t),e===null)throw Error(D(188));return e!==t?null:t}for(var i=t,o=e;;){var g=i.return;if(g===null)break;var y=g.alternate;if(y===null){if(o=g.return,o!==null){i=o;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===i)return x(g),t;if(y===o)return x(g),e;y=y.sibling}throw Error(D(188))}if(i.return!==o.return)i=g,o=y;else{for(var T=!1,A=g.child;A;){if(A===i){T=!0,i=g,o=y;break}if(A===o){T=!0,o=g,i=y;break}A=A.sibling}if(!T){for(A=y.child;A;){if(A===i){T=!0,i=y,o=g;break}if(A===o){T=!0,o=y,i=g;break}A=A.sibling}if(!T)throw Error(D(189))}}if(i.alternate!==o)throw Error(D(190))}if(i.tag!==3)throw Error(D(188));return i.stateNode.current===i?t:e}function B(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=B(t),e!==null)return e;t=t.sibling}return null}var X=Array.isArray,R=j.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E={pending:!1,data:null,method:null,action:null},U=[],G=-1;function Q(t){return{current:t}}function W(t){0>G||(t.current=U[G],U[G]=null,G--)}function it(t,e){G++,U[G]=t.current,t.current=e}var ht=Q(null),_t=Q(null),J=Q(null),q=Q(null);function rt(t,e){switch(it(J,e),it(_t,t),it(ht,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?nh(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=nh(t),e=ah(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ht),it(ht,e)}function st(){W(ht),W(_t),W(J)}function et(t){t.memoizedState!==null&&it(q,t);var e=ht.current,i=ah(e,t.type);e!==i&&(it(_t,t),it(ht,i))}function ot(t){_t.current===t&&(W(ht),W(_t)),q.current===t&&(W(q),Na._currentValue=E)}var Ct=Object.prototype.hasOwnProperty,Dt=C.unstable_scheduleCallback,Tt=C.unstable_cancelCallback,lt=C.unstable_shouldYield,wt=C.unstable_requestPaint,Et=C.unstable_now,zt=C.unstable_getCurrentPriorityLevel,Gt=C.unstable_ImmediatePriority,Ht=C.unstable_UserBlockingPriority,ee=C.unstable_NormalPriority,Zt=C.unstable_LowPriority,We=C.unstable_IdlePriority,Gi=C.log,Me=C.unstable_setDisableYieldValue,Vi=null,me=null;function Ss(t){if(me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(Vi,t,void 0,(t.current.flags&128)===128)}catch{}}function Ie(t){if(typeof Gi=="function"&&Me(t),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(Vi,t)}catch{}}var xe=Math.clz32?Math.clz32:dd,fd=Math.log,hd=Math.LN2;function dd(t){return t>>>=0,t===0?32:31-(fd(t)/hd|0)|0}var nr=128,ar=4194304;function qi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rr(t,e){var i=t.pendingLanes;if(i===0)return 0;var o=0,g=t.suspendedLanes,y=t.pingedLanes,T=t.warmLanes;t=t.finishedLanes!==0;var A=i&134217727;return A!==0?(i=A&~g,i!==0?o=qi(i):(y&=A,y!==0?o=qi(y):t||(T=A&~T,T!==0&&(o=qi(T))))):(A=i&~g,A!==0?o=qi(A):y!==0?o=qi(y):t||(T=i&~T,T!==0&&(o=qi(T)))),o===0?0:e!==0&&e!==o&&!(e&g)&&(g=o&-o,T=e&-e,g>=T||g===32&&(T&4194176)!==0)?e:o}function Jn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function gd(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var t=nr;return nr<<=1,!(nr&4194176)&&(nr=128),t}function Qo(){var t=ar;return ar<<=1,!(ar&62914560)&&(ar=4194304),t}function Cs(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function $n(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function md(t,e,i,o,g,y){var T=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var A=t.entanglements,z=t.expirationTimes,N=t.hiddenUpdates;for(i=T&~i;0<i;){var at=31-xe(i),gt=1<<at;A[at]=0,z[at]=-1;var Z=N[at];if(Z!==null)for(N[at]=null,at=0;at<Z.length;at++){var nt=Z[at];nt!==null&&(nt.lane&=-536870913)}i&=~gt}o!==0&&Zo(t,o,0),y!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=y&~(T&~e))}function Zo(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var o=31-xe(e);t.entangledLanes|=e,t.entanglements[o]=t.entanglements[o]|1073741824|i&4194218}function Ko(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var o=31-xe(i),g=1<<o;g&e|t[o]&e&&(t[o]|=e),i&=~g}}function Jo(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function $o(){var t=R.p;return t!==0?t:(t=window.event,t===void 0?32:bh(t.type))}function vd(t,e){var i=R.p;try{return R.p=t,e()}finally{R.p=i}}var Ci=Math.random().toString(36).slice(2),ve="__reactFiber$"+Ci,Ce="__reactProps$"+Ci,vn="__reactContainer$"+Ci,bs="__reactEvents$"+Ci,pd="__reactListeners$"+Ci,yd="__reactHandles$"+Ci,tu="__reactResources$"+Ci,ta="__reactMarker$"+Ci;function Ts(t){delete t[ve],delete t[Ce],delete t[bs],delete t[pd],delete t[yd]}function Wi(t){var e=t[ve];if(e)return e;for(var i=t.parentNode;i;){if(e=i[vn]||i[ve]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=lh(t);t!==null;){if(i=t[ve])return i;t=lh(t)}return e}t=i,i=t.parentNode}return null}function pn(t){if(t=t[ve]||t[vn]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function ea(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(D(33))}function yn(t){var e=t[tu];return e||(e=t[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function oe(t){t[ta]=!0}var eu=new Set,iu={};function Ii(t,e){_n(t,e),_n(t+"Capture",e)}function _n(t,e){for(iu[t]=e,t=0;t<e.length;t++)eu.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_d=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nu={},au={};function Sd(t){return Ct.call(au,t)?!0:Ct.call(nu,t)?!1:_d.test(t)?au[t]=!0:(nu[t]=!0,!1)}function sr(t,e,i){if(Sd(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var o=e.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function lr(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function ni(t,e,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+o)}}function Re(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ru(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Cd(t){var e=ru(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var g=i.get,y=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return g.call(this)},set:function(T){o=""+T,y.call(this,T)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function or(t){t._valueTracker||(t._valueTracker=Cd(t))}function su(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),o="";return t&&(o=ru(t)?t.checked?"true":"false":t.value),t=o,t!==i?(e.setValue(t),!0):!1}function ur(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bd=/[\n"\\]/g;function Le(t){return t.replace(bd,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xs(t,e,i,o,g,y,T,A){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),e!=null?T==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Re(e)):t.value!==""+Re(e)&&(t.value=""+Re(e)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),e!=null?ws(t,T,Re(e)):i!=null?ws(t,T,Re(i)):o!=null&&t.removeAttribute("value"),g==null&&y!=null&&(t.defaultChecked=!!y),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Re(A):t.removeAttribute("name")}function lu(t,e,i,o,g,y,T,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),e!=null||i!=null){if(!(y!=="submit"&&y!=="reset"||e!=null))return;i=i!=null?""+Re(i):"",e=e!=null?""+Re(e):i,A||e===t.value||(t.value=e),t.defaultValue=e}o=o??g,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function ws(t,e,i){e==="number"&&ur(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Sn(t,e,i,o){if(t=t.options,e){e={};for(var g=0;g<i.length;g++)e["$"+i[g]]=!0;for(i=0;i<t.length;i++)g=e.hasOwnProperty("$"+t[i].value),t[i].selected!==g&&(t[i].selected=g),g&&o&&(t[i].defaultSelected=!0)}else{for(i=""+Re(i),e=null,g=0;g<t.length;g++){if(t[g].value===i){t[g].selected=!0,o&&(t[g].defaultSelected=!0);return}e!==null||t[g].disabled||(e=t[g])}e!==null&&(e.selected=!0)}}function ou(t,e,i){if(e!=null&&(e=""+Re(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Re(i):""}function uu(t,e,i,o){if(e==null){if(o!=null){if(i!=null)throw Error(D(92));if(X(o)){if(1<o.length)throw Error(D(93));o=o[0]}i=o}i==null&&(i=""),e=i}i=Re(e),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o)}function Cn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Td=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(t,e,i){var o=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,i):typeof i!="number"||i===0||Td.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function fu(t,e,i){if(e!=null&&typeof e!="object")throw Error(D(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||e!=null&&e.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var g in e)o=e[g],e.hasOwnProperty(g)&&i[g]!==o&&cu(t,g,o)}else for(var y in e)e.hasOwnProperty(y)&&cu(t,y,e[y])}function Os(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(t){return wd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Es=null;function As(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bn=null,Tn=null;function hu(t){var e=pn(t);if(e&&(t=e.stateNode)){var i=t[Ce]||null;t:switch(t=e.stateNode,e.type){case"input":if(xs(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Le(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var o=i[e];if(o!==t&&o.form===t.form){var g=o[Ce]||null;if(!g)throw Error(D(90));xs(o,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(e=0;e<i.length;e++)o=i[e],o.form===t.form&&su(o)}break t;case"textarea":ou(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Sn(t,!!i.multiple,e,!1)}}}var Ds=!1;function du(t,e,i){if(Ds)return t(e,i);Ds=!0;try{var o=t(e);return o}finally{if(Ds=!1,(bn!==null||Tn!==null)&&(Wr(),bn&&(e=bn,t=Tn,Tn=bn=null,hu(e),t)))for(e=0;e<t.length;e++)hu(t[e])}}function ia(t,e){var i=t.stateNode;if(i===null)return null;var o=i[Ce]||null;if(o===null)return null;i=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(D(231,e,typeof i));return i}var Ms=!1;if(ii)try{var na={};Object.defineProperty(na,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Ms=!1}var bi=null,Rs=null,fr=null;function gu(){if(fr)return fr;var t,e=Rs,i=e.length,o,g="value"in bi?bi.value:bi.textContent,y=g.length;for(t=0;t<i&&e[t]===g[t];t++);var T=i-t;for(o=1;o<=T&&e[i-o]===g[y-o];o++);return fr=g.slice(t,1<o?1-o:void 0)}function hr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dr(){return!0}function mu(){return!1}function be(t){function e(i,o,g,y,T){this._reactName=i,this._targetInst=g,this.type=o,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(i=t[A],this[A]=i?i(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?dr:mu,this.isPropagationStopped=mu,this}return K(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),e}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gr=be(Qi),aa=K({},Qi,{view:0,detail:0}),Od=be(aa),Ls,Bs,ra,mr=K({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ra&&(ra&&t.type==="mousemove"?(Ls=t.screenX-ra.screenX,Bs=t.screenY-ra.screenY):Bs=Ls=0,ra=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:Bs}}),vu=be(mr),Ed=K({},mr,{dataTransfer:0}),Ad=be(Ed),Dd=K({},aa,{relatedTarget:0}),js=be(Dd),Md=K({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Rd=be(Md),Ld=K({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bd=be(Ld),jd=K({},Qi,{data:0}),pu=be(jd),kd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ud={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ud[t])?!!e[t]:!1}function ks(){return Pd}var Hd=K({},aa,{key:function(t){if(t.key){var e=kd[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zd[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yd=be(Hd),Xd=K({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=be(Xd),Nd=K({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),Fd=be(Nd),Gd=K({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vd=be(Gd),qd=K({},mr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wd=be(qd),Id=K({},Qi,{newState:0,oldState:0}),Qd=be(Id),Zd=[9,13,27,32],zs=ii&&"CompositionEvent"in window,sa=null;ii&&"documentMode"in document&&(sa=document.documentMode);var Kd=ii&&"TextEvent"in window&&!sa,_u=ii&&(!zs||sa&&8<sa&&11>=sa),Su=" ",Cu=!1;function bu(t,e){switch(t){case"keyup":return Zd.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xn=!1;function Jd(t,e){switch(t){case"compositionend":return Tu(e);case"keypress":return e.which!==32?null:(Cu=!0,Su);case"textInput":return t=e.data,t===Su&&Cu?null:t;default:return null}}function $d(t,e){if(xn)return t==="compositionend"||!zs&&bu(t,e)?(t=gu(),fr=Rs=bi=null,xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _u&&e.locale!=="ko"?null:e.data;default:return null}}var tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tg[t.type]:e==="textarea"}function wu(t,e,i,o){bn?Tn?Tn.push(o):Tn=[o]:bn=o,e=Jr(e,"onChange"),0<e.length&&(i=new gr("onChange","change",null,i,o),t.push({event:i,listeners:e}))}var la=null,oa=null;function eg(t){Jf(t,0)}function vr(t){var e=ea(t);if(su(e))return t}function Ou(t,e){if(t==="change")return e}var Eu=!1;if(ii){var Us;if(ii){var Ps="oninput"in document;if(!Ps){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),Ps=typeof Au.oninput=="function"}Us=Ps}else Us=!1;Eu=Us&&(!document.documentMode||9<document.documentMode)}function Du(){la&&(la.detachEvent("onpropertychange",Mu),oa=la=null)}function Mu(t){if(t.propertyName==="value"&&vr(oa)){var e=[];wu(e,oa,t,As(t)),du(eg,e)}}function ig(t,e,i){t==="focusin"?(Du(),la=e,oa=i,la.attachEvent("onpropertychange",Mu)):t==="focusout"&&Du()}function ng(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vr(oa)}function ag(t,e){if(t==="click")return vr(e)}function rg(t,e){if(t==="input"||t==="change")return vr(e)}function sg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var we=typeof Object.is=="function"?Object.is:sg;function ua(t,e){if(we(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var g=i[o];if(!Ct.call(e,g)||!we(t[g],e[g]))return!1}return!0}function Ru(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lu(t,e){var i=Ru(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=e&&o>=e)return{node:i,offset:e-t};t=o}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Ru(i)}}function Bu(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bu(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ju(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ur(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=ur(t.document)}return e}function Hs(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lg(t,e){var i=ju(e);e=t.focusedElem;var o=t.selectionRange;if(i!==e&&e&&e.ownerDocument&&Bu(e.ownerDocument.documentElement,e)){if(o!==null&&Hs(e)){if(t=o.start,i=o.end,i===void 0&&(i=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(i,e.value.length);else if(i=(t=e.ownerDocument||document)&&t.defaultView||window,i.getSelection){i=i.getSelection();var g=e.textContent.length,y=Math.min(o.start,g);o=o.end===void 0?y:Math.min(o.end,g),!i.extend&&y>o&&(g=o,o=y,y=g),g=Lu(e,y);var T=Lu(e,o);g&&T&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(t=t.createRange(),t.setStart(g.node,g.offset),i.removeAllRanges(),y>o?(i.addRange(t),i.extend(T.node,T.offset)):(t.setEnd(T.node,T.offset),i.addRange(t)))}}for(t=[],i=e;i=i.parentNode;)i.nodeType===1&&t.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)i=t[e],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var og=ii&&"documentMode"in document&&11>=document.documentMode,wn=null,Ys=null,ca=null,Xs=!1;function ku(t,e,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Xs||wn==null||wn!==ur(o)||(o=wn,"selectionStart"in o&&Hs(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ca&&ua(ca,o)||(ca=o,o=Jr(Ys,"onSelect"),0<o.length&&(e=new gr("onSelect","select",null,e,i),t.push({event:e,listeners:o}),e.target=wn)))}function Zi(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var On={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},Ns={},zu={};ii&&(zu=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function Ki(t){if(Ns[t])return Ns[t];if(!On[t])return t;var e=On[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in zu)return Ns[t]=e[i];return t}var Uu=Ki("animationend"),Pu=Ki("animationiteration"),Hu=Ki("animationstart"),ug=Ki("transitionrun"),cg=Ki("transitionstart"),fg=Ki("transitioncancel"),Yu=Ki("transitionend"),Xu=new Map,Nu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Fe(t,e){Xu.set(t,e),Ii(e,[t])}var Be=[],En=0,Fs=0;function pr(){for(var t=En,e=Fs=En=0;e<t;){var i=Be[e];Be[e++]=null;var o=Be[e];Be[e++]=null;var g=Be[e];Be[e++]=null;var y=Be[e];if(Be[e++]=null,o!==null&&g!==null){var T=o.pending;T===null?g.next=g:(g.next=T.next,T.next=g),o.pending=g}y!==0&&Fu(i,g,y)}}function yr(t,e,i,o){Be[En++]=t,Be[En++]=e,Be[En++]=i,Be[En++]=o,Fs|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Gs(t,e,i,o){return yr(t,e,i,o),_r(t)}function Ti(t,e){return yr(t,null,null,e),_r(t)}function Fu(t,e,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var g=!1,y=t.return;y!==null;)y.childLanes|=i,o=y.alternate,o!==null&&(o.childLanes|=i),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(g=!0)),t=y,y=y.return;g&&e!==null&&t.tag===3&&(y=t.stateNode,g=31-xe(i),y=y.hiddenUpdates,t=y[g],t===null?y[g]=[e]:t.push(e),e.lane=i|536870912)}function _r(t){if(50<ka)throw ka=0,Zl=null,Error(D(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var An={},Gu=new WeakMap;function je(t,e){if(typeof t=="object"&&t!==null){var i=Gu.get(t);return i!==void 0?i:(e={value:t,source:e,stack:mt(e)},Gu.set(t,e),e)}return{value:t,source:e,stack:mt(e)}}var Dn=[],Mn=0,Sr=null,Cr=0,ke=[],ze=0,Ji=null,ai=1,ri="";function $i(t,e){Dn[Mn++]=Cr,Dn[Mn++]=Sr,Sr=t,Cr=e}function Vu(t,e,i){ke[ze++]=ai,ke[ze++]=ri,ke[ze++]=Ji,Ji=t;var o=ai;t=ri;var g=32-xe(o)-1;o&=~(1<<g),i+=1;var y=32-xe(e)+g;if(30<y){var T=g-g%5;y=(o&(1<<T)-1).toString(32),o>>=T,g-=T,ai=1<<32-xe(e)+g|i<<g|o,ri=y+t}else ai=1<<y|i<<g|o,ri=t}function Vs(t){t.return!==null&&($i(t,1),Vu(t,1,0))}function qs(t){for(;t===Sr;)Sr=Dn[--Mn],Dn[Mn]=null,Cr=Dn[--Mn],Dn[Mn]=null;for(;t===Ji;)Ji=ke[--ze],ke[ze]=null,ri=ke[--ze],ke[ze]=null,ai=ke[--ze],ke[ze]=null}var _e=null,he=null,Yt=!1,Ge=null,Qe=!1,Ws=Error(D(519));function tn(t){var e=Error(D(418,""));throw da(je(e,t)),Ws}function qu(t){var e=t.stateNode,i=t.type,o=t.memoizedProps;switch(e[ve]=t,e[Ce]=o,i){case"dialog":Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":case"embed":Ut("load",e);break;case"video":case"audio":for(i=0;i<Ua.length;i++)Ut(Ua[i],e);break;case"source":Ut("error",e);break;case"img":case"image":case"link":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"input":Ut("invalid",e),lu(e,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),or(e);break;case"select":Ut("invalid",e);break;case"textarea":Ut("invalid",e),uu(e,o.value,o.defaultValue,o.children),or(e)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||o.suppressHydrationWarning===!0||ih(e.textContent,i)?(o.popover!=null&&(Ut("beforetoggle",e),Ut("toggle",e)),o.onScroll!=null&&Ut("scroll",e),o.onScrollEnd!=null&&Ut("scrollend",e),o.onClick!=null&&(e.onclick=$r),e=!0):e=!1,e||tn(t)}function Wu(t){for(_e=t.return;_e;)switch(_e.tag){case 3:case 27:Qe=!0;return;case 5:case 13:Qe=!1;return;default:_e=_e.return}}function fa(t){if(t!==_e)return!1;if(!Yt)return Wu(t),Yt=!0,!1;var e=!1,i;if((i=t.tag!==3&&t.tag!==27)&&((i=t.tag===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||go(t.type,t.memoizedProps)),i=!i),i&&(e=!0),e&&he&&tn(t),Wu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){he=qe(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}he=null}}else he=_e?qe(t.stateNode.nextSibling):null;return!0}function ha(){he=_e=null,Yt=!1}function da(t){Ge===null?Ge=[t]:Ge.push(t)}var ga=Error(D(460)),Iu=Error(D(474)),Is={then:function(){}};function Qu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function br(){}function Zu(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(br,br),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===ga?Error(D(483)):t;default:if(typeof e.status=="string")e.then(br,br);else{if(t=qt,t!==null&&100<t.shellSuspendCounter)throw Error(D(482));t=e,t.status="pending",t.then(function(o){if(e.status==="pending"){var g=e;g.status="fulfilled",g.value=o}},function(o){if(e.status==="pending"){var g=e;g.status="rejected",g.reason=o}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===ga?Error(D(483)):t}throw ma=e,ga}}var ma=null;function Ku(){if(ma===null)throw Error(D(459));var t=ma;return ma=null,t}var Rn=null,va=0;function Tr(t){var e=va;return va+=1,Rn===null&&(Rn=[]),Zu(Rn,t,e)}function pa(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function xr(t,e){throw e.$$typeof===F?Error(D(525)):(t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ju(t){var e=t._init;return e(t._payload)}function $u(t){function e(V,Y){if(t){var I=V.deletions;I===null?(V.deletions=[Y],V.flags|=16):I.push(Y)}}function i(V,Y){if(!t)return null;for(;Y!==null;)e(V,Y),Y=Y.sibling;return null}function o(V){for(var Y=new Map;V!==null;)V.key!==null?Y.set(V.key,V):Y.set(V.index,V),V=V.sibling;return Y}function g(V,Y){return V=ki(V,Y),V.index=0,V.sibling=null,V}function y(V,Y,I){return V.index=I,t?(I=V.alternate,I!==null?(I=I.index,I<Y?(V.flags|=33554434,Y):I):(V.flags|=33554434,Y)):(V.flags|=1048576,Y)}function T(V){return t&&V.alternate===null&&(V.flags|=33554434),V}function A(V,Y,I,ct){return Y===null||Y.tag!==6?(Y=Nl(I,V.mode,ct),Y.return=V,Y):(Y=g(Y,I),Y.return=V,Y)}function z(V,Y,I,ct){var bt=I.type;return bt===l?at(V,Y,I.props.children,ct,I.key):Y!==null&&(Y.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===p&&Ju(bt)===Y.type)?(Y=g(Y,I.props),pa(Y,I),Y.return=V,Y):(Y=Nr(I.type,I.key,I.props,null,V.mode,ct),pa(Y,I),Y.return=V,Y)}function N(V,Y,I,ct){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==I.containerInfo||Y.stateNode.implementation!==I.implementation?(Y=Fl(I,V.mode,ct),Y.return=V,Y):(Y=g(Y,I.children||[]),Y.return=V,Y)}function at(V,Y,I,ct,bt){return Y===null||Y.tag!==7?(Y=fn(I,V.mode,ct,bt),Y.return=V,Y):(Y=g(Y,I),Y.return=V,Y)}function gt(V,Y,I){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Nl(""+Y,V.mode,I),Y.return=V,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return I=Nr(Y.type,Y.key,Y.props,null,V.mode,I),pa(I,Y),I.return=V,I;case m:return Y=Fl(Y,V.mode,I),Y.return=V,Y;case p:var ct=Y._init;return Y=ct(Y._payload),gt(V,Y,I)}if(X(Y)||w(Y))return Y=fn(Y,V.mode,I,null),Y.return=V,Y;if(typeof Y.then=="function")return gt(V,Tr(Y),I);if(Y.$$typeof===n)return gt(V,Hr(V,Y),I);xr(V,Y)}return null}function Z(V,Y,I,ct){var bt=Y!==null?Y.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return bt!==null?null:A(V,Y,""+I,ct);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $:return I.key===bt?z(V,Y,I,ct):null;case m:return I.key===bt?N(V,Y,I,ct):null;case p:return bt=I._init,I=bt(I._payload),Z(V,Y,I,ct)}if(X(I)||w(I))return bt!==null?null:at(V,Y,I,ct,null);if(typeof I.then=="function")return Z(V,Y,Tr(I),ct);if(I.$$typeof===n)return Z(V,Y,Hr(V,I),ct);xr(V,I)}return null}function nt(V,Y,I,ct,bt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return V=V.get(I)||null,A(Y,V,""+ct,bt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case $:return V=V.get(ct.key===null?I:ct.key)||null,z(Y,V,ct,bt);case m:return V=V.get(ct.key===null?I:ct.key)||null,N(Y,V,ct,bt);case p:var jt=ct._init;return ct=jt(ct._payload),nt(V,Y,I,ct,bt)}if(X(ct)||w(ct))return V=V.get(I)||null,at(Y,V,ct,bt,null);if(typeof ct.then=="function")return nt(V,Y,I,Tr(ct),bt);if(ct.$$typeof===n)return nt(V,Y,I,Hr(Y,ct),bt);xr(Y,ct)}return null}function xt(V,Y,I,ct){for(var bt=null,jt=null,Ot=Y,At=Y=0,fe=null;Ot!==null&&At<I.length;At++){Ot.index>At?(fe=Ot,Ot=null):fe=Ot.sibling;var Xt=Z(V,Ot,I[At],ct);if(Xt===null){Ot===null&&(Ot=fe);break}t&&Ot&&Xt.alternate===null&&e(V,Ot),Y=y(Xt,Y,At),jt===null?bt=Xt:jt.sibling=Xt,jt=Xt,Ot=fe}if(At===I.length)return i(V,Ot),Yt&&$i(V,At),bt;if(Ot===null){for(;At<I.length;At++)Ot=gt(V,I[At],ct),Ot!==null&&(Y=y(Ot,Y,At),jt===null?bt=Ot:jt.sibling=Ot,jt=Ot);return Yt&&$i(V,At),bt}for(Ot=o(Ot);At<I.length;At++)fe=nt(Ot,V,At,I[At],ct),fe!==null&&(t&&fe.alternate!==null&&Ot.delete(fe.key===null?At:fe.key),Y=y(fe,Y,At),jt===null?bt=fe:jt.sibling=fe,jt=fe);return t&&Ot.forEach(function(Ni){return e(V,Ni)}),Yt&&$i(V,At),bt}function Mt(V,Y,I,ct){if(I==null)throw Error(D(151));for(var bt=null,jt=null,Ot=Y,At=Y=0,fe=null,Xt=I.next();Ot!==null&&!Xt.done;At++,Xt=I.next()){Ot.index>At?(fe=Ot,Ot=null):fe=Ot.sibling;var Ni=Z(V,Ot,Xt.value,ct);if(Ni===null){Ot===null&&(Ot=fe);break}t&&Ot&&Ni.alternate===null&&e(V,Ot),Y=y(Ni,Y,At),jt===null?bt=Ni:jt.sibling=Ni,jt=Ni,Ot=fe}if(Xt.done)return i(V,Ot),Yt&&$i(V,At),bt;if(Ot===null){for(;!Xt.done;At++,Xt=I.next())Xt=gt(V,Xt.value,ct),Xt!==null&&(Y=y(Xt,Y,At),jt===null?bt=Xt:jt.sibling=Xt,jt=Xt);return Yt&&$i(V,At),bt}for(Ot=o(Ot);!Xt.done;At++,Xt=I.next())Xt=nt(Ot,V,At,Xt.value,ct),Xt!==null&&(t&&Xt.alternate!==null&&Ot.delete(Xt.key===null?At:Xt.key),Y=y(Xt,Y,At),jt===null?bt=Xt:jt.sibling=Xt,jt=Xt);return t&&Ot.forEach(function(wm){return e(V,wm)}),Yt&&$i(V,At),bt}function $t(V,Y,I,ct){if(typeof I=="object"&&I!==null&&I.type===l&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case $:t:{for(var bt=I.key;Y!==null;){if(Y.key===bt){if(bt=I.type,bt===l){if(Y.tag===7){i(V,Y.sibling),ct=g(Y,I.props.children),ct.return=V,V=ct;break t}}else if(Y.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===p&&Ju(bt)===Y.type){i(V,Y.sibling),ct=g(Y,I.props),pa(ct,I),ct.return=V,V=ct;break t}i(V,Y);break}else e(V,Y);Y=Y.sibling}I.type===l?(ct=fn(I.props.children,V.mode,ct,I.key),ct.return=V,V=ct):(ct=Nr(I.type,I.key,I.props,null,V.mode,ct),pa(ct,I),ct.return=V,V=ct)}return T(V);case m:t:{for(bt=I.key;Y!==null;){if(Y.key===bt)if(Y.tag===4&&Y.stateNode.containerInfo===I.containerInfo&&Y.stateNode.implementation===I.implementation){i(V,Y.sibling),ct=g(Y,I.children||[]),ct.return=V,V=ct;break t}else{i(V,Y);break}else e(V,Y);Y=Y.sibling}ct=Fl(I,V.mode,ct),ct.return=V,V=ct}return T(V);case p:return bt=I._init,I=bt(I._payload),$t(V,Y,I,ct)}if(X(I))return xt(V,Y,I,ct);if(w(I)){if(bt=w(I),typeof bt!="function")throw Error(D(150));return I=bt.call(I),Mt(V,Y,I,ct)}if(typeof I.then=="function")return $t(V,Y,Tr(I),ct);if(I.$$typeof===n)return $t(V,Y,Hr(V,I),ct);xr(V,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,Y!==null&&Y.tag===6?(i(V,Y.sibling),ct=g(Y,I),ct.return=V,V=ct):(i(V,Y),ct=Nl(I,V.mode,ct),ct.return=V,V=ct),T(V)):i(V,Y)}return function(V,Y,I,ct){try{va=0;var bt=$t(V,Y,I,ct);return Rn=null,bt}catch(Ot){if(Ot===ga)throw Ot;var jt=Ye(29,Ot,null,V.mode);return jt.lanes=ct,jt.return=V,jt}finally{}}}var en=$u(!0),tc=$u(!1),Ln=Q(null),wr=Q(0);function ec(t,e){t=vi,it(wr,t),it(Ln,e),vi=t|e.baseLanes}function Qs(){it(wr,vi),it(Ln,Ln.current)}function Zs(){vi=wr.current,W(Ln),W(wr)}var Ue=Q(null),Ze=null;function xi(t){var e=t.alternate;it(re,re.current&1),it(Ue,t),Ze===null&&(e===null||Ln.current!==null||e.memoizedState!==null)&&(Ze=t)}function ic(t){if(t.tag===22){if(it(re,re.current),it(Ue,t),Ze===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ze=t)}}else wi()}function wi(){it(re,re.current),it(Ue,Ue.current)}function si(t){W(Ue),Ze===t&&(Ze=null),W(re)}var re=Q(0);function Or(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hg=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},dg=C.unstable_scheduleCallback,gg=C.unstable_NormalPriority,se={$$typeof:n,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ks(){return{controller:new hg,data:new Map,refCount:0}}function ya(t){t.refCount--,t.refCount===0&&dg(gg,function(){t.controller.abort()})}var _a=null,Js=0,Bn=0,jn=null;function mg(t,e){if(_a===null){var i=_a=[];Js=0,Bn=ao(),jn={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Js++,e.then(nc,nc),e}function nc(){if(--Js===0&&_a!==null){jn!==null&&(jn.status="fulfilled");var t=_a;_a=null,Bn=0,jn=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function vg(t,e){var i=[],o={status:"pending",value:null,reason:null,then:function(g){i.push(g)}};return t.then(function(){o.status="fulfilled",o.value=e;for(var g=0;g<i.length;g++)(0,i[g])(e)},function(g){for(o.status="rejected",o.reason=g,g=0;g<i.length;g++)(0,i[g])(void 0)}),o}var ac=H.S;H.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&mg(t,e),ac!==null&&ac(t,e)};var nn=Q(null);function $s(){var t=nn.current;return t!==null?t:qt.pooledCache}function Er(t,e){e===null?it(nn,nn.current):it(nn,e.pool)}function rc(){var t=$s();return t===null?null:{parent:se._currentValue,pool:t}}var Oi=0,Bt=null,Nt=null,ie=null,Ar=!1,kn=!1,an=!1,Dr=0,Sa=0,zn=null,pg=0;function te(){throw Error(D(321))}function tl(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!we(t[i],e[i]))return!1;return!0}function el(t,e,i,o,g,y){return Oi=y,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,H.H=t===null||t.memoizedState===null?rn:Ei,an=!1,y=i(o,g),an=!1,kn&&(y=lc(e,i,o,g)),sc(t),y}function sc(t){H.H=Ke;var e=Nt!==null&&Nt.next!==null;if(Oi=0,ie=Nt=Bt=null,Ar=!1,Sa=0,zn=null,e)throw Error(D(300));t===null||ue||(t=t.dependencies,t!==null&&Pr(t)&&(ue=!0))}function lc(t,e,i,o){Bt=t;var g=0;do{if(kn&&(zn=null),Sa=0,kn=!1,25<=g)throw Error(D(301));if(g+=1,ie=Nt=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=sn,y=e(i,o)}while(kn);return y}function yg(){var t=H.H,e=t.useState()[0];return e=typeof e.then=="function"?Ca(e):e,t=t.useState()[0],(Nt!==null?Nt.memoizedState:null)!==t&&(Bt.flags|=1024),e}function il(){var t=Dr!==0;return Dr=0,t}function nl(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function al(t){if(Ar){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ar=!1}Oi=0,ie=Nt=Bt=null,kn=!1,Sa=Dr=0,zn=null}function Te(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?Bt.memoizedState=ie=t:ie=ie.next=t,ie}function ne(){if(Nt===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=ie===null?Bt.memoizedState:ie.next;if(e!==null)ie=e,Nt=t;else{if(t===null)throw Bt.alternate===null?Error(D(467)):Error(D(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},ie===null?Bt.memoizedState=ie=t:ie=ie.next=t}return ie}var Mr;Mr=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ca(t){var e=Sa;return Sa+=1,zn===null&&(zn=[]),t=Zu(zn,t,e),e=Bt,(ie===null?e.memoizedState:ie.next)===null&&(e=e.alternate,H.H=e===null||e.memoizedState===null?rn:Ei),t}function Rr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ca(t);if(t.$$typeof===n)return pe(t)}throw Error(D(438,String(t)))}function rl(t){var e=null,i=Bt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var o=Bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(e={data:o.data.map(function(g){return g.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Mr(),Bt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),o=0;o<t;o++)i[o]=S;return e.index++,i}function li(t,e){return typeof e=="function"?e(t):e}function Lr(t){var e=ne();return sl(e,Nt,t)}function sl(t,e,i){var o=t.queue;if(o===null)throw Error(D(311));o.lastRenderedReducer=i;var g=t.baseQueue,y=o.pending;if(y!==null){if(g!==null){var T=g.next;g.next=y.next,y.next=T}e.baseQueue=g=y,o.pending=null}if(y=t.baseState,g===null)t.memoizedState=y;else{e=g.next;var A=T=null,z=null,N=e,at=!1;do{var gt=N.lane&-536870913;if(gt!==N.lane?(Pt&gt)===gt:(Oi&gt)===gt){var Z=N.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),gt===Bn&&(at=!0);else if((Oi&Z)===Z){N=N.next,Z===Bn&&(at=!0);continue}else gt={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},z===null?(A=z=gt,T=y):z=z.next=gt,Bt.lanes|=Z,zi|=Z;gt=N.action,an&&i(y,gt),y=N.hasEagerState?N.eagerState:i(y,gt)}else Z={lane:gt,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},z===null?(A=z=Z,T=y):z=z.next=Z,Bt.lanes|=gt,zi|=gt;N=N.next}while(N!==null&&N!==e);if(z===null?T=y:z.next=A,!we(y,t.memoizedState)&&(ue=!0,at&&(i=jn,i!==null)))throw i;t.memoizedState=y,t.baseState=T,t.baseQueue=z,o.lastRenderedState=y}return g===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ll(t){var e=ne(),i=e.queue;if(i===null)throw Error(D(311));i.lastRenderedReducer=t;var o=i.dispatch,g=i.pending,y=e.memoizedState;if(g!==null){i.pending=null;var T=g=g.next;do y=t(y,T.action),T=T.next;while(T!==g);we(y,e.memoizedState)||(ue=!0),e.memoizedState=y,e.baseQueue===null&&(e.baseState=y),i.lastRenderedState=y}return[y,o]}function oc(t,e,i){var o=Bt,g=ne(),y=Yt;if(y){if(i===void 0)throw Error(D(407));i=i()}else i=e();var T=!we((Nt||g).memoizedState,i);if(T&&(g.memoizedState=i,ue=!0),g=g.queue,cl(fc.bind(null,o,g,t),[t]),g.getSnapshot!==e||T||ie!==null&&ie.memoizedState.tag&1){if(o.flags|=2048,Un(9,cc.bind(null,o,g,i,e),{destroy:void 0},null),qt===null)throw Error(D(349));y||Oi&60||uc(o,e,i)}return i}function uc(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Bt.updateQueue,e===null?(e=Mr(),Bt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function cc(t,e,i,o){e.value=i,e.getSnapshot=o,hc(e)&&dc(t)}function fc(t,e,i){return i(function(){hc(e)&&dc(t)})}function hc(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!we(t,i)}catch{return!0}}function dc(t){var e=Ti(t,2);e!==null&&Se(e,t,2)}function ol(t){var e=Te();if(typeof t=="function"){var i=t;if(t=i(),an){Ie(!0);try{i()}finally{Ie(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},e}function gc(t,e,i,o){return t.baseState=i,sl(t,Nt,typeof o=="function"?o:li)}function _g(t,e,i,o,g){if(kr(t))throw Error(D(485));if(t=e.action,t!==null){var y={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};H.T!==null?i(!0):y.isTransition=!1,o(y),i=e.pending,i===null?(y.next=e.pending=y,mc(e,y)):(y.next=i.next,e.pending=i.next=y)}}function mc(t,e){var i=e.action,o=e.payload,g=t.state;if(e.isTransition){var y=H.T,T={};H.T=T;try{var A=i(g,o),z=H.S;z!==null&&z(T,A),vc(t,e,A)}catch(N){ul(t,e,N)}finally{H.T=y}}else try{y=i(g,o),vc(t,e,y)}catch(N){ul(t,e,N)}}function vc(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){pc(t,e,o)},function(o){return ul(t,e,o)}):pc(t,e,i)}function pc(t,e,i){e.status="fulfilled",e.value=i,yc(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,mc(t,i)))}function ul(t,e,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do e.status="rejected",e.reason=i,yc(e),e=e.next;while(e!==o)}t.action=null}function yc(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function _c(t,e){return e}function Sc(t,e){if(Yt){var i=qt.formState;if(i!==null){t:{var o=Bt;if(Yt){if(he){e:{for(var g=he,y=Qe;g.nodeType!==8;){if(!y){g=null;break e}if(g=qe(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){he=qe(g.nextSibling),o=g.data==="F!";break t}}tn(o)}o=!1}o&&(e=i[0])}}return i=Te(),i.memoizedState=i.baseState=e,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:e},i.queue=o,i=Pc.bind(null,Bt,o),o.dispatch=i,o=ol(!1),y=ml.bind(null,Bt,!1,o.queue),o=Te(),g={state:e,dispatch:null,action:t,pending:null},o.queue=g,i=_g.bind(null,Bt,g,y,i),g.dispatch=i,o.memoizedState=t,[e,i,!1]}function Cc(t){var e=ne();return bc(e,Nt,t)}function bc(t,e,i){e=sl(t,e,_c)[0],t=Lr(li)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?Ca(e):e;var o=ne(),g=o.queue,y=g.dispatch;return i!==o.memoizedState&&(Bt.flags|=2048,Un(9,Sg.bind(null,g,i),{destroy:void 0},null)),[e,y,t]}function Sg(t,e){t.action=e}function Tc(t){var e=ne(),i=Nt;if(i!==null)return bc(e,i,t);ne(),e=e.memoizedState,i=ne();var o=i.queue.dispatch;return i.memoizedState=t,[e,o,!1]}function Un(t,e,i,o){return t={tag:t,create:e,inst:i,deps:o,next:null},e=Bt.updateQueue,e===null&&(e=Mr(),Bt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,e.lastEffect=t),t}function xc(){return ne().memoizedState}function Br(t,e,i,o){var g=Te();Bt.flags|=t,g.memoizedState=Un(1|e,i,{destroy:void 0},o===void 0?null:o)}function jr(t,e,i,o){var g=ne();o=o===void 0?null:o;var y=g.memoizedState.inst;Nt!==null&&o!==null&&tl(o,Nt.memoizedState.deps)?g.memoizedState=Un(e,i,y,o):(Bt.flags|=t,g.memoizedState=Un(1|e,i,y,o))}function wc(t,e){Br(8390656,8,t,e)}function cl(t,e){jr(2048,8,t,e)}function Oc(t,e){return jr(4,2,t,e)}function Ec(t,e){return jr(4,4,t,e)}function Ac(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dc(t,e,i){i=i!=null?i.concat([t]):null,jr(4,4,Ac.bind(null,e,t),i)}function fl(){}function Mc(t,e){var i=ne();e=e===void 0?null:e;var o=i.memoizedState;return e!==null&&tl(e,o[1])?o[0]:(i.memoizedState=[t,e],t)}function Rc(t,e){var i=ne();e=e===void 0?null:e;var o=i.memoizedState;if(e!==null&&tl(e,o[1]))return o[0];if(o=t(),an){Ie(!0);try{t()}finally{Ie(!1)}}return i.memoizedState=[o,e],o}function hl(t,e,i){return i===void 0||Oi&1073741824?t.memoizedState=e:(t.memoizedState=i,t=jf(),Bt.lanes|=t,zi|=t,i)}function Lc(t,e,i,o){return we(i,e)?i:Ln.current!==null?(t=hl(t,i,o),we(t,e)||(ue=!0),t):Oi&42?(t=jf(),Bt.lanes|=t,zi|=t,e):(ue=!0,t.memoizedState=i)}function Bc(t,e,i,o,g){var y=R.p;R.p=y!==0&&8>y?y:8;var T=H.T,A={};H.T=A,ml(t,!1,e,i);try{var z=g(),N=H.S;if(N!==null&&N(A,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var at=vg(z,o);ba(t,e,at,De(t))}else ba(t,e,o,De(t))}catch(gt){ba(t,e,{then:function(){},status:"rejected",reason:gt},De())}finally{R.p=y,H.T=T}}function Cg(){}function dl(t,e,i,o){if(t.tag!==5)throw Error(D(476));var g=jc(t).queue;Bc(t,g,e,E,i===null?Cg:function(){return kc(t),i(o)})}function jc(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:E},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function kc(t){var e=jc(t).next.queue;ba(t,e,{},De())}function gl(){return pe(Na)}function zc(){return ne().memoizedState}function Uc(){return ne().memoizedState}function bg(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=De();t=Mi(i);var o=Ri(e,t,i);o!==null&&(Se(o,e,i),wa(o,e,i)),e={cache:Ks()},t.payload=e;return}e=e.return}}function Tg(t,e,i){var o=De();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},kr(t)?Hc(e,i):(i=Gs(t,e,i,o),i!==null&&(Se(i,t,o),Yc(i,e,o)))}function Pc(t,e,i){var o=De();ba(t,e,i,o)}function ba(t,e,i,o){var g={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(kr(t))Hc(e,g);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=e.lastRenderedReducer,y!==null))try{var T=e.lastRenderedState,A=y(T,i);if(g.hasEagerState=!0,g.eagerState=A,we(A,T))return yr(t,e,g,0),qt===null&&pr(),!1}catch{}finally{}if(i=Gs(t,e,g,o),i!==null)return Se(i,t,o),Yc(i,e,o),!0}return!1}function ml(t,e,i,o){if(o={lane:2,revertLane:ao(),action:o,hasEagerState:!1,eagerState:null,next:null},kr(t)){if(e)throw Error(D(479))}else e=Gs(t,i,o,2),e!==null&&Se(e,t,2)}function kr(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function Hc(t,e){kn=Ar=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Yc(t,e,i){if(i&4194176){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,Ko(t,i)}}var Ke={readContext:pe,use:Rr,useCallback:te,useContext:te,useEffect:te,useImperativeHandle:te,useLayoutEffect:te,useInsertionEffect:te,useMemo:te,useReducer:te,useRef:te,useState:te,useDebugValue:te,useDeferredValue:te,useTransition:te,useSyncExternalStore:te,useId:te};Ke.useCacheRefresh=te,Ke.useMemoCache=te,Ke.useHostTransitionStatus=te,Ke.useFormState=te,Ke.useActionState=te,Ke.useOptimistic=te;var rn={readContext:pe,use:Rr,useCallback:function(t,e){return Te().memoizedState=[t,e===void 0?null:e],t},useContext:pe,useEffect:wc,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Br(4194308,4,Ac.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Br(4194308,4,t,e)},useInsertionEffect:function(t,e){Br(4,2,t,e)},useMemo:function(t,e){var i=Te();e=e===void 0?null:e;var o=t();if(an){Ie(!0);try{t()}finally{Ie(!1)}}return i.memoizedState=[o,e],o},useReducer:function(t,e,i){var o=Te();if(i!==void 0){var g=i(e);if(an){Ie(!0);try{i(e)}finally{Ie(!1)}}}else g=e;return o.memoizedState=o.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},o.queue=t,t=t.dispatch=Tg.bind(null,Bt,t),[o.memoizedState,t]},useRef:function(t){var e=Te();return t={current:t},e.memoizedState=t},useState:function(t){t=ol(t);var e=t.queue,i=Pc.bind(null,Bt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:fl,useDeferredValue:function(t,e){var i=Te();return hl(i,t,e)},useTransition:function(){var t=ol(!1);return t=Bc.bind(null,Bt,t.queue,!0,!1),Te().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var o=Bt,g=Te();if(Yt){if(i===void 0)throw Error(D(407));i=i()}else{if(i=e(),qt===null)throw Error(D(349));Pt&60||uc(o,e,i)}g.memoizedState=i;var y={value:i,getSnapshot:e};return g.queue=y,wc(fc.bind(null,o,y,t),[t]),o.flags|=2048,Un(9,cc.bind(null,o,y,i,e),{destroy:void 0},null),i},useId:function(){var t=Te(),e=qt.identifierPrefix;if(Yt){var i=ri,o=ai;i=(o&~(1<<32-xe(o)-1)).toString(32)+i,e=":"+e+"R"+i,i=Dr++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=pg++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return Te().memoizedState=bg.bind(null,Bt)}};rn.useMemoCache=rl,rn.useHostTransitionStatus=gl,rn.useFormState=Sc,rn.useActionState=Sc,rn.useOptimistic=function(t){var e=Te();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=ml.bind(null,Bt,!0,i),i.dispatch=e,[t,e]};var Ei={readContext:pe,use:Rr,useCallback:Mc,useContext:pe,useEffect:cl,useImperativeHandle:Dc,useInsertionEffect:Oc,useLayoutEffect:Ec,useMemo:Rc,useReducer:Lr,useRef:xc,useState:function(){return Lr(li)},useDebugValue:fl,useDeferredValue:function(t,e){var i=ne();return Lc(i,Nt.memoizedState,t,e)},useTransition:function(){var t=Lr(li)[0],e=ne().memoizedState;return[typeof t=="boolean"?t:Ca(t),e]},useSyncExternalStore:oc,useId:zc};Ei.useCacheRefresh=Uc,Ei.useMemoCache=rl,Ei.useHostTransitionStatus=gl,Ei.useFormState=Cc,Ei.useActionState=Cc,Ei.useOptimistic=function(t,e){var i=ne();return gc(i,Nt,t,e)};var sn={readContext:pe,use:Rr,useCallback:Mc,useContext:pe,useEffect:cl,useImperativeHandle:Dc,useInsertionEffect:Oc,useLayoutEffect:Ec,useMemo:Rc,useReducer:ll,useRef:xc,useState:function(){return ll(li)},useDebugValue:fl,useDeferredValue:function(t,e){var i=ne();return Nt===null?hl(i,t,e):Lc(i,Nt.memoizedState,t,e)},useTransition:function(){var t=ll(li)[0],e=ne().memoizedState;return[typeof t=="boolean"?t:Ca(t),e]},useSyncExternalStore:oc,useId:zc};sn.useCacheRefresh=Uc,sn.useMemoCache=rl,sn.useHostTransitionStatus=gl,sn.useFormState=Tc,sn.useActionState=Tc,sn.useOptimistic=function(t,e){var i=ne();return Nt!==null?gc(i,Nt,t,e):(i.baseState=t,[t,i.queue.dispatch])};function vl(t,e,i,o){e=t.memoizedState,i=i(o,e),i=i==null?e:K({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var pl={isMounted:function(t){return(t=t._reactInternals)?ft(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var o=De(),g=Mi(o);g.payload=e,i!=null&&(g.callback=i),e=Ri(t,g,o),e!==null&&(Se(e,t,o),wa(e,t,o))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var o=De(),g=Mi(o);g.tag=1,g.payload=e,i!=null&&(g.callback=i),e=Ri(t,g,o),e!==null&&(Se(e,t,o),wa(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=De(),o=Mi(i);o.tag=2,e!=null&&(o.callback=e),e=Ri(t,o,i),e!==null&&(Se(e,t,i),wa(e,t,i))}};function Xc(t,e,i,o,g,y,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,y,T):e.prototype&&e.prototype.isPureReactComponent?!ua(i,o)||!ua(g,y):!0}function Nc(t,e,i,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,o),e.state!==t&&pl.enqueueReplaceState(e,e.state,null)}function ln(t,e){var i=e;if("ref"in e){i={};for(var o in e)o!=="ref"&&(i[o]=e[o])}if(t=t.defaultProps){i===e&&(i=K({},i));for(var g in t)i[g]===void 0&&(i[g]=t[g])}return i}var zr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fc(t){zr(t)}function Gc(t){console.error(t)}function Vc(t){zr(t)}function Ur(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(o){setTimeout(function(){throw o})}}function qc(t,e,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function yl(t,e,i){return i=Mi(i),i.tag=3,i.payload={element:null},i.callback=function(){Ur(t,e)},i}function Wc(t){return t=Mi(t),t.tag=3,t}function Ic(t,e,i,o){var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var y=o.value;t.payload=function(){return g(y)},t.callback=function(){qc(e,i,o)}}var T=i.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){qc(e,i,o),typeof g!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function xg(t,e,i,o,g){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(e=i.alternate,e!==null&&xa(e,i,g,!0),i=Ue.current,i!==null){switch(i.tag){case 13:return Ze===null?$l():i.alternate===null&&Jt===0&&(Jt=3),i.flags&=-257,i.flags|=65536,i.lanes=g,o===Is?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([o]):e.add(o),eo(t,o,g)),!1;case 22:return i.flags|=65536,o===Is?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([o]):i.add(o)),eo(t,o,g)),!1}throw Error(D(435,i.tag))}return eo(t,o,g),$l(),!1}if(Yt)return e=Ue.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=g,o!==Ws&&(t=Error(D(422),{cause:o}),da(je(t,i)))):(o!==Ws&&(e=Error(D(423),{cause:o}),da(je(e,i))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,o=je(o,i),g=yl(t.stateNode,o,g),Bl(t,g),Jt!==4&&(Jt=2)),!1;var y=Error(D(520),{cause:o});if(y=je(y,i),Ba===null?Ba=[y]:Ba.push(y),Jt!==4&&(Jt=2),e===null)return!0;o=je(o,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=g&-g,i.lanes|=t,t=yl(i.stateNode,o,t),Bl(i,t),!1;case 1:if(e=i.type,y=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ui===null||!Ui.has(y))))return i.flags|=65536,g&=-g,i.lanes|=g,g=Wc(g),Ic(g,t,i,o),Bl(i,g),!1}i=i.return}while(i!==null);return!1}var Qc=Error(D(461)),ue=!1;function de(t,e,i,o){e.child=t===null?tc(e,null,i,o):en(e,t.child,i,o)}function Zc(t,e,i,o,g){i=i.render;var y=e.ref;if("ref"in o){var T={};for(var A in o)A!=="ref"&&(T[A]=o[A])}else T=o;return un(e),o=el(t,e,i,T,y,g),A=il(),t!==null&&!ue?(nl(t,e,g),oi(t,e,g)):(Yt&&A&&Vs(e),e.flags|=1,de(t,e,o,g),e.child)}function Kc(t,e,i,o,g){if(t===null){var y=i.type;return typeof y=="function"&&!Xl(y)&&y.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=y,Jc(t,e,y,o,g)):(t=Nr(i.type,null,o,e,e.mode,g),t.ref=e.ref,t.return=e,e.child=t)}if(y=t.child,!El(t,g)){var T=y.memoizedProps;if(i=i.compare,i=i!==null?i:ua,i(T,o)&&t.ref===e.ref)return oi(t,e,g)}return e.flags|=1,t=ki(y,o),t.ref=e.ref,t.return=e,e.child=t}function Jc(t,e,i,o,g){if(t!==null){var y=t.memoizedProps;if(ua(y,o)&&t.ref===e.ref)if(ue=!1,e.pendingProps=o=y,El(t,g))t.flags&131072&&(ue=!0);else return e.lanes=t.lanes,oi(t,e,g)}return _l(t,e,i,o,g)}function $c(t,e,i){var o=e.pendingProps,g=o.children,y=(e.stateNode._pendingVisibility&2)!==0,T=t!==null?t.memoizedState:null;if(Ta(t,e),o.mode==="hidden"||y){if(e.flags&128){if(o=T!==null?T.baseLanes|i:i,t!==null){for(g=e.child=t.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;e.childLanes=y&~o}else e.childLanes=0,e.child=null;return tf(t,e,o,i)}if(i&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Er(e,T!==null?T.cachePool:null),T!==null?ec(e,T):Qs(),ic(e);else return e.lanes=e.childLanes=536870912,tf(t,e,T!==null?T.baseLanes|i:i,i)}else T!==null?(Er(e,T.cachePool),ec(e,T),wi(),e.memoizedState=null):(t!==null&&Er(e,null),Qs(),wi());return de(t,e,g,i),e.child}function tf(t,e,i,o){var g=$s();return g=g===null?null:{parent:se._currentValue,pool:g},e.memoizedState={baseLanes:i,cachePool:g},t!==null&&Er(e,null),Qs(),ic(e),t!==null&&xa(t,e,o,!0),null}function Ta(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof i!="function"&&typeof i!="object")throw Error(D(284));(t===null||t.ref!==i)&&(e.flags|=2097664)}}function _l(t,e,i,o,g){return un(e),i=el(t,e,i,o,void 0,g),o=il(),t!==null&&!ue?(nl(t,e,g),oi(t,e,g)):(Yt&&o&&Vs(e),e.flags|=1,de(t,e,i,g),e.child)}function ef(t,e,i,o,g,y){return un(e),e.updateQueue=null,i=lc(e,o,i,g),sc(t),o=il(),t!==null&&!ue?(nl(t,e,y),oi(t,e,y)):(Yt&&o&&Vs(e),e.flags|=1,de(t,e,i,y),e.child)}function nf(t,e,i,o,g){if(un(e),e.stateNode===null){var y=An,T=i.contextType;typeof T=="object"&&T!==null&&(y=pe(T)),y=new i(o,y),e.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=pl,e.stateNode=y,y._reactInternals=e,y=e.stateNode,y.props=o,y.state=e.memoizedState,y.refs={},Rl(e),T=i.contextType,y.context=typeof T=="object"&&T!==null?pe(T):An,y.state=e.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(vl(e,i,T,o),y.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&pl.enqueueReplaceState(y,y.state,null),Ea(e,o,y,g),Oa(),y.state=e.memoizedState),typeof y.componentDidMount=="function"&&(e.flags|=4194308),o=!0}else if(t===null){y=e.stateNode;var A=e.memoizedProps,z=ln(i,A);y.props=z;var N=y.context,at=i.contextType;T=An,typeof at=="object"&&at!==null&&(T=pe(at));var gt=i.getDerivedStateFromProps;at=typeof gt=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=e.pendingProps!==A,at||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||N!==T)&&Nc(e,y,o,T),Di=!1;var Z=e.memoizedState;y.state=Z,Ea(e,o,y,g),Oa(),N=e.memoizedState,A||Z!==N||Di?(typeof gt=="function"&&(vl(e,i,gt,o),N=e.memoizedState),(z=Di||Xc(e,i,z,o,Z,N,T))?(at||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(e.flags|=4194308)):(typeof y.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=N),y.props=o,y.state=N,y.context=T,o=z):(typeof y.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{y=e.stateNode,Ll(t,e),T=e.memoizedProps,at=ln(i,T),y.props=at,gt=e.pendingProps,Z=y.context,N=i.contextType,z=An,typeof N=="object"&&N!==null&&(z=pe(N)),A=i.getDerivedStateFromProps,(N=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==gt||Z!==z)&&Nc(e,y,o,z),Di=!1,Z=e.memoizedState,y.state=Z,Ea(e,o,y,g),Oa();var nt=e.memoizedState;T!==gt||Z!==nt||Di||t!==null&&t.dependencies!==null&&Pr(t.dependencies)?(typeof A=="function"&&(vl(e,i,A,o),nt=e.memoizedState),(at=Di||Xc(e,i,at,o,Z,nt,z)||t!==null&&t.dependencies!==null&&Pr(t.dependencies))?(N||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(o,nt,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(o,nt,z)),typeof y.componentDidUpdate=="function"&&(e.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&Z===t.memoizedState||(e.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&Z===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=nt),y.props=o,y.state=nt,y.context=z,o=at):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&Z===t.memoizedState||(e.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&Z===t.memoizedState||(e.flags|=1024),o=!1)}return y=o,Ta(t,e),o=(e.flags&128)!==0,y||o?(y=e.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:y.render(),e.flags|=1,t!==null&&o?(e.child=en(e,t.child,null,g),e.child=en(e,null,i,g)):de(t,e,i,g),e.memoizedState=y.state,t=e.child):t=oi(t,e,g),t}function af(t,e,i,o){return ha(),e.flags|=256,de(t,e,i,o),e.child}var Sl={dehydrated:null,treeContext:null,retryLane:0};function Cl(t){return{baseLanes:t,cachePool:rc()}}function bl(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Xe),t}function rf(t,e,i){var o=e.pendingProps,g=!1,y=(e.flags&128)!==0,T;if((T=y)||(T=t!==null&&t.memoizedState===null?!1:(re.current&2)!==0),T&&(g=!0,e.flags&=-129),T=(e.flags&32)!==0,e.flags&=-33,t===null){if(Yt){if(g?xi(e):wi(),Yt){var A=he,z;if(z=A){t:{for(z=A,A=Qe;z.nodeType!==8;){if(!A){A=null;break t}if(z=qe(z.nextSibling),z===null){A=null;break t}}A=z}A!==null?(e.memoizedState={dehydrated:A,treeContext:Ji!==null?{id:ai,overflow:ri}:null,retryLane:536870912},z=Ye(18,null,null,0),z.stateNode=A,z.return=e,e.child=z,_e=e,he=null,z=!0):z=!1}z||tn(e)}if(A=e.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?e.lanes=16:e.lanes=536870912,null;si(e)}return A=o.children,o=o.fallback,g?(wi(),g=e.mode,A=xl({mode:"hidden",children:A},g),o=fn(o,g,i,null),A.return=e,o.return=e,A.sibling=o,e.child=A,g=e.child,g.memoizedState=Cl(i),g.childLanes=bl(t,T,i),e.memoizedState=Sl,o):(xi(e),Tl(e,A))}if(z=t.memoizedState,z!==null&&(A=z.dehydrated,A!==null)){if(y)e.flags&256?(xi(e),e.flags&=-257,e=wl(t,e,i)):e.memoizedState!==null?(wi(),e.child=t.child,e.flags|=128,e=null):(wi(),g=o.fallback,A=e.mode,o=xl({mode:"visible",children:o.children},A),g=fn(g,A,i,null),g.flags|=2,o.return=e,g.return=e,o.sibling=g,e.child=o,en(e,t.child,null,i),o=e.child,o.memoizedState=Cl(i),o.childLanes=bl(t,T,i),e.memoizedState=Sl,e=g);else if(xi(e),A.data==="$!"){if(T=A.nextSibling&&A.nextSibling.dataset,T)var N=T.dgst;T=N,o=Error(D(419)),o.stack="",o.digest=T,da({value:o,source:null,stack:null}),e=wl(t,e,i)}else if(ue||xa(t,e,i,!1),T=(i&t.childLanes)!==0,ue||T){if(T=qt,T!==null){if(o=i&-i,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(T.suspendedLanes|i)?0:o,o!==0&&o!==z.retryLane)throw z.retryLane=o,Ti(t,o),Se(T,t,o),Qc}A.data==="$?"||$l(),e=wl(t,e,i)}else A.data==="$?"?(e.flags|=128,e.child=t.child,e=Hg.bind(null,t),A._reactRetry=e,e=null):(t=z.treeContext,he=qe(A.nextSibling),_e=e,Yt=!0,Ge=null,Qe=!1,t!==null&&(ke[ze++]=ai,ke[ze++]=ri,ke[ze++]=Ji,ai=t.id,ri=t.overflow,Ji=e),e=Tl(e,o.children),e.flags|=4096);return e}return g?(wi(),g=o.fallback,A=e.mode,z=t.child,N=z.sibling,o=ki(z,{mode:"hidden",children:o.children}),o.subtreeFlags=z.subtreeFlags&31457280,N!==null?g=ki(N,g):(g=fn(g,A,i,null),g.flags|=2),g.return=e,o.return=e,o.sibling=g,e.child=o,o=g,g=e.child,A=t.child.memoizedState,A===null?A=Cl(i):(z=A.cachePool,z!==null?(N=se._currentValue,z=z.parent!==N?{parent:N,pool:N}:z):z=rc(),A={baseLanes:A.baseLanes|i,cachePool:z}),g.memoizedState=A,g.childLanes=bl(t,T,i),e.memoizedState=Sl,o):(xi(e),i=t.child,t=i.sibling,i=ki(i,{mode:"visible",children:o.children}),i.return=e,i.sibling=null,t!==null&&(T=e.deletions,T===null?(e.deletions=[t],e.flags|=16):T.push(t)),e.child=i,e.memoizedState=null,i)}function Tl(t,e){return e=xl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function xl(t,e){return Rf(t,e,0,null)}function wl(t,e,i){return en(e,t.child,null,i),t=Tl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sf(t,e,i){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Dl(t.return,e,i)}function Ol(t,e,i,o,g){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:g}:(y.isBackwards=e,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=i,y.tailMode=g)}function lf(t,e,i){var o=e.pendingProps,g=o.revealOrder,y=o.tail;if(de(t,e,o.children,i),o=re.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sf(t,i,e);else if(t.tag===19)sf(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(it(re,o),g){case"forwards":for(i=e.child,g=null;i!==null;)t=i.alternate,t!==null&&Or(t)===null&&(g=i),i=i.sibling;i=g,i===null?(g=e.child,e.child=null):(g=i.sibling,i.sibling=null),Ol(e,!1,g,i,y);break;case"backwards":for(i=null,g=e.child,e.child=null;g!==null;){if(t=g.alternate,t!==null&&Or(t)===null){e.child=g;break}t=g.sibling,g.sibling=i,i=g,g=t}Ol(e,!0,i,null,y);break;case"together":Ol(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),zi|=e.lanes,!(i&e.childLanes))if(t!==null){if(xa(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,i=ki(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=ki(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function El(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Pr(t)))}function wg(t,e,i){switch(e.tag){case 3:rt(e,e.stateNode.containerInfo),Ai(e,se,t.memoizedState.cache),ha();break;case 27:case 5:et(e);break;case 4:rt(e,e.stateNode.containerInfo);break;case 10:Ai(e,e.type,e.memoizedProps.value);break;case 13:var o=e.memoizedState;if(o!==null)return o.dehydrated!==null?(xi(e),e.flags|=128,null):i&e.child.childLanes?rf(t,e,i):(xi(e),t=oi(t,e,i),t!==null?t.sibling:null);xi(e);break;case 19:var g=(t.flags&128)!==0;if(o=(i&e.childLanes)!==0,o||(xa(t,e,i,!1),o=(i&e.childLanes)!==0),g){if(o)return lf(t,e,i);e.flags|=128}if(g=e.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),it(re,re.current),o)break;return null;case 22:case 23:return e.lanes=0,$c(t,e,i);case 24:Ai(e,se,t.memoizedState.cache)}return oi(t,e,i)}function of(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)ue=!0;else{if(!El(t,i)&&!(e.flags&128))return ue=!1,wg(t,e,i);ue=!!(t.flags&131072)}else ue=!1,Yt&&e.flags&1048576&&Vu(e,Cr,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var o=e.elementType,g=o._init;if(o=g(o._payload),e.type=o,typeof o=="function")Xl(o)?(t=ln(o,t),e.tag=1,e=nf(null,e,o,t,i)):(e.tag=0,e=_l(null,e,o,t,i));else{if(o!=null){if(g=o.$$typeof,g===u){e.tag=11,e=Zc(null,e,o,t,i);break t}else if(g===d){e.tag=14,e=Kc(null,e,o,t,i);break t}}throw e=P(o)||o,Error(D(306,e,""))}}return e;case 0:return _l(t,e,e.type,e.pendingProps,i);case 1:return o=e.type,g=ln(o,e.pendingProps),nf(t,e,o,g,i);case 3:t:{if(rt(e,e.stateNode.containerInfo),t===null)throw Error(D(387));var y=e.pendingProps;g=e.memoizedState,o=g.element,Ll(t,e),Ea(e,y,null,i);var T=e.memoizedState;if(y=T.cache,Ai(e,se,y),y!==g.cache&&Ml(e,[se],i,!0),Oa(),y=T.element,g.isDehydrated)if(g={element:y,isDehydrated:!1,cache:T.cache},e.updateQueue.baseState=g,e.memoizedState=g,e.flags&256){e=af(t,e,y,i);break t}else if(y!==o){o=je(Error(D(424)),e),da(o),e=af(t,e,y,i);break t}else for(he=qe(e.stateNode.containerInfo.firstChild),_e=e,Yt=!0,Ge=null,Qe=!0,i=tc(e,null,y,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ha(),y===o){e=oi(t,e,i);break t}de(t,e,y,i)}e=e.child}return e;case 26:return Ta(t,e),t===null?(i=fh(e.type,null,e.pendingProps,null))?e.memoizedState=i:Yt||(i=e.type,t=e.pendingProps,o=ts(J.current).createElement(i),o[ve]=e,o[Ce]=t,ge(o,i,t),oe(o),e.stateNode=o):e.memoizedState=fh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return et(e),t===null&&Yt&&(o=e.stateNode=oh(e.type,e.pendingProps,J.current),_e=e,Qe=!0,he=qe(o.firstChild)),o=e.pendingProps.children,t!==null||Yt?de(t,e,o,i):e.child=en(e,null,o,i),Ta(t,e),e.child;case 5:return t===null&&Yt&&((g=o=he)&&(o=em(o,e.type,e.pendingProps,Qe),o!==null?(e.stateNode=o,_e=e,he=qe(o.firstChild),Qe=!1,g=!0):g=!1),g||tn(e)),et(e),g=e.type,y=e.pendingProps,T=t!==null?t.memoizedProps:null,o=y.children,go(g,y)?o=null:T!==null&&go(g,T)&&(e.flags|=32),e.memoizedState!==null&&(g=el(t,e,yg,null,null,i),Na._currentValue=g),Ta(t,e),de(t,e,o,i),e.child;case 6:return t===null&&Yt&&((t=i=he)&&(i=im(i,e.pendingProps,Qe),i!==null?(e.stateNode=i,_e=e,he=null,t=!0):t=!1),t||tn(e)),null;case 13:return rf(t,e,i);case 4:return rt(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=en(e,null,o,i):de(t,e,o,i),e.child;case 11:return Zc(t,e,e.type,e.pendingProps,i);case 7:return de(t,e,e.pendingProps,i),e.child;case 8:return de(t,e,e.pendingProps.children,i),e.child;case 12:return de(t,e,e.pendingProps.children,i),e.child;case 10:return o=e.pendingProps,Ai(e,e.type,o.value),de(t,e,o.children,i),e.child;case 9:return g=e.type._context,o=e.pendingProps.children,un(e),g=pe(g),o=o(g),e.flags|=1,de(t,e,o,i),e.child;case 14:return Kc(t,e,e.type,e.pendingProps,i);case 15:return Jc(t,e,e.type,e.pendingProps,i);case 19:return lf(t,e,i);case 22:return $c(t,e,i);case 24:return un(e),o=pe(se),t===null?(g=$s(),g===null&&(g=qt,y=Ks(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=i),g=y),e.memoizedState={parent:o,cache:g},Rl(e),Ai(e,se,g)):(t.lanes&i&&(Ll(t,e),Ea(e,null,null,i),Oa()),g=t.memoizedState,y=e.memoizedState,g.parent!==o?(g={parent:o,cache:o},e.memoizedState=g,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=g),Ai(e,se,o)):(o=y.cache,Ai(e,se,o),o!==g.cache&&Ml(e,[se],i,!0))),de(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(D(156,e.tag))}var Al=Q(null),on=null,ui=null;function Ai(t,e,i){it(Al,e._currentValue),e._currentValue=i}function ci(t){t._currentValue=Al.current,W(Al)}function Dl(t,e,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===i)break;t=t.return}}function Ml(t,e,i,o){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var y=g.dependencies;if(y!==null){var T=g.child;y=y.firstContext;t:for(;y!==null;){var A=y;y=g;for(var z=0;z<e.length;z++)if(A.context===e[z]){y.lanes|=i,A=y.alternate,A!==null&&(A.lanes|=i),Dl(y.return,i,t),o||(T=null);break t}y=A.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(D(341));T.lanes|=i,y=T.alternate,y!==null&&(y.lanes|=i),Dl(T,i,t),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===t){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function xa(t,e,i,o){t=null;for(var g=e,y=!1;g!==null;){if(!y){if(g.flags&524288)y=!0;else if(g.flags&262144)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(D(387));if(T=T.memoizedProps,T!==null){var A=g.type;we(g.pendingProps.value,T.value)||(t!==null?t.push(A):t=[A])}}else if(g===q.current){if(T=g.alternate,T===null)throw Error(D(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(Na):t=[Na])}g=g.return}t!==null&&Ml(e,t,i,o),e.flags|=262144}function Pr(t){for(t=t.firstContext;t!==null;){if(!we(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function un(t){on=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pe(t){return uf(on,t)}function Hr(t,e){return on===null&&un(t),uf(t,e)}function uf(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},ui===null){if(t===null)throw Error(D(308));ui=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ui=ui.next=e;return i}var Di=!1;function Rl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ll(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ri(t,e,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,Qt&2){var g=o.pending;return g===null?e.next=e:(e.next=g.next,g.next=e),o.pending=e,e=_r(t),Fu(t,null,i),e}return yr(t,o,e,i),_r(t)}function wa(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194176)!==0)){var o=e.lanes;o&=t.pendingLanes,i|=o,e.lanes=i,Ko(t,i)}}function Bl(t,e){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var g=null,y=null;if(i=i.firstBaseUpdate,i!==null){do{var T={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};y===null?g=y=T:y=y.next=T,i=i.next}while(i!==null);y===null?g=y=e:y=y.next=e}else g=y=e;i={baseState:o.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var jl=!1;function Oa(){if(jl){var t=jn;if(t!==null)throw t}}function Ea(t,e,i,o){jl=!1;var g=t.updateQueue;Di=!1;var y=g.firstBaseUpdate,T=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var z=A,N=z.next;z.next=null,T===null?y=N:T.next=N,T=z;var at=t.alternate;at!==null&&(at=at.updateQueue,A=at.lastBaseUpdate,A!==T&&(A===null?at.firstBaseUpdate=N:A.next=N,at.lastBaseUpdate=z))}if(y!==null){var gt=g.baseState;T=0,at=N=z=null,A=y;do{var Z=A.lane&-536870913,nt=Z!==A.lane;if(nt?(Pt&Z)===Z:(o&Z)===Z){Z!==0&&Z===Bn&&(jl=!0),at!==null&&(at=at.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var xt=t,Mt=A;Z=e;var $t=i;switch(Mt.tag){case 1:if(xt=Mt.payload,typeof xt=="function"){gt=xt.call($t,gt,Z);break t}gt=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Mt.payload,Z=typeof xt=="function"?xt.call($t,gt,Z):xt,Z==null)break t;gt=K({},gt,Z);break t;case 2:Di=!0}}Z=A.callback,Z!==null&&(t.flags|=64,nt&&(t.flags|=8192),nt=g.callbacks,nt===null?g.callbacks=[Z]:nt.push(Z))}else nt={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},at===null?(N=at=nt,z=gt):at=at.next=nt,T|=Z;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;nt=A,A=nt.next,nt.next=null,g.lastBaseUpdate=nt,g.shared.pending=null}}while(!0);at===null&&(z=gt),g.baseState=z,g.firstBaseUpdate=N,g.lastBaseUpdate=at,y===null&&(g.shared.lanes=0),zi|=T,t.lanes=T,t.memoizedState=gt}}function cf(t,e){if(typeof t!="function")throw Error(D(191,t));t.call(e)}function ff(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)cf(i[t],e)}function Aa(t,e){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var g=o.next;i=g;do{if((i.tag&t)===t){o=void 0;var y=i.create,T=i.inst;o=y(),T.destroy=o}i=i.next}while(i!==g)}}catch(A){Vt(e,e.return,A)}}function Li(t,e,i){try{var o=e.updateQueue,g=o!==null?o.lastEffect:null;if(g!==null){var y=g.next;o=y;do{if((o.tag&t)===t){var T=o.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,g=e;var z=i;try{A()}catch(N){Vt(g,z,N)}}}o=o.next}while(o!==y)}}catch(N){Vt(e,e.return,N)}}function hf(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{ff(e,i)}catch(o){Vt(t,t.return,o)}}}function df(t,e,i){i.props=ln(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){Vt(t,e,o)}}function cn(t,e){try{var i=t.ref;if(i!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var g=o;break;default:g=o}typeof i=="function"?t.refCleanup=i(g):i.current=g}}catch(y){Vt(t,e,y)}}function Oe(t,e){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(g){Vt(t,e,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(g){Vt(t,e,g)}else i.current=null}function gf(t){var e=t.type,i=t.memoizedProps,o=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break t;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(g){Vt(t,t.return,g)}}function mf(t,e,i){try{var o=t.stateNode;Zg(o,t.type,i,e),o[Ce]=e}catch(g){Vt(t,t.return,g)}}function vf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function kl(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||vf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zl(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=$r));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(zl(t,e,i),t=t.sibling;t!==null;)zl(t,e,i),t=t.sibling}function Yr(t,e,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Yr(t,e,i),t=t.sibling;t!==null;)Yr(t,e,i),t=t.sibling}var fi=!1,Kt=!1,Ul=!1,pf=typeof WeakSet=="function"?WeakSet:Set,ce=null,yf=!1;function Og(t,e){if(t=t.containerInfo,fo=ss,t=ju(t),Hs(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var g=o.anchorOffset,y=o.focusNode;o=o.focusOffset;try{i.nodeType,y.nodeType}catch{i=null;break t}var T=0,A=-1,z=-1,N=0,at=0,gt=t,Z=null;e:for(;;){for(var nt;gt!==i||g!==0&&gt.nodeType!==3||(A=T+g),gt!==y||o!==0&&gt.nodeType!==3||(z=T+o),gt.nodeType===3&&(T+=gt.nodeValue.length),(nt=gt.firstChild)!==null;)Z=gt,gt=nt;for(;;){if(gt===t)break e;if(Z===i&&++N===g&&(A=T),Z===y&&++at===o&&(z=T),(nt=gt.nextSibling)!==null)break;gt=Z,Z=gt.parentNode}gt=nt}i=A===-1||z===-1?null:{start:A,end:z}}else i=null}i=i||{start:0,end:0}}else i=null;for(ho={focusedElem:t,selectionRange:i},ss=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){switch(e=ce,y=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&y!==null){t=void 0,i=e,g=y.memoizedProps,y=y.memoizedState,o=i.stateNode;try{var xt=ln(i.type,g,i.elementType===i.type);t=o.getSnapshotBeforeUpdate(xt,y),o.__reactInternalSnapshotBeforeUpdate=t}catch(Mt){Vt(i,i.return,Mt)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)po(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":po(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(D(163))}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return xt=yf,yf=!1,xt}function _f(t,e,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:di(t,i),o&4&&Aa(5,i);break;case 1:if(di(t,i),o&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(A){Vt(i,i.return,A)}else{var g=ln(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(g,e,t.__reactInternalSnapshotBeforeUpdate)}catch(A){Vt(i,i.return,A)}}o&64&&hf(i),o&512&&cn(i,i.return);break;case 3:if(di(t,i),o&64&&(o=i.updateQueue,o!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{ff(o,t)}catch(A){Vt(i,i.return,A)}}break;case 26:di(t,i),o&512&&cn(i,i.return);break;case 27:case 5:di(t,i),e===null&&o&4&&gf(i),o&512&&cn(i,i.return);break;case 12:di(t,i);break;case 13:di(t,i),o&4&&bf(t,i);break;case 22:if(g=i.memoizedState!==null||fi,!g){e=e!==null&&e.memoizedState!==null||Kt;var y=fi,T=Kt;fi=g,(Kt=e)&&!T?Bi(t,i,(i.subtreeFlags&8772)!==0):di(t,i),fi=y,Kt=T}o&512&&(i.memoizedProps.mode==="manual"?cn(i,i.return):Oe(i,i.return));break;default:di(t,i)}}function Sf(t){var e=t.alternate;e!==null&&(t.alternate=null,Sf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Ts(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,Ee=!1;function hi(t,e,i){for(i=i.child;i!==null;)Cf(t,e,i),i=i.sibling}function Cf(t,e,i){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(Vi,i)}catch{}switch(i.tag){case 26:Kt||Oe(i,e),hi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Kt||Oe(i,e);var o=ae,g=Ee;for(ae=i.stateNode,hi(t,e,i),i=i.stateNode,e=i.attributes;e.length;)i.removeAttributeNode(e[0]);Ts(i),ae=o,Ee=g;break;case 5:Kt||Oe(i,e);case 6:g=ae;var y=Ee;if(ae=null,hi(t,e,i),ae=g,Ee=y,ae!==null)if(Ee)try{t=ae,o=i.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(T){Vt(i,e,T)}else try{ae.removeChild(i.stateNode)}catch(T){Vt(i,e,T)}break;case 18:ae!==null&&(Ee?(e=ae,i=i.stateNode,e.nodeType===8?vo(e.parentNode,i):e.nodeType===1&&vo(e,i),qa(e)):vo(ae,i.stateNode));break;case 4:o=ae,g=Ee,ae=i.stateNode.containerInfo,Ee=!0,hi(t,e,i),ae=o,Ee=g;break;case 0:case 11:case 14:case 15:Kt||Li(2,i,e),Kt||Li(4,i,e),hi(t,e,i);break;case 1:Kt||(Oe(i,e),o=i.stateNode,typeof o.componentWillUnmount=="function"&&df(i,e,o)),hi(t,e,i);break;case 21:hi(t,e,i);break;case 22:Kt||Oe(i,e),Kt=(o=Kt)||i.memoizedState!==null,hi(t,e,i),Kt=o;break;default:hi(t,e,i)}}function bf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qa(t)}catch(i){Vt(e,e.return,i)}}function Eg(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new pf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new pf),e;default:throw Error(D(435,t.tag))}}function Pl(t,e){var i=Eg(t);e.forEach(function(o){var g=Yg.bind(null,t,o);i.has(o)||(i.add(o),o.then(g,g))})}function Pe(t,e){var i=e.deletions;if(i!==null)for(var o=0;o<i.length;o++){var g=i[o],y=t,T=e,A=T;t:for(;A!==null;){switch(A.tag){case 27:case 5:ae=A.stateNode,Ee=!1;break t;case 3:ae=A.stateNode.containerInfo,Ee=!0;break t;case 4:ae=A.stateNode.containerInfo,Ee=!0;break t}A=A.return}if(ae===null)throw Error(D(160));Cf(y,T,g),ae=null,Ee=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Tf(e,t),e=e.sibling}var Ve=null;function Tf(t,e){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pe(e,t),He(t),o&4&&(Li(3,t,t.return),Aa(3,t),Li(5,t,t.return));break;case 1:Pe(e,t),He(t),o&512&&(Kt||i===null||Oe(i,i.return)),o&64&&fi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var g=Ve;if(Pe(e,t),He(t),o&512&&(Kt||i===null||Oe(i,i.return)),o&4){var y=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){t:{o=t.type,i=t.memoizedProps,g=g.ownerDocument||g;e:switch(o){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ta]||y[ve]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(o),g.head.insertBefore(y,g.querySelector("head > title"))),ge(y,o,i),y[ve]=t,oe(y),o=y;break t;case"link":var T=gh("link","href",g).get(o+(i.href||""));if(T){for(var A=0;A<T.length;A++)if(y=T[A],y.getAttribute("href")===(i.href==null?null:i.href)&&y.getAttribute("rel")===(i.rel==null?null:i.rel)&&y.getAttribute("title")===(i.title==null?null:i.title)&&y.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){T.splice(A,1);break e}}y=g.createElement(o),ge(y,o,i),g.head.appendChild(y);break;case"meta":if(T=gh("meta","content",g).get(o+(i.content||""))){for(A=0;A<T.length;A++)if(y=T[A],y.getAttribute("content")===(i.content==null?null:""+i.content)&&y.getAttribute("name")===(i.name==null?null:i.name)&&y.getAttribute("property")===(i.property==null?null:i.property)&&y.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&y.getAttribute("charset")===(i.charSet==null?null:i.charSet)){T.splice(A,1);break e}}y=g.createElement(o),ge(y,o,i),g.head.appendChild(y);break;default:throw Error(D(468,o))}y[ve]=t,oe(y),o=y}t.stateNode=o}else mh(g,t.type,t.stateNode);else t.stateNode=dh(g,o,t.memoizedProps);else y!==o?(y===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):y.count--,o===null?mh(g,t.type,t.stateNode):dh(g,o,t.memoizedProps)):o===null&&t.stateNode!==null&&mf(t,t.memoizedProps,i.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){g=t.stateNode,y=t.memoizedProps;try{for(var z=g.firstChild;z;){var N=z.nextSibling,at=z.nodeName;z[ta]||at==="HEAD"||at==="BODY"||at==="SCRIPT"||at==="STYLE"||at==="LINK"&&z.rel.toLowerCase()==="stylesheet"||g.removeChild(z),z=N}for(var gt=t.type,Z=g.attributes;Z.length;)g.removeAttributeNode(Z[0]);ge(g,gt,y),g[ve]=t,g[Ce]=y}catch(xt){Vt(t,t.return,xt)}}case 5:if(Pe(e,t),He(t),o&512&&(Kt||i===null||Oe(i,i.return)),t.flags&32){g=t.stateNode;try{Cn(g,"")}catch(xt){Vt(t,t.return,xt)}}o&4&&t.stateNode!=null&&(g=t.memoizedProps,mf(t,g,i!==null?i.memoizedProps:g)),o&1024&&(Ul=!0);break;case 6:if(Pe(e,t),He(t),o&4){if(t.stateNode===null)throw Error(D(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(xt){Vt(t,t.return,xt)}}break;case 3:if(ns=null,g=Ve,Ve=es(e.containerInfo),Pe(e,t),Ve=g,He(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{qa(e.containerInfo)}catch(xt){Vt(t,t.return,xt)}Ul&&(Ul=!1,xf(t));break;case 4:o=Ve,Ve=es(t.stateNode.containerInfo),Pe(e,t),He(t),Ve=o;break;case 12:Pe(e,t),He(t);break;case 13:Pe(e,t),He(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Wl=Et()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pl(t,o)));break;case 22:if(o&512&&(Kt||i===null||Oe(i,i.return)),z=t.memoizedState!==null,N=i!==null&&i.memoizedState!==null,at=fi,gt=Kt,fi=at||z,Kt=gt||N,Pe(e,t),Kt=gt,fi=at,He(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,o&8192&&(e._visibility=z?e._visibility&-2:e._visibility|1,z&&(e=fi||Kt,i===null||N||e||Pn(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(i=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(i===null){N=i=e;try{if(g=N.stateNode,z)y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=N.stateNode,A=N.memoizedProps.style;var nt=A!=null&&A.hasOwnProperty("display")?A.display:null;T.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(xt){Vt(N,N.return,xt)}}}else if(e.tag===6){if(i===null){N=e;try{N.stateNode.nodeValue=z?"":N.memoizedProps}catch(xt){Vt(N,N.return,xt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Pl(t,i))));break;case 19:Pe(e,t),He(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pl(t,o)));break;case 21:break;default:Pe(e,t),He(t)}}function He(t){var e=t.flags;if(e&2){try{if(t.tag!==27){t:{for(var i=t.return;i!==null;){if(vf(i)){var o=i;break t}i=i.return}throw Error(D(160))}switch(o.tag){case 27:var g=o.stateNode,y=kl(t);Yr(t,y,g);break;case 5:var T=o.stateNode;o.flags&32&&(Cn(T,""),o.flags&=-33);var A=kl(t);Yr(t,A,T);break;case 3:case 4:var z=o.stateNode.containerInfo,N=kl(t);zl(t,N,z);break;default:throw Error(D(161))}}}catch(at){Vt(t,t.return,at)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;xf(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function di(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)_f(t,e.alternate,e),e=e.sibling}function Pn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Li(4,e,e.return),Pn(e);break;case 1:Oe(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&df(e,e.return,i),Pn(e);break;case 26:case 27:case 5:Oe(e,e.return),Pn(e);break;case 22:Oe(e,e.return),e.memoizedState===null&&Pn(e);break;default:Pn(e)}t=t.sibling}}function Bi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var o=e.alternate,g=t,y=e,T=y.flags;switch(y.tag){case 0:case 11:case 15:Bi(g,y,i),Aa(4,y);break;case 1:if(Bi(g,y,i),o=y,g=o.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(N){Vt(o,o.return,N)}if(o=y,g=o.updateQueue,g!==null){var A=o.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)cf(z[g],A)}catch(N){Vt(o,o.return,N)}}i&&T&64&&hf(y),cn(y,y.return);break;case 26:case 27:case 5:Bi(g,y,i),i&&o===null&&T&4&&gf(y),cn(y,y.return);break;case 12:Bi(g,y,i);break;case 13:Bi(g,y,i),i&&T&4&&bf(g,y);break;case 22:y.memoizedState===null&&Bi(g,y,i),cn(y,y.return);break;default:Bi(g,y,i)}e=e.sibling}}function Hl(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&ya(i))}function Yl(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ya(t))}function ji(t,e,i,o){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wf(t,e,i,o),e=e.sibling}function wf(t,e,i,o){var g=e.flags;switch(e.tag){case 0:case 11:case 15:ji(t,e,i,o),g&2048&&Aa(9,e);break;case 3:ji(t,e,i,o),g&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ya(t)));break;case 12:if(g&2048){ji(t,e,i,o),t=e.stateNode;try{var y=e.memoizedProps,T=y.id,A=y.onPostCommit;typeof A=="function"&&A(T,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){Vt(e,e.return,z)}}else ji(t,e,i,o);break;case 23:break;case 22:y=e.stateNode,e.memoizedState!==null?y._visibility&4?ji(t,e,i,o):Da(t,e):y._visibility&4?ji(t,e,i,o):(y._visibility|=4,Hn(t,e,i,o,(e.subtreeFlags&10256)!==0)),g&2048&&Hl(e.alternate,e);break;case 24:ji(t,e,i,o),g&2048&&Yl(e.alternate,e);break;default:ji(t,e,i,o)}}function Hn(t,e,i,o,g){for(g=g&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var y=t,T=e,A=i,z=o,N=T.flags;switch(T.tag){case 0:case 11:case 15:Hn(y,T,A,z,g),Aa(8,T);break;case 23:break;case 22:var at=T.stateNode;T.memoizedState!==null?at._visibility&4?Hn(y,T,A,z,g):Da(y,T):(at._visibility|=4,Hn(y,T,A,z,g)),g&&N&2048&&Hl(T.alternate,T);break;case 24:Hn(y,T,A,z,g),g&&N&2048&&Yl(T.alternate,T);break;default:Hn(y,T,A,z,g)}e=e.sibling}}function Da(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,o=e,g=o.flags;switch(o.tag){case 22:Da(i,o),g&2048&&Hl(o.alternate,o);break;case 24:Da(i,o),g&2048&&Yl(o.alternate,o);break;default:Da(i,o)}e=e.sibling}}var Ma=8192;function Yn(t){if(t.subtreeFlags&Ma)for(t=t.child;t!==null;)Of(t),t=t.sibling}function Of(t){switch(t.tag){case 26:Yn(t),t.flags&Ma&&t.memoizedState!==null&&mm(Ve,t.memoizedState,t.memoizedProps);break;case 5:Yn(t);break;case 3:case 4:var e=Ve;Ve=es(t.stateNode.containerInfo),Yn(t),Ve=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Ma,Ma=16777216,Yn(t),Ma=e):Yn(t));break;default:Yn(t)}}function Ef(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ra(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];ce=o,Df(o,t)}Ef(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Af(t),t=t.sibling}function Af(t){switch(t.tag){case 0:case 11:case 15:Ra(t),t.flags&2048&&Li(9,t,t.return);break;case 3:Ra(t);break;case 12:Ra(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,Xr(t)):Ra(t);break;default:Ra(t)}}function Xr(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var i=0;i<e.length;i++){var o=e[i];ce=o,Df(o,t)}Ef(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Li(8,e,e.return),Xr(e);break;case 22:i=e.stateNode,i._visibility&4&&(i._visibility&=-5,Xr(e));break;default:Xr(e)}t=t.sibling}}function Df(t,e){for(;ce!==null;){var i=ce;switch(i.tag){case 0:case 11:case 15:Li(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ya(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,ce=o;else t:for(i=t;ce!==null;){o=ce;var g=o.sibling,y=o.return;if(Sf(o),o===i){ce=null;break t}if(g!==null){g.return=y,ce=g;break t}ce=y}}}function Ag(t,e,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(t,e,i,o){return new Ag(t,e,i,o)}function Xl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,e){var i=t.alternate;return i===null?(i=Ye(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&31457280,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Mf(t,e){t.flags&=31457282;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Nr(t,e,i,o,g,y){var T=0;if(o=t,typeof t=="function")Xl(t)&&(T=1);else if(typeof t=="string")T=dm(t,i,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case l:return fn(i.children,g,y,e);case c:T=8,g|=24;break;case f:return t=Ye(12,i,e,g|2),t.elementType=f,t.lanes=y,t;case h:return t=Ye(13,i,e,g),t.elementType=h,t.lanes=y,t;case s:return t=Ye(19,i,e,g),t.elementType=s,t.lanes=y,t;case _:return Rf(i,g,y,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case a:case n:T=10;break t;case r:T=9;break t;case u:T=11;break t;case d:T=14;break t;case p:T=16,o=null;break t}T=29,i=Error(D(130,t===null?"null":typeof t,"")),o=null}return e=Ye(T,i,e,g),e.elementType=t,e.type=o,e.lanes=y,e}function fn(t,e,i,o){return t=Ye(7,t,o,e),t.lanes=i,t}function Rf(t,e,i,o){t=Ye(22,t,o,e),t.elementType=_,t.lanes=i;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=g._current;if(y===null)throw Error(D(456));if(!(g._pendingVisibility&2)){var T=Ti(y,2);T!==null&&(g._pendingVisibility|=2,Se(T,y,2))}},attach:function(){var y=g._current;if(y===null)throw Error(D(456));if(g._pendingVisibility&2){var T=Ti(y,2);T!==null&&(g._pendingVisibility&=-3,Se(T,y,2))}}};return t.stateNode=g,t}function Nl(t,e,i){return t=Ye(6,t,null,e),t.lanes=i,t}function Fl(t,e,i){return e=Ye(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gi(t){t.flags|=4}function Lf(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!vh(e)){if(e=Ue.current,e!==null&&((Pt&4194176)===Pt?Ze!==null:(Pt&62914560)!==Pt&&!(Pt&536870912)||e!==Ze))throw ma=Is,Iu;t.flags|=8192}}function Fr(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Qo():536870912,t.lanes|=e,Nn|=e)}function La(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(e)for(var g=t.child;g!==null;)i|=g.lanes|g.childLanes,o|=g.subtreeFlags&31457280,o|=g.flags&31457280,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)i|=g.lanes|g.childLanes,o|=g.subtreeFlags,o|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=o,t.childLanes=i,e}function Dg(t,e,i){var o=e.pendingProps;switch(qs(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return It(e),null;case 3:return i=e.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),ci(se),st(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(fa(e)?gi(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ge!==null&&(Kl(Ge),Ge=null))),It(e),null;case 26:return i=e.memoizedState,t===null?(gi(e),i!==null?(It(e),Lf(e,i)):(It(e),e.flags&=-16777217)):i?i!==t.memoizedState?(gi(e),It(e),Lf(e,i)):(It(e),e.flags&=-16777217):(t.memoizedProps!==o&&gi(e),It(e),e.flags&=-16777217),null;case 27:ot(e),i=J.current;var g=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==o&&gi(e);else{if(!o){if(e.stateNode===null)throw Error(D(166));return It(e),null}t=ht.current,fa(e)?qu(e):(t=oh(g,o,i),e.stateNode=t,gi(e))}return It(e),null;case 5:if(ot(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&gi(e);else{if(!o){if(e.stateNode===null)throw Error(D(166));return It(e),null}if(t=ht.current,fa(e))qu(e);else{switch(g=ts(J.current),t){case 1:t=g.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=g.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=g.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=g.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=g.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?g.createElement(i,{is:o.is}):g.createElement(i)}}t[ve]=e,t[Ce]=o;t:for(g=e.child;g!==null;){if(g.tag===5||g.tag===6)t.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}e.stateNode=t;t:switch(ge(t,i,o),i){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&gi(e)}}return It(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==o&&gi(e);else{if(typeof o!="string"&&e.stateNode===null)throw Error(D(166));if(t=J.current,fa(e)){if(t=e.stateNode,i=e.memoizedProps,o=null,g=_e,g!==null)switch(g.tag){case 27:case 5:o=g.memoizedProps}t[ve]=e,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||ih(t.nodeValue,i)),t||tn(e)}else t=ts(t).createTextNode(o),t[ve]=e,e.stateNode=t}return It(e),null;case 13:if(o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=fa(e),o!==null&&o.dehydrated!==null){if(t===null){if(!g)throw Error(D(318));if(g=e.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(D(317));g[ve]=e}else ha(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),g=!1}else Ge!==null&&(Kl(Ge),Ge=null),g=!0;if(!g)return e.flags&256?(si(e),e):(si(e),null)}if(si(e),e.flags&128)return e.lanes=i,e;if(i=o!==null,t=t!==null&&t.memoizedState!==null,i){o=e.child,g=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(g=o.alternate.memoizedState.cachePool.pool);var y=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),y!==g&&(o.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),Fr(e,e.updateQueue),It(e),null;case 4:return st(),t===null&&oo(e.stateNode.containerInfo),It(e),null;case 10:return ci(e.type),It(e),null;case 19:if(W(re),g=e.memoizedState,g===null)return It(e),null;if(o=(e.flags&128)!==0,y=g.rendering,y===null)if(o)La(g,!1);else{if(Jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(y=Or(t),y!==null){for(e.flags|=128,La(g,!1),t=y.updateQueue,e.updateQueue=t,Fr(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Mf(i,t),i=i.sibling;return it(re,re.current&1|2),e.child}t=t.sibling}g.tail!==null&&Et()>Gr&&(e.flags|=128,o=!0,La(g,!1),e.lanes=4194304)}else{if(!o)if(t=Or(y),t!==null){if(e.flags|=128,o=!0,t=t.updateQueue,e.updateQueue=t,Fr(e,t),La(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Yt)return It(e),null}else 2*Et()-g.renderingStartTime>Gr&&i!==536870912&&(e.flags|=128,o=!0,La(g,!1),e.lanes=4194304);g.isBackwards?(y.sibling=e.child,e.child=y):(t=g.last,t!==null?t.sibling=y:e.child=y,g.last=y)}return g.tail!==null?(e=g.tail,g.rendering=e,g.tail=e.sibling,g.renderingStartTime=Et(),e.sibling=null,t=re.current,it(re,o?t&1|2:t&1),e):(It(e),null);case 22:case 23:return si(e),Zs(),o=e.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(e.flags|=8192):o&&(e.flags|=8192),o?i&536870912&&!(e.flags&128)&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),i=e.updateQueue,i!==null&&Fr(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),o!==i&&(e.flags|=2048),t!==null&&W(nn),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ci(se),It(e),null;case 25:return null}throw Error(D(156,e.tag))}function Mg(t,e){switch(qs(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ci(se),st(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ot(e),null;case 13:if(si(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));ha()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(re),null;case 4:return st(),null;case 10:return ci(e.type),null;case 22:case 23:return si(e),Zs(),t!==null&&W(nn),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ci(se),null;case 25:return null;default:return null}}function Bf(t,e){switch(qs(e),e.tag){case 3:ci(se),st();break;case 26:case 27:case 5:ot(e);break;case 4:st();break;case 13:si(e);break;case 19:W(re);break;case 10:ci(e.type);break;case 22:case 23:si(e),Zs(),t!==null&&W(nn);break;case 24:ci(se)}}var Rg={getCacheForType:function(t){var e=pe(se),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},Lg=typeof WeakMap=="function"?WeakMap:Map,Qt=0,qt=null,kt=null,Pt=0,Wt=0,Ae=null,mi=!1,Xn=!1,Gl=!1,vi=0,Jt=0,zi=0,hn=0,Vl=0,Xe=0,Nn=0,Ba=null,Je=null,ql=!1,Wl=0,Gr=1/0,Vr=null,Ui=null,qr=!1,dn=null,ja=0,Il=0,Ql=null,ka=0,Zl=null;function De(){if(Qt&2&&Pt!==0)return Pt&-Pt;if(H.T!==null){var t=Bn;return t!==0?t:ao()}return $o()}function jf(){Xe===0&&(Xe=!(Pt&536870912)||Yt?Io():536870912);var t=Ue.current;return t!==null&&(t.flags|=32),Xe}function Se(t,e,i){(t===qt&&Wt===2||t.cancelPendingCommit!==null)&&(Fn(t,0),pi(t,Pt,Xe,!1)),$n(t,i),(!(Qt&2)||t!==qt)&&(t===qt&&(!(Qt&2)&&(hn|=i),Jt===4&&pi(t,Pt,Xe,!1)),$e(t))}function kf(t,e,i){if(Qt&6)throw Error(D(327));var o=!i&&(e&60)===0&&(e&t.expiredLanes)===0||Jn(t,e),g=o?kg(t,e):to(t,e,!0),y=o;do{if(g===0){Xn&&!o&&pi(t,e,0,!1);break}else if(g===6)pi(t,e,0,!mi);else{if(i=t.current.alternate,y&&!Bg(i)){g=to(t,e,!1),y=!1;continue}if(g===2){if(y=e,t.errorRecoveryDisabledLanes&y)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){e=T;t:{var A=t;g=Ba;var z=A.current.memoizedState.isDehydrated;if(z&&(Fn(A,T).flags|=256),T=to(A,T,!1),T!==2){if(Gl&&!z){A.errorRecoveryDisabledLanes|=y,hn|=y,g=4;break t}y=Je,Je=g,y!==null&&Kl(y)}g=T}if(y=!1,g!==2)continue}}if(g===1){Fn(t,0),pi(t,e,0,!0);break}t:{switch(o=t,g){case 0:case 1:throw Error(D(345));case 4:if((e&4194176)===e){pi(o,e,Xe,!mi);break t}break;case 2:Je=null;break;case 3:case 5:break;default:throw Error(D(329))}if(o.finishedWork=i,o.finishedLanes=e,(e&62914560)===e&&(y=Wl+300-Et(),10<y)){if(pi(o,e,Xe,!mi),rr(o,0)!==0)break t;o.timeoutHandle=rh(zf.bind(null,o,i,Je,Vr,ql,e,Xe,hn,Nn,mi,2,-0,0),y);break t}zf(o,i,Je,Vr,ql,e,Xe,hn,Nn,mi,0,-0,0)}}break}while(!0);$e(t)}function Kl(t){Je===null?Je=t:Je.push.apply(Je,t)}function zf(t,e,i,o,g,y,T,A,z,N,at,gt,Z){var nt=e.subtreeFlags;if((nt&8192||(nt&16785408)===16785408)&&(Xa={stylesheets:null,count:0,unsuspend:gm},Of(e),e=vm(),e!==null)){t.cancelPendingCommit=e(Ff.bind(null,t,i,o,g,T,A,z,1,gt,Z)),pi(t,y,T,!N);return}Ff(t,i,o,g,T,A,z,at,gt,Z)}function Bg(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var g=i[o],y=g.getSnapshot;g=g.value;try{if(!we(y(),g))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e,i,o){e&=~Vl,e&=~hn,t.suspendedLanes|=e,t.pingedLanes&=~e,o&&(t.warmLanes|=e),o=t.expirationTimes;for(var g=e;0<g;){var y=31-xe(g),T=1<<y;o[y]=-1,g&=~T}i!==0&&Zo(t,i,e)}function Wr(){return Qt&6?!0:(za(0),!1)}function Jl(){if(kt!==null){if(Wt===0)var t=kt.return;else t=kt,ui=on=null,al(t),Rn=null,va=0,t=kt;for(;t!==null;)Bf(t.alternate,t),t=t.return;kt=null}}function Fn(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Jg(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Jl(),qt=t,kt=i=ki(t.current,null),Pt=e,Wt=0,Ae=null,mi=!1,Xn=Jn(t,e),Gl=!1,Nn=Xe=Vl=hn=zi=Jt=0,Je=Ba=null,ql=!1,e&8&&(e|=e&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=e;0<o;){var g=31-xe(o),y=1<<g;e|=t[g],o&=~y}return vi=e,pr(),i}function Uf(t,e){Bt=null,H.H=Ke,e===ga?(e=Ku(),Wt=3):e===Iu?(e=Ku(),Wt=4):Wt=e===Qc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ae=e,kt===null&&(Jt=1,Ur(t,je(e,t.current)))}function Pf(){var t=H.H;return H.H=Ke,t===null?Ke:t}function Hf(){var t=H.A;return H.A=Rg,t}function $l(){Jt=4,mi||(Pt&4194176)!==Pt&&Ue.current!==null||(Xn=!0),!(zi&134217727)&&!(hn&134217727)||qt===null||pi(qt,Pt,Xe,!1)}function to(t,e,i){var o=Qt;Qt|=2;var g=Pf(),y=Hf();(qt!==t||Pt!==e)&&(Vr=null,Fn(t,e)),e=!1;var T=Jt;t:do try{if(Wt!==0&&kt!==null){var A=kt,z=Ae;switch(Wt){case 8:Jl(),T=6;break t;case 3:case 2:case 6:Ue.current===null&&(e=!0);var N=Wt;if(Wt=0,Ae=null,Gn(t,A,z,N),i&&Xn){T=0;break t}break;default:N=Wt,Wt=0,Ae=null,Gn(t,A,z,N)}}jg(),T=Jt;break}catch(at){Uf(t,at)}while(!0);return e&&t.shellSuspendCounter++,ui=on=null,Qt=o,H.H=g,H.A=y,kt===null&&(qt=null,Pt=0,pr()),T}function jg(){for(;kt!==null;)Yf(kt)}function kg(t,e){var i=Qt;Qt|=2;var o=Pf(),g=Hf();qt!==t||Pt!==e?(Vr=null,Gr=Et()+500,Fn(t,e)):Xn=Jn(t,e);t:do try{if(Wt!==0&&kt!==null){e=kt;var y=Ae;e:switch(Wt){case 1:Wt=0,Ae=null,Gn(t,e,y,1);break;case 2:if(Qu(y)){Wt=0,Ae=null,Xf(e);break}e=function(){Wt===2&&qt===t&&(Wt=7),$e(t)},y.then(e,e);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Qu(y)?(Wt=0,Ae=null,Xf(e)):(Wt=0,Ae=null,Gn(t,e,y,7));break;case 5:var T=null;switch(kt.tag){case 26:T=kt.memoizedState;case 5:case 27:var A=kt;if(!T||vh(T)){Wt=0,Ae=null;var z=A.sibling;if(z!==null)kt=z;else{var N=A.return;N!==null?(kt=N,Ir(N)):kt=null}break e}}Wt=0,Ae=null,Gn(t,e,y,5);break;case 6:Wt=0,Ae=null,Gn(t,e,y,6);break;case 8:Jl(),Jt=6;break t;default:throw Error(D(462))}}zg();break}catch(at){Uf(t,at)}while(!0);return ui=on=null,H.H=o,H.A=g,Qt=i,kt!==null?0:(qt=null,Pt=0,pr(),Jt)}function zg(){for(;kt!==null&&!lt();)Yf(kt)}function Yf(t){var e=of(t.alternate,t,vi);t.memoizedProps=t.pendingProps,e===null?Ir(t):kt=e}function Xf(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=ef(i,e,e.pendingProps,e.type,void 0,Pt);break;case 11:e=ef(i,e,e.pendingProps,e.type.render,e.ref,Pt);break;case 5:al(e);default:Bf(i,e),e=kt=Mf(e,vi),e=of(i,e,vi)}t.memoizedProps=t.pendingProps,e===null?Ir(t):kt=e}function Gn(t,e,i,o){ui=on=null,al(e),Rn=null,va=0;var g=e.return;try{if(xg(t,g,e,i,Pt)){Jt=1,Ur(t,je(i,t.current)),kt=null;return}}catch(y){if(g!==null)throw kt=g,y;Jt=1,Ur(t,je(i,t.current)),kt=null;return}e.flags&32768?(Yt||o===1?t=!0:Xn||Pt&536870912?t=!1:(mi=t=!0,(o===2||o===3||o===6)&&(o=Ue.current,o!==null&&o.tag===13&&(o.flags|=16384))),Nf(e,t)):Ir(e)}function Ir(t){var e=t;do{if(e.flags&32768){Nf(e,mi);return}t=e.return;var i=Dg(e.alternate,e,vi);if(i!==null){kt=i;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Jt===0&&(Jt=5)}function Nf(t,e){do{var i=Mg(t.alternate,t);if(i!==null){i.flags&=32767,kt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){kt=t;return}kt=t=i}while(t!==null);Jt=6,kt=null}function Ff(t,e,i,o,g,y,T,A,z,N){var at=H.T,gt=R.p;try{R.p=2,H.T=null,Ug(t,e,i,o,gt,g,y,T,A,z,N)}finally{H.T=at,R.p=gt}}function Ug(t,e,i,o,g,y,T,A){do Vn();while(dn!==null);if(Qt&6)throw Error(D(327));var z=t.finishedWork;if(o=t.finishedLanes,z===null)return null;if(t.finishedWork=null,t.finishedLanes=0,z===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var N=z.lanes|z.childLanes;if(N|=Fs,md(t,o,N,y,T,A),t===qt&&(kt=qt=null,Pt=0),!(z.subtreeFlags&10256)&&!(z.flags&10256)||qr||(qr=!0,Il=N,Ql=i,Xg(ee,function(){return Vn(),null})),i=(z.flags&15990)!==0,z.subtreeFlags&15990||i?(i=H.T,H.T=null,y=R.p,R.p=2,T=Qt,Qt|=4,Og(t,z),Tf(z,t),lg(ho,t.containerInfo),ss=!!fo,ho=fo=null,t.current=z,_f(t,z.alternate,z),wt(),Qt=T,R.p=y,H.T=i):t.current=z,qr?(qr=!1,dn=t,ja=o):Gf(t,N),N=t.pendingLanes,N===0&&(Ui=null),Ss(z.stateNode),$e(t),e!==null)for(g=t.onRecoverableError,z=0;z<e.length;z++)N=e[z],g(N.value,{componentStack:N.stack});return ja&3&&Vn(),N=t.pendingLanes,o&4194218&&N&42?t===Zl?ka++:(ka=0,Zl=t):ka=0,za(0),null}function Gf(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ya(e)))}function Vn(){if(dn!==null){var t=dn,e=Il;Il=0;var i=Jo(ja),o=H.T,g=R.p;try{if(R.p=32>i?32:i,H.T=null,dn===null)var y=!1;else{i=Ql,Ql=null;var T=dn,A=ja;if(dn=null,ja=0,Qt&6)throw Error(D(331));var z=Qt;if(Qt|=4,Af(T.current),wf(T,T.current,A,i),Qt=z,za(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(Vi,T)}catch{}y=!0}return y}finally{R.p=g,H.T=o,Gf(t,e)}}return!1}function Vf(t,e,i){e=je(i,e),e=yl(t.stateNode,e,2),t=Ri(t,e,2),t!==null&&($n(t,2),$e(t))}function Vt(t,e,i){if(t.tag===3)Vf(t,t,i);else for(;e!==null;){if(e.tag===3){Vf(e,t,i);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ui===null||!Ui.has(o))){t=je(i,t),i=Wc(2),o=Ri(e,i,2),o!==null&&(Ic(i,o,e,t),$n(o,2),$e(o));break}}e=e.return}}function eo(t,e,i){var o=t.pingCache;if(o===null){o=t.pingCache=new Lg;var g=new Set;o.set(e,g)}else g=o.get(e),g===void 0&&(g=new Set,o.set(e,g));g.has(i)||(Gl=!0,g.add(i),t=Pg.bind(null,t,e,i),e.then(t,t))}function Pg(t,e,i){var o=t.pingCache;o!==null&&o.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,qt===t&&(Pt&i)===i&&(Jt===4||Jt===3&&(Pt&62914560)===Pt&&300>Et()-Wl?!(Qt&2)&&Fn(t,0):Vl|=i,Nn===Pt&&(Nn=0)),$e(t)}function qf(t,e){e===0&&(e=Qo()),t=Ti(t,e),t!==null&&($n(t,e),$e(t))}function Hg(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),qf(t,i)}function Yg(t,e){var i=0;switch(t.tag){case 13:var o=t.stateNode,g=t.memoizedState;g!==null&&(i=g.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(D(314))}o!==null&&o.delete(e),qf(t,i)}function Xg(t,e){return Dt(t,e)}var Qr=null,qn=null,io=!1,Zr=!1,no=!1,gn=0;function $e(t){t!==qn&&t.next===null&&(qn===null?Qr=qn=t:qn=qn.next=t),Zr=!0,io||(io=!0,Fg(Ng))}function za(t,e){if(!no&&Zr){no=!0;do for(var i=!1,o=Qr;o!==null;){if(t!==0){var g=o.pendingLanes;if(g===0)var y=0;else{var T=o.suspendedLanes,A=o.pingedLanes;y=(1<<31-xe(42|t)+1)-1,y&=g&~(T&~A),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(i=!0,Qf(o,y))}else y=Pt,y=rr(o,o===qt?y:0),!(y&3)||Jn(o,y)||(i=!0,Qf(o,y));o=o.next}while(i);no=!1}}function Ng(){Zr=io=!1;var t=0;gn!==0&&(Kg()&&(t=gn),gn=0);for(var e=Et(),i=null,o=Qr;o!==null;){var g=o.next,y=Wf(o,e);y===0?(o.next=null,i===null?Qr=g:i.next=g,g===null&&(qn=i)):(i=o,(t!==0||y&3)&&(Zr=!0)),o=g}za(t)}function Wf(t,e){for(var i=t.suspendedLanes,o=t.pingedLanes,g=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var T=31-xe(y),A=1<<T,z=g[T];z===-1?(!(A&i)||A&o)&&(g[T]=gd(A,e)):z<=e&&(t.expiredLanes|=A),y&=~A}if(e=qt,i=Pt,i=rr(t,t===e?i:0),o=t.callbackNode,i===0||t===e&&Wt===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Tt(o),t.callbackNode=null,t.callbackPriority=0;if(!(i&3)||Jn(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(o!==null&&Tt(o),Jo(i)){case 2:case 8:i=Ht;break;case 32:i=ee;break;case 268435456:i=We;break;default:i=ee}return o=If.bind(null,t),i=Dt(i,o),t.callbackPriority=e,t.callbackNode=i,e}return o!==null&&o!==null&&Tt(o),t.callbackPriority=2,t.callbackNode=null,2}function If(t,e){var i=t.callbackNode;if(Vn()&&t.callbackNode!==i)return null;var o=Pt;return o=rr(t,t===qt?o:0),o===0?null:(kf(t,o,e),Wf(t,Et()),t.callbackNode!=null&&t.callbackNode===i?If.bind(null,t):null)}function Qf(t,e){if(Vn())return null;kf(t,e,!0)}function Fg(t){$g(function(){Qt&6?Dt(Gt,t):t()})}function ao(){return gn===0&&(gn=Io()),gn}function Zf(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cr(""+t)}function Kf(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function Gg(t,e,i,o,g){if(e==="submit"&&i&&i.stateNode===g){var y=Zf((g[Ce]||null).action),T=o.submitter;T&&(e=(e=T[Ce]||null)?Zf(e.formAction):T.getAttribute("formAction"),e!==null&&(y=e,T=null));var A=new gr("action","action",null,o,g);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(gn!==0){var z=T?Kf(g,T):new FormData(g);dl(i,{pending:!0,data:z,method:g.method,action:y},null,z)}}else typeof y=="function"&&(A.preventDefault(),z=T?Kf(g,T):new FormData(g),dl(i,{pending:!0,data:z,method:g.method,action:y},y,z))},currentTarget:g}]})}}for(var ro=0;ro<Nu.length;ro++){var so=Nu[ro],Vg=so.toLowerCase(),qg=so[0].toUpperCase()+so.slice(1);Fe(Vg,"on"+qg)}Fe(Uu,"onAnimationEnd"),Fe(Pu,"onAnimationIteration"),Fe(Hu,"onAnimationStart"),Fe("dblclick","onDoubleClick"),Fe("focusin","onFocus"),Fe("focusout","onBlur"),Fe(ug,"onTransitionRun"),Fe(cg,"onTransitionStart"),Fe(fg,"onTransitionCancel"),Fe(Yu,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ua));function Jf(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],g=o.event;o=o.listeners;t:{var y=void 0;if(e)for(var T=o.length-1;0<=T;T--){var A=o[T],z=A.instance,N=A.currentTarget;if(A=A.listener,z!==y&&g.isPropagationStopped())break t;y=A,g.currentTarget=N;try{y(g)}catch(at){zr(at)}g.currentTarget=null,y=z}else for(T=0;T<o.length;T++){if(A=o[T],z=A.instance,N=A.currentTarget,A=A.listener,z!==y&&g.isPropagationStopped())break t;y=A,g.currentTarget=N;try{y(g)}catch(at){zr(at)}g.currentTarget=null,y=z}}}}function Ut(t,e){var i=e[bs];i===void 0&&(i=e[bs]=new Set);var o=t+"__bubble";i.has(o)||($f(e,t,2,!1),i.add(o))}function lo(t,e,i){var o=0;e&&(o|=4),$f(i,t,o,e)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function oo(t){if(!t[Kr]){t[Kr]=!0,eu.forEach(function(i){i!=="selectionchange"&&(Wg.has(i)||lo(i,!1,t),lo(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kr]||(e[Kr]=!0,lo("selectionchange",!1,e))}}function $f(t,e,i,o){switch(bh(e)){case 2:var g=_m;break;case 8:g=Sm;break;default:g=bo}i=g.bind(null,e,i,t),g=void 0,!Ms||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(g=!0),o?g!==void 0?t.addEventListener(e,i,{capture:!0,passive:g}):t.addEventListener(e,i,!0):g!==void 0?t.addEventListener(e,i,{passive:g}):t.addEventListener(e,i,!1)}function uo(t,e,i,o,g){var y=o;if(!(e&1)&&!(e&2)&&o!==null)t:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var A=o.stateNode.containerInfo;if(A===g||A.nodeType===8&&A.parentNode===g)break;if(T===4)for(T=o.return;T!==null;){var z=T.tag;if((z===3||z===4)&&(z=T.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;T=T.return}for(;A!==null;){if(T=Wi(A),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){o=y=T;continue t}A=A.parentNode}}o=o.return}du(function(){var N=y,at=As(i),gt=[];t:{var Z=Xu.get(t);if(Z!==void 0){var nt=gr,xt=t;switch(t){case"keypress":if(hr(i)===0)break t;case"keydown":case"keyup":nt=Yd;break;case"focusin":xt="focus",nt=js;break;case"focusout":xt="blur",nt=js;break;case"beforeblur":case"afterblur":nt=js;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Fd;break;case Uu:case Pu:case Hu:nt=Rd;break;case Yu:nt=Vd;break;case"scroll":case"scrollend":nt=Od;break;case"wheel":nt=Wd;break;case"copy":case"cut":case"paste":nt=Bd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=yu;break;case"toggle":case"beforetoggle":nt=Qd}var Mt=(e&4)!==0,$t=!Mt&&(t==="scroll"||t==="scrollend"),V=Mt?Z!==null?Z+"Capture":null:Z;Mt=[];for(var Y=N,I;Y!==null;){var ct=Y;if(I=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||I===null||V===null||(ct=ia(Y,V),ct!=null&&Mt.push(Pa(Y,ct,I))),$t)break;Y=Y.return}0<Mt.length&&(Z=new nt(Z,xt,null,i,at),gt.push({event:Z,listeners:Mt}))}}if(!(e&7)){t:{if(Z=t==="mouseover"||t==="pointerover",nt=t==="mouseout"||t==="pointerout",Z&&i!==Es&&(xt=i.relatedTarget||i.fromElement)&&(Wi(xt)||xt[vn]))break t;if((nt||Z)&&(Z=at.window===at?at:(Z=at.ownerDocument)?Z.defaultView||Z.parentWindow:window,nt?(xt=i.relatedTarget||i.toElement,nt=N,xt=xt?Wi(xt):null,xt!==null&&($t=ft(xt),Mt=xt.tag,xt!==$t||Mt!==5&&Mt!==27&&Mt!==6)&&(xt=null)):(nt=null,xt=N),nt!==xt)){if(Mt=vu,ct="onMouseLeave",V="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(Mt=yu,ct="onPointerLeave",V="onPointerEnter",Y="pointer"),$t=nt==null?Z:ea(nt),I=xt==null?Z:ea(xt),Z=new Mt(ct,Y+"leave",nt,i,at),Z.target=$t,Z.relatedTarget=I,ct=null,Wi(at)===N&&(Mt=new Mt(V,Y+"enter",xt,i,at),Mt.target=I,Mt.relatedTarget=$t,ct=Mt),$t=ct,nt&&xt)e:{for(Mt=nt,V=xt,Y=0,I=Mt;I;I=Wn(I))Y++;for(I=0,ct=V;ct;ct=Wn(ct))I++;for(;0<Y-I;)Mt=Wn(Mt),Y--;for(;0<I-Y;)V=Wn(V),I--;for(;Y--;){if(Mt===V||V!==null&&Mt===V.alternate)break e;Mt=Wn(Mt),V=Wn(V)}Mt=null}else Mt=null;nt!==null&&th(gt,Z,nt,Mt,!1),xt!==null&&$t!==null&&th(gt,$t,xt,Mt,!0)}}t:{if(Z=N?ea(N):window,nt=Z.nodeName&&Z.nodeName.toLowerCase(),nt==="select"||nt==="input"&&Z.type==="file")var bt=Ou;else if(xu(Z))if(Eu)bt=rg;else{bt=ng;var jt=ig}else nt=Z.nodeName,!nt||nt.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?N&&Os(N.elementType)&&(bt=Ou):bt=ag;if(bt&&(bt=bt(t,N))){wu(gt,bt,i,at);break t}jt&&jt(t,Z,N),t==="focusout"&&N&&Z.type==="number"&&N.memoizedProps.value!=null&&ws(Z,"number",Z.value)}switch(jt=N?ea(N):window,t){case"focusin":(xu(jt)||jt.contentEditable==="true")&&(wn=jt,Ys=N,ca=null);break;case"focusout":ca=Ys=wn=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,ku(gt,i,at);break;case"selectionchange":if(og)break;case"keydown":case"keyup":ku(gt,i,at)}var Ot;if(zs)t:{switch(t){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else xn?bu(t,i)&&(At="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(At="onCompositionStart");At&&(_u&&i.locale!=="ko"&&(xn||At!=="onCompositionStart"?At==="onCompositionEnd"&&xn&&(Ot=gu()):(bi=at,Rs="value"in bi?bi.value:bi.textContent,xn=!0)),jt=Jr(N,At),0<jt.length&&(At=new pu(At,t,null,i,at),gt.push({event:At,listeners:jt}),Ot?At.data=Ot:(Ot=Tu(i),Ot!==null&&(At.data=Ot)))),(Ot=Kd?Jd(t,i):$d(t,i))&&(At=Jr(N,"onBeforeInput"),0<At.length&&(jt=new pu("onBeforeInput","beforeinput",null,i,at),gt.push({event:jt,listeners:At}),jt.data=Ot)),Gg(gt,t,N,i,at)}Jf(gt,e)})}function Pa(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Jr(t,e){for(var i=e+"Capture",o=[];t!==null;){var g=t,y=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ia(t,i),g!=null&&o.unshift(Pa(t,g,y)),g=ia(t,e),g!=null&&o.push(Pa(t,g,y))),t=t.return}return o}function Wn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function th(t,e,i,o,g){for(var y=e._reactName,T=[];i!==null&&i!==o;){var A=i,z=A.alternate,N=A.stateNode;if(A=A.tag,z!==null&&z===o)break;A!==5&&A!==26&&A!==27||N===null||(z=N,g?(N=ia(i,y),N!=null&&T.unshift(Pa(i,N,z))):g||(N=ia(i,y),N!=null&&T.push(Pa(i,N,z)))),i=i.return}T.length!==0&&t.push({event:e,listeners:T})}var Ig=/\r\n?/g,Qg=/\u0000|\uFFFD/g;function eh(t){return(typeof t=="string"?t:""+t).replace(Ig,`
`).replace(Qg,"")}function ih(t,e){return e=eh(e),eh(t)===e}function $r(){}function Ft(t,e,i,o,g,y){switch(i){case"children":typeof o=="string"?e==="body"||e==="textarea"&&o===""||Cn(t,o):(typeof o=="number"||typeof o=="bigint")&&e!=="body"&&Cn(t,""+o);break;case"className":lr(t,"class",o);break;case"tabIndex":lr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(t,i,o);break;case"style":fu(t,o,y);break;case"data":if(e!=="object"){lr(t,"data",o);break}case"src":case"href":if(o===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=cr(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(i==="formAction"?(e!=="input"&&Ft(t,e,"name",g.name,g,null),Ft(t,e,"formEncType",g.formEncType,g,null),Ft(t,e,"formMethod",g.formMethod,g,null),Ft(t,e,"formTarget",g.formTarget,g,null)):(Ft(t,e,"encType",g.encType,g,null),Ft(t,e,"method",g.method,g,null),Ft(t,e,"target",g.target,g,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=cr(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=$r);break;case"onScroll":o!=null&&Ut("scroll",t);break;case"onScrollEnd":o!=null&&Ut("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(D(61));if(i=o.__html,i!=null){if(g.children!=null)throw Error(D(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=cr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":Ut("beforetoggle",t),Ut("toggle",t),sr(t,"popover",o);break;case"xlinkActuate":ni(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ni(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ni(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ni(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ni(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ni(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ni(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ni(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ni(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=xd.get(i)||i,sr(t,i,o))}}function co(t,e,i,o,g,y){switch(i){case"style":fu(t,o,y);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(D(61));if(i=o.__html,i!=null){if(g.children!=null)throw Error(D(60));t.innerHTML=i}}break;case"children":typeof o=="string"?Cn(t,o):(typeof o=="number"||typeof o=="bigint")&&Cn(t,""+o);break;case"onScroll":o!=null&&Ut("scroll",t);break;case"onScrollEnd":o!=null&&Ut("scrollend",t);break;case"onClick":o!=null&&(t.onclick=$r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iu.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(g=i.endsWith("Capture"),e=i.slice(2,g?i.length-7:void 0),y=t[Ce]||null,y=y!=null?y[i]:null,typeof y=="function"&&t.removeEventListener(e,y,g),typeof o=="function")){typeof y!="function"&&y!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,o,g);break t}i in t?t[i]=o:o===!0?t.setAttribute(i,""):sr(t,i,o)}}}function ge(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",t),Ut("load",t);var o=!1,g=!1,y;for(y in i)if(i.hasOwnProperty(y)){var T=i[y];if(T!=null)switch(y){case"src":o=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(D(137,e));default:Ft(t,e,y,T,i,null)}}g&&Ft(t,e,"srcSet",i.srcSet,i,null),o&&Ft(t,e,"src",i.src,i,null);return;case"input":Ut("invalid",t);var A=y=T=g=null,z=null,N=null;for(o in i)if(i.hasOwnProperty(o)){var at=i[o];if(at!=null)switch(o){case"name":g=at;break;case"type":T=at;break;case"checked":z=at;break;case"defaultChecked":N=at;break;case"value":y=at;break;case"defaultValue":A=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(D(137,e));break;default:Ft(t,e,o,at,i,null)}}lu(t,y,A,z,N,T,g,!1),or(t);return;case"select":Ut("invalid",t),o=T=y=null;for(g in i)if(i.hasOwnProperty(g)&&(A=i[g],A!=null))switch(g){case"value":y=A;break;case"defaultValue":T=A;break;case"multiple":o=A;default:Ft(t,e,g,A,i,null)}e=y,i=T,t.multiple=!!o,e!=null?Sn(t,!!o,e,!1):i!=null&&Sn(t,!!o,i,!0);return;case"textarea":Ut("invalid",t),y=g=o=null;for(T in i)if(i.hasOwnProperty(T)&&(A=i[T],A!=null))switch(T){case"value":o=A;break;case"defaultValue":g=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(D(91));break;default:Ft(t,e,T,A,i,null)}uu(t,o,g,y),or(t);return;case"option":for(z in i)if(i.hasOwnProperty(z)&&(o=i[z],o!=null))switch(z){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ft(t,e,z,o,i,null)}return;case"dialog":Ut("cancel",t),Ut("close",t);break;case"iframe":case"object":Ut("load",t);break;case"video":case"audio":for(o=0;o<Ua.length;o++)Ut(Ua[o],t);break;case"image":Ut("error",t),Ut("load",t);break;case"details":Ut("toggle",t);break;case"embed":case"source":case"link":Ut("error",t),Ut("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(o=i[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(D(137,e));default:Ft(t,e,N,o,i,null)}return;default:if(Os(e)){for(at in i)i.hasOwnProperty(at)&&(o=i[at],o!==void 0&&co(t,e,at,o,i,void 0));return}}for(A in i)i.hasOwnProperty(A)&&(o=i[A],o!=null&&Ft(t,e,A,o,i,null))}function Zg(t,e,i,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,T=null,A=null,z=null,N=null,at=null;for(nt in i){var gt=i[nt];if(i.hasOwnProperty(nt)&&gt!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":z=gt;default:o.hasOwnProperty(nt)||Ft(t,e,nt,null,o,gt)}}for(var Z in o){var nt=o[Z];if(gt=i[Z],o.hasOwnProperty(Z)&&(nt!=null||gt!=null))switch(Z){case"type":y=nt;break;case"name":g=nt;break;case"checked":N=nt;break;case"defaultChecked":at=nt;break;case"value":T=nt;break;case"defaultValue":A=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(D(137,e));break;default:nt!==gt&&Ft(t,e,Z,nt,o,gt)}}xs(t,T,A,z,N,at,y,g);return;case"select":nt=T=A=Z=null;for(y in i)if(z=i[y],i.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":nt=z;default:o.hasOwnProperty(y)||Ft(t,e,y,null,o,z)}for(g in o)if(y=o[g],z=i[g],o.hasOwnProperty(g)&&(y!=null||z!=null))switch(g){case"value":Z=y;break;case"defaultValue":A=y;break;case"multiple":T=y;default:y!==z&&Ft(t,e,g,y,o,z)}e=A,i=T,o=nt,Z!=null?Sn(t,!!i,Z,!1):!!o!=!!i&&(e!=null?Sn(t,!!i,e,!0):Sn(t,!!i,i?[]:"",!1));return;case"textarea":nt=Z=null;for(A in i)if(g=i[A],i.hasOwnProperty(A)&&g!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ft(t,e,A,null,o,g)}for(T in o)if(g=o[T],y=i[T],o.hasOwnProperty(T)&&(g!=null||y!=null))switch(T){case"value":Z=g;break;case"defaultValue":nt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(D(91));break;default:g!==y&&Ft(t,e,T,g,o,y)}ou(t,Z,nt);return;case"option":for(var xt in i)if(Z=i[xt],i.hasOwnProperty(xt)&&Z!=null&&!o.hasOwnProperty(xt))switch(xt){case"selected":t.selected=!1;break;default:Ft(t,e,xt,null,o,Z)}for(z in o)if(Z=o[z],nt=i[z],o.hasOwnProperty(z)&&Z!==nt&&(Z!=null||nt!=null))switch(z){case"selected":t.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Ft(t,e,z,Z,o,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in i)Z=i[Mt],i.hasOwnProperty(Mt)&&Z!=null&&!o.hasOwnProperty(Mt)&&Ft(t,e,Mt,null,o,Z);for(N in o)if(Z=o[N],nt=i[N],o.hasOwnProperty(N)&&Z!==nt&&(Z!=null||nt!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(D(137,e));break;default:Ft(t,e,N,Z,o,nt)}return;default:if(Os(e)){for(var $t in i)Z=i[$t],i.hasOwnProperty($t)&&Z!==void 0&&!o.hasOwnProperty($t)&&co(t,e,$t,void 0,o,Z);for(at in o)Z=o[at],nt=i[at],!o.hasOwnProperty(at)||Z===nt||Z===void 0&&nt===void 0||co(t,e,at,Z,o,nt);return}}for(var V in i)Z=i[V],i.hasOwnProperty(V)&&Z!=null&&!o.hasOwnProperty(V)&&Ft(t,e,V,null,o,Z);for(gt in o)Z=o[gt],nt=i[gt],!o.hasOwnProperty(gt)||Z===nt||Z==null&&nt==null||Ft(t,e,gt,Z,o,nt)}var fo=null,ho=null;function ts(t){return t.nodeType===9?t:t.ownerDocument}function nh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ah(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function go(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mo=null;function Kg(){var t=window.event;return t&&t.type==="popstate"?t===mo?!1:(mo=t,!0):(mo=null,!1)}var rh=typeof setTimeout=="function"?setTimeout:void 0,Jg=typeof clearTimeout=="function"?clearTimeout:void 0,sh=typeof Promise=="function"?Promise:void 0,$g=typeof queueMicrotask=="function"?queueMicrotask:typeof sh<"u"?function(t){return sh.resolve(null).then(t).catch(tm)}:rh;function tm(t){setTimeout(function(){throw t})}function vo(t,e){var i=e,o=0;do{var g=i.nextSibling;if(t.removeChild(i),g&&g.nodeType===8)if(i=g.data,i==="/$"){if(o===0){t.removeChild(g),qa(e);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=g}while(i);qa(e)}function po(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":po(i),Ts(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function em(t,e,i,o){for(;t.nodeType===1;){var g=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ta])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==g.rel||t.getAttribute("href")!==(g.href==null?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=qe(t.nextSibling),t===null)break}return null}function im(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=qe(t.nextSibling),t===null))return null;return t}function qe(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function lh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function oh(t,e,i){switch(e=ts(i),t){case"html":if(t=e.documentElement,!t)throw Error(D(452));return t;case"head":if(t=e.head,!t)throw Error(D(453));return t;case"body":if(t=e.body,!t)throw Error(D(454));return t;default:throw Error(D(451))}}var Ne=new Map,uh=new Set;function es(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var yi=R.d;R.d={f:nm,r:am,D:rm,C:sm,L:lm,m:om,X:cm,S:um,M:fm};function nm(){var t=yi.f(),e=Wr();return t||e}function am(t){var e=pn(t);e!==null&&e.tag===5&&e.type==="form"?kc(e):yi.r(t)}var In=typeof document>"u"?null:document;function ch(t,e,i){var o=In;if(o&&typeof e=="string"&&e){var g=Le(e);g='link[rel="'+t+'"][href="'+g+'"]',typeof i=="string"&&(g+='[crossorigin="'+i+'"]'),uh.has(g)||(uh.add(g),t={rel:t,crossOrigin:i,href:e},o.querySelector(g)===null&&(e=o.createElement("link"),ge(e,"link",t),oe(e),o.head.appendChild(e)))}}function rm(t){yi.D(t),ch("dns-prefetch",t,null)}function sm(t,e){yi.C(t,e),ch("preconnect",t,e)}function lm(t,e,i){yi.L(t,e,i);var o=In;if(o&&t&&e){var g='link[rel="preload"][as="'+Le(e)+'"]';e==="image"&&i&&i.imageSrcSet?(g+='[imagesrcset="'+Le(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(g+='[imagesizes="'+Le(i.imageSizes)+'"]')):g+='[href="'+Le(t)+'"]';var y=g;switch(e){case"style":y=Qn(t);break;case"script":y=Zn(t)}Ne.has(y)||(t=K({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Ne.set(y,t),o.querySelector(g)!==null||e==="style"&&o.querySelector(Ha(y))||e==="script"&&o.querySelector(Ya(y))||(e=o.createElement("link"),ge(e,"link",t),oe(e),o.head.appendChild(e)))}}function om(t,e){yi.m(t,e);var i=In;if(i&&t){var o=e&&typeof e.as=="string"?e.as:"script",g='link[rel="modulepreload"][as="'+Le(o)+'"][href="'+Le(t)+'"]',y=g;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Zn(t)}if(!Ne.has(y)&&(t=K({rel:"modulepreload",href:t},e),Ne.set(y,t),i.querySelector(g)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ya(y)))return}o=i.createElement("link"),ge(o,"link",t),oe(o),i.head.appendChild(o)}}}function um(t,e,i){yi.S(t,e,i);var o=In;if(o&&t){var g=yn(o).hoistableStyles,y=Qn(t);e=e||"default";var T=g.get(y);if(!T){var A={loading:0,preload:null};if(T=o.querySelector(Ha(y)))A.loading=5;else{t=K({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Ne.get(y))&&yo(t,i);var z=T=o.createElement("link");oe(z),ge(z,"link",t),z._p=new Promise(function(N,at){z.onload=N,z.onerror=at}),z.addEventListener("load",function(){A.loading|=1}),z.addEventListener("error",function(){A.loading|=2}),A.loading|=4,is(T,e,o)}T={type:"stylesheet",instance:T,count:1,state:A},g.set(y,T)}}}function cm(t,e){yi.X(t,e);var i=In;if(i&&t){var o=yn(i).hoistableScripts,g=Zn(t),y=o.get(g);y||(y=i.querySelector(Ya(g)),y||(t=K({src:t,async:!0},e),(e=Ne.get(g))&&_o(t,e),y=i.createElement("script"),oe(y),ge(y,"link",t),i.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(g,y))}}function fm(t,e){yi.M(t,e);var i=In;if(i&&t){var o=yn(i).hoistableScripts,g=Zn(t),y=o.get(g);y||(y=i.querySelector(Ya(g)),y||(t=K({src:t,async:!0,type:"module"},e),(e=Ne.get(g))&&_o(t,e),y=i.createElement("script"),oe(y),ge(y,"link",t),i.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(g,y))}}function fh(t,e,i,o){var g=(g=J.current)?es(g):null;if(!g)throw Error(D(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Qn(i.href),i=yn(g).hoistableStyles,o=i.get(e),o||(o={type:"style",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Qn(i.href);var y=yn(g).hoistableStyles,T=y.get(t);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,T),(y=g.querySelector(Ha(t)))&&!y._p&&(T.instance=y,T.state.loading=5),Ne.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ne.set(t,i),y||hm(g,t,i,T.state))),e&&o===null)throw Error(D(528,""));return T}if(e&&o!==null)throw Error(D(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Zn(i),i=yn(g).hoistableScripts,o=i.get(e),o||(o={type:"script",instance:null,count:0,state:null},i.set(e,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(D(444,t))}}function Qn(t){return'href="'+Le(t)+'"'}function Ha(t){return'link[rel="stylesheet"]['+t+"]"}function hh(t){return K({},t,{"data-precedence":t.precedence,precedence:null})}function hm(t,e,i,o){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?o.loading=1:(e=t.createElement("link"),o.preload=e,e.addEventListener("load",function(){return o.loading|=1}),e.addEventListener("error",function(){return o.loading|=2}),ge(e,"link",i),oe(e),t.head.appendChild(e))}function Zn(t){return'[src="'+Le(t)+'"]'}function Ya(t){return"script[async]"+t}function dh(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var o=t.querySelector('style[data-href~="'+Le(i.href)+'"]');if(o)return e.instance=o,oe(o),o;var g=K({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),oe(o),ge(o,"style",g),is(o,i.precedence,t),e.instance=o;case"stylesheet":g=Qn(i.href);var y=t.querySelector(Ha(g));if(y)return e.state.loading|=4,e.instance=y,oe(y),y;o=hh(i),(g=Ne.get(g))&&yo(o,g),y=(t.ownerDocument||t).createElement("link"),oe(y);var T=y;return T._p=new Promise(function(A,z){T.onload=A,T.onerror=z}),ge(y,"link",o),e.state.loading|=4,is(y,i.precedence,t),e.instance=y;case"script":return y=Zn(i.src),(g=t.querySelector(Ya(y)))?(e.instance=g,oe(g),g):(o=i,(g=Ne.get(y))&&(o=K({},i),_o(o,g)),t=t.ownerDocument||t,g=t.createElement("script"),oe(g),ge(g,"link",o),t.head.appendChild(g),e.instance=g);case"void":return null;default:throw Error(D(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(o=e.instance,e.state.loading|=4,is(o,i.precedence,t));return e.instance}function is(t,e,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=o.length?o[o.length-1]:null,y=g,T=0;T<o.length;T++){var A=o[T];if(A.dataset.precedence===e)y=A;else if(y!==g)break}y?y.parentNode.insertBefore(t,y.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function yo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function _o(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ns=null;function gh(t,e,i){if(ns===null){var o=new Map,g=ns=new Map;g.set(i,o)}else g=ns,o=g.get(i),o||(o=new Map,g.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),g=0;g<i.length;g++){var y=i[g];if(!(y[ta]||y[ve]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(e)||"";T=t+T;var A=o.get(T);A?A.push(y):o.set(T,[y])}}return o}function mh(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function dm(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function vh(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Xa=null;function gm(){}function mm(t,e,i){if(Xa===null)throw Error(D(475));var o=Xa;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var g=Qn(i.href),y=t.querySelector(Ha(g));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=as.bind(o),t.then(o,o)),e.state.loading|=4,e.instance=y,oe(y);return}y=t.ownerDocument||t,i=hh(i),(g=Ne.get(g))&&yo(i,g),y=y.createElement("link"),oe(y);var T=y;T._p=new Promise(function(A,z){T.onload=A,T.onerror=z}),ge(y,"link",i),e.instance=y}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(o.count++,e=as.bind(o),t.addEventListener("load",e),t.addEventListener("error",e))}}function vm(){if(Xa===null)throw Error(D(475));var t=Xa;return t.stylesheets&&t.count===0&&So(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&So(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function as(){if(this.count--,this.count===0){if(this.stylesheets)So(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rs=null;function So(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rs=new Map,e.forEach(pm,t),rs=null,as.call(t))}function pm(t,e){if(!(e.state.loading&4)){var i=rs.get(t);if(i)var o=i.get(null);else{i=new Map,rs.set(t,i);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var T=g[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(i.set(T.dataset.precedence,T),o=T)}o&&i.set(null,o)}g=e.instance,T=g.getAttribute("data-precedence"),y=i.get(T)||o,y===o&&i.set(null,g),i.set(T,g),this.count++,o=as.bind(this),g.addEventListener("load",o),g.addEventListener("error",o),y?y.parentNode.insertBefore(g,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),e.state.loading|=4}}var Na={$$typeof:n,Provider:null,Consumer:null,_currentValue:E,_currentValue2:E,_threadCount:0};function ym(t,e,i,o,g,y,T,A){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.hiddenUpdates=Cs(null),this.identifierPrefix=o,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function ph(t,e,i,o,g,y,T,A,z,N,at,gt){return t=new ym(t,e,i,T,A,z,N,gt),e=1,y===!0&&(e|=24),y=Ye(3,null,null,e),t.current=y,y.stateNode=t,e=Ks(),e.refCount++,t.pooledCache=e,e.refCount++,y.memoizedState={element:o,isDehydrated:i,cache:e},Rl(y),t}function yh(t){return t?(t=An,t):An}function _h(t,e,i,o,g,y){g=yh(g),o.context===null?o.context=g:o.pendingContext=g,o=Mi(e),o.payload={element:i},y=y===void 0?null:y,y!==null&&(o.callback=y),i=Ri(t,o,e),i!==null&&(Se(i,t,e),wa(i,t,e))}function Sh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Co(t,e){Sh(t,e),(t=t.alternate)&&Sh(t,e)}function Ch(t){if(t.tag===13){var e=Ti(t,67108864);e!==null&&Se(e,t,67108864),Co(t,67108864)}}var ss=!0;function _m(t,e,i,o){var g=H.T;H.T=null;var y=R.p;try{R.p=2,bo(t,e,i,o)}finally{R.p=y,H.T=g}}function Sm(t,e,i,o){var g=H.T;H.T=null;var y=R.p;try{R.p=8,bo(t,e,i,o)}finally{R.p=y,H.T=g}}function bo(t,e,i,o){if(ss){var g=To(o);if(g===null)uo(t,e,o,ls,i),Th(t,o);else if(bm(g,t,e,i,o))o.stopPropagation();else if(Th(t,o),e&4&&-1<Cm.indexOf(t)){for(;g!==null;){var y=pn(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=qi(y.pendingLanes);if(T!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var z=1<<31-xe(T);A.entanglements[1]|=z,T&=~z}$e(y),!(Qt&6)&&(Gr=Et()+500,za(0))}}break;case 13:A=Ti(y,2),A!==null&&Se(A,y,2),Wr(),Co(y,2)}if(y=To(o),y===null&&uo(t,e,o,ls,i),y===g)break;g=y}g!==null&&o.stopPropagation()}else uo(t,e,o,null,i)}}function To(t){return t=As(t),xo(t)}var ls=null;function xo(t){if(ls=null,t=Wi(t),t!==null){var e=ft(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=O(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ls=t,null}function bh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zt()){case Gt:return 2;case Ht:return 8;case ee:case Zt:return 32;case We:return 268435456;default:return 32}default:return 32}}var wo=!1,Pi=null,Hi=null,Yi=null,Fa=new Map,Ga=new Map,Xi=[],Cm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Th(t,e){switch(t){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Fa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(e.pointerId)}}function Va(t,e,i,o,g,y){return t===null||t.nativeEvent!==y?(t={blockedOn:e,domEventName:i,eventSystemFlags:o,nativeEvent:y,targetContainers:[g]},e!==null&&(e=pn(e),e!==null&&Ch(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,g!==null&&e.indexOf(g)===-1&&e.push(g),t)}function bm(t,e,i,o,g){switch(e){case"focusin":return Pi=Va(Pi,t,e,i,o,g),!0;case"dragenter":return Hi=Va(Hi,t,e,i,o,g),!0;case"mouseover":return Yi=Va(Yi,t,e,i,o,g),!0;case"pointerover":var y=g.pointerId;return Fa.set(y,Va(Fa.get(y)||null,t,e,i,o,g)),!0;case"gotpointercapture":return y=g.pointerId,Ga.set(y,Va(Ga.get(y)||null,t,e,i,o,g)),!0}return!1}function xh(t){var e=Wi(t.target);if(e!==null){var i=ft(e);if(i!==null){if(e=i.tag,e===13){if(e=O(i),e!==null){t.blockedOn=e,vd(t.priority,function(){if(i.tag===13){var o=De(),g=Ti(i,o);g!==null&&Se(g,i,o),Co(i,o)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function os(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=To(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);Es=o,i.target.dispatchEvent(o),Es=null}else return e=pn(i),e!==null&&Ch(e),t.blockedOn=i,!1;e.shift()}return!0}function wh(t,e,i){os(t)&&i.delete(e)}function Tm(){wo=!1,Pi!==null&&os(Pi)&&(Pi=null),Hi!==null&&os(Hi)&&(Hi=null),Yi!==null&&os(Yi)&&(Yi=null),Fa.forEach(wh),Ga.forEach(wh)}function us(t,e){t.blockedOn===e&&(t.blockedOn=null,wo||(wo=!0,C.unstable_scheduleCallback(C.unstable_NormalPriority,Tm)))}var cs=null;function Oh(t){cs!==t&&(cs=t,C.unstable_scheduleCallback(C.unstable_NormalPriority,function(){cs===t&&(cs=null);for(var e=0;e<t.length;e+=3){var i=t[e],o=t[e+1],g=t[e+2];if(typeof o!="function"){if(xo(o||i)===null)continue;break}var y=pn(i);y!==null&&(t.splice(e,3),e-=3,dl(y,{pending:!0,data:g,method:i.method,action:o},o,g))}}))}function qa(t){function e(z){return us(z,t)}Pi!==null&&us(Pi,t),Hi!==null&&us(Hi,t),Yi!==null&&us(Yi,t),Fa.forEach(e),Ga.forEach(e);for(var i=0;i<Xi.length;i++){var o=Xi[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Xi.length&&(i=Xi[0],i.blockedOn===null);)xh(i),i.blockedOn===null&&Xi.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var g=i[o],y=i[o+1],T=g[Ce]||null;if(typeof y=="function")T||Oh(i);else if(T){var A=null;if(y&&y.hasAttribute("formAction")){if(g=y,T=y[Ce]||null)A=T.formAction;else if(xo(g)!==null)continue}else A=T.action;typeof A=="function"?i[o+1]=A:(i.splice(o,3),o-=3),Oh(i)}}}function Oo(t){this._internalRoot=t}fs.prototype.render=Oo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));var i=e.current,o=De();_h(i,o,t,e,null,null)},fs.prototype.unmount=Oo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&Vn(),_h(t.current,2,null,t,null,null),Wr(),e[vn]=null}};function fs(t){this._internalRoot=t}fs.prototype.unstable_scheduleHydration=function(t){if(t){var e=$o();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Xi.length&&e!==0&&e<Xi[i].priority;i++);Xi.splice(i,0,t),i===0&&xh(t)}};var Eh=v.version;if(Eh!=="19.0.0")throw Error(D(527,Eh,"19.0.0"));R.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=M(e),t=t!==null?B(t):null,t=t===null?null:t.stateNode,t};var xm={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:H,findFiberByHostInstance:Wi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{Vi=hs.inject(xm),me=hs}catch{}}return Ia.createRoot=function(t,e){if(!k(t))throw Error(D(299));var i=!1,o="",g=Fc,y=Gc,T=Vc,A=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onUncaughtError!==void 0&&(g=e.onUncaughtError),e.onCaughtError!==void 0&&(y=e.onCaughtError),e.onRecoverableError!==void 0&&(T=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(A=e.unstable_transitionCallbacks)),e=ph(t,1,!1,null,null,i,o,g,y,T,A,null),t[vn]=e.current,oo(t.nodeType===8?t.parentNode:t),new Oo(e)},Ia.hydrateRoot=function(t,e,i){if(!k(t))throw Error(D(299));var o=!1,g="",y=Fc,T=Gc,A=Vc,z=null,N=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onUncaughtError!==void 0&&(y=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(z=i.unstable_transitionCallbacks),i.formState!==void 0&&(N=i.formState)),e=ph(t,1,!0,e,i??null,o,g,y,T,A,z,N),e.context=yh(null),i=e.current,o=De(),g=Mi(o),g.callback=null,Ri(i,g,o),e.current.lanes=o,$n(e,o),$e(e),t[vn]=e.current,oo(t),new fs(e)},Ia.version="19.0.0",Ia}var Uh;function zm(){if(Uh)return Do.exports;Uh=1;function C(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C)}catch(v){console.error(v)}}return C(),Do.exports=km(),Do.exports}var Um=zm();const Pm=Xo(Um);var Qa={},Ph;function Hm(){if(Ph)return Qa;Ph=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.parse=$,Qa.serialize=c;const C=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,v=/^[\u0021-\u003A\u003C-\u007E]*$/,j=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,D=/^[\u0020-\u003A\u003D-\u007E]*$/,k=Object.prototype.toString,F=(()=>{const r=function(){};return r.prototype=Object.create(null),r})();function $(r,n){const u=new F,h=r.length;if(h<2)return u;const s=(n==null?void 0:n.decode)||f;let d=0;do{const p=r.indexOf("=",d);if(p===-1)break;const _=r.indexOf(";",d),S=_===-1?h:_;if(p>S){d=r.lastIndexOf(";",p-1)+1;continue}const b=m(r,d,p),w=l(r,p,b),L=r.slice(b,w);if(u[L]===void 0){let P=m(r,p+1,S),H=l(r,S,P);const K=s(r.slice(P,H));u[L]=K}d=S+1}while(d<h);return u}function m(r,n,u){do{const h=r.charCodeAt(n);if(h!==32&&h!==9)return n}while(++n<u);return u}function l(r,n,u){for(;n>u;){const h=r.charCodeAt(--n);if(h!==32&&h!==9)return n+1}return u}function c(r,n,u){const h=(u==null?void 0:u.encode)||encodeURIComponent;if(!C.test(r))throw new TypeError(`argument name is invalid: ${r}`);const s=h(n);if(!v.test(s))throw new TypeError(`argument val is invalid: ${n}`);let d=r+"="+s;if(!u)return d;if(u.maxAge!==void 0){if(!Number.isInteger(u.maxAge))throw new TypeError(`option maxAge is invalid: ${u.maxAge}`);d+="; Max-Age="+u.maxAge}if(u.domain){if(!j.test(u.domain))throw new TypeError(`option domain is invalid: ${u.domain}`);d+="; Domain="+u.domain}if(u.path){if(!D.test(u.path))throw new TypeError(`option path is invalid: ${u.path}`);d+="; Path="+u.path}if(u.expires){if(!a(u.expires)||!Number.isFinite(u.expires.valueOf()))throw new TypeError(`option expires is invalid: ${u.expires}`);d+="; Expires="+u.expires.toUTCString()}if(u.httpOnly&&(d+="; HttpOnly"),u.secure&&(d+="; Secure"),u.partitioned&&(d+="; Partitioned"),u.priority)switch(typeof u.priority=="string"?u.priority.toLowerCase():void 0){case"low":d+="; Priority=Low";break;case"medium":d+="; Priority=Medium";break;case"high":d+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${u.priority}`)}if(u.sameSite)switch(typeof u.sameSite=="string"?u.sameSite.toLowerCase():u.sameSite){case!0:case"strict":d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"none":d+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${u.sameSite}`)}return d}function f(r){if(r.indexOf("%")===-1)return r;try{return decodeURIComponent(r)}catch{return r}}function a(r){return k.call(r)==="[object Date]"}return Qa}Hm();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hh="popstate";function Ym(C={}){function v(D,k){let{pathname:F,search:$,hash:m}=D.location;return Yo("",{pathname:F,search:$,hash:m},k.state&&k.state.usr||null,k.state&&k.state.key||"default")}function j(D,k){return typeof k=="string"?k:$a(k)}return Nm(v,j,null,C)}function le(C,v){if(C===!1||C===null||typeof C>"u")throw new Error(v)}function ti(C,v){if(!C){typeof console<"u"&&console.warn(v);try{throw new Error(v)}catch{}}}function Xm(){return Math.random().toString(36).substring(2,10)}function Yh(C,v){return{usr:C.state,key:C.key,idx:v}}function Yo(C,v,j=null,D){return{pathname:typeof C=="string"?C:C.pathname,search:"",hash:"",...typeof v=="string"?tr(v):v,state:j,key:v&&v.key||D||Xm()}}function $a({pathname:C="/",search:v="",hash:j=""}){return v&&v!=="?"&&(C+=v.charAt(0)==="?"?v:"?"+v),j&&j!=="#"&&(C+=j.charAt(0)==="#"?j:"#"+j),C}function tr(C){let v={};if(C){let j=C.indexOf("#");j>=0&&(v.hash=C.substring(j),C=C.substring(0,j));let D=C.indexOf("?");D>=0&&(v.search=C.substring(D),C=C.substring(0,D)),C&&(v.pathname=C)}return v}function Nm(C,v,j,D={}){let{window:k=document.defaultView,v5Compat:F=!1}=D,$=k.history,m="POP",l=null,c=f();c==null&&(c=0,$.replaceState({...$.state,idx:c},""));function f(){return($.state||{idx:null}).idx}function a(){m="POP";let s=f(),d=s==null?null:s-c;c=s,l&&l({action:m,location:h.location,delta:d})}function r(s,d){m="PUSH";let p=Yo(h.location,s,d);c=f()+1;let _=Yh(p,c),S=h.createHref(p);try{$.pushState(_,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;k.location.assign(S)}F&&l&&l({action:m,location:h.location,delta:1})}function n(s,d){m="REPLACE";let p=Yo(h.location,s,d);c=f();let _=Yh(p,c),S=h.createHref(p);$.replaceState(_,"",S),F&&l&&l({action:m,location:h.location,delta:0})}function u(s){let d=k.location.origin!=="null"?k.location.origin:k.location.href,p=typeof s=="string"?s:$a(s);return p=p.replace(/ $/,"%20"),le(d,`No window.location.(origin|href) available to create URL for href: ${p}`),new URL(p,d)}let h={get action(){return m},get location(){return C(k,$)},listen(s){if(l)throw new Error("A history only accepts one active listener");return k.addEventListener(Hh,a),l=s,()=>{k.removeEventListener(Hh,a),l=null}},createHref(s){return v(k,s)},createURL:u,encodeLocation(s){let d=u(s);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:r,replace:n,go(s){return $.go(s)}};return h}function Ih(C,v,j="/"){return Fm(C,v,j,!1)}function Fm(C,v,j,D){let k=typeof v=="string"?tr(v):v,F=Fi(k.pathname||"/",j);if(F==null)return null;let $=Qh(C);Gm($);let m=null;for(let l=0;m==null&&l<$.length;++l){let c=ev(F);m=$m($[l],c,D)}return m}function Qh(C,v=[],j=[],D=""){let k=(F,$,m)=>{let l={relativePath:m===void 0?F.path||"":m,caseSensitive:F.caseSensitive===!0,childrenIndex:$,route:F};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(D),`Absolute route path "${l.relativePath}" nested under path "${D}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(D.length));let c=_i([D,l.relativePath]),f=j.concat(l);F.children&&F.children.length>0&&(le(F.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Qh(F.children,v,f,c)),!(F.path==null&&!F.index)&&v.push({path:c,score:Km(c,F.index),routesMeta:f})};return C.forEach((F,$)=>{var m;if(F.path===""||!((m=F.path)!=null&&m.includes("?")))k(F,$);else for(let l of Zh(F.path))k(F,$,l)}),v}function Zh(C){let v=C.split("/");if(v.length===0)return[];let[j,...D]=v,k=j.endsWith("?"),F=j.replace(/\?$/,"");if(D.length===0)return k?[F,""]:[F];let $=Zh(D.join("/")),m=[];return m.push(...$.map(l=>l===""?F:[F,l].join("/"))),k&&m.push(...$),m.map(l=>C.startsWith("/")&&l===""?"/":l)}function Gm(C){C.sort((v,j)=>v.score!==j.score?j.score-v.score:Jm(v.routesMeta.map(D=>D.childrenIndex),j.routesMeta.map(D=>D.childrenIndex)))}var Vm=/^:[\w-]+$/,qm=3,Wm=2,Im=1,Qm=10,Zm=-2,Xh=C=>C==="*";function Km(C,v){let j=C.split("/"),D=j.length;return j.some(Xh)&&(D+=Zm),v&&(D+=Wm),j.filter(k=>!Xh(k)).reduce((k,F)=>k+(Vm.test(F)?qm:F===""?Im:Qm),D)}function Jm(C,v){return C.length===v.length&&C.slice(0,-1).every((D,k)=>D===v[k])?C[C.length-1]-v[v.length-1]:0}function $m(C,v,j=!1){let{routesMeta:D}=C,k={},F="/",$=[];for(let m=0;m<D.length;++m){let l=D[m],c=m===D.length-1,f=F==="/"?v:v.slice(F.length)||"/",a=vs({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),r=l.route;if(!a&&c&&j&&!D[D.length-1].route.index&&(a=vs({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!a)return null;Object.assign(k,a.params),$.push({params:k,pathname:_i([F,a.pathname]),pathnameBase:rv(_i([F,a.pathnameBase])),route:r}),a.pathnameBase!=="/"&&(F=_i([F,a.pathnameBase]))}return $}function vs(C,v){typeof C=="string"&&(C={path:C,caseSensitive:!1,end:!0});let[j,D]=tv(C.path,C.caseSensitive,C.end),k=v.match(j);if(!k)return null;let F=k[0],$=F.replace(/(.)\/+$/,"$1"),m=k.slice(1);return{params:D.reduce((c,{paramName:f,isOptional:a},r)=>{if(f==="*"){let u=m[r]||"";$=F.slice(0,F.length-u.length).replace(/(.)\/+$/,"$1")}const n=m[r];return a&&!n?c[f]=void 0:c[f]=(n||"").replace(/%2F/g,"/"),c},{}),pathname:F,pathnameBase:$,pattern:C}}function tv(C,v=!1,j=!0){ti(C==="*"||!C.endsWith("*")||C.endsWith("/*"),`Route path "${C}" will be treated as if it were "${C.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${C.replace(/\*$/,"/*")}".`);let D=[],k="^"+C.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,($,m,l)=>(D.push({paramName:m,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return C.endsWith("*")?(D.push({paramName:"*"}),k+=C==="*"||C==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):j?k+="\\/*$":C!==""&&C!=="/"&&(k+="(?:(?=\\/|$))"),[new RegExp(k,v?void 0:"i"),D]}function ev(C){try{return C.split("/").map(v=>decodeURIComponent(v).replace(/\//g,"%2F")).join("/")}catch(v){return ti(!1,`The URL path "${C}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${v}).`),C}}function Fi(C,v){if(v==="/")return C;if(!C.toLowerCase().startsWith(v.toLowerCase()))return null;let j=v.endsWith("/")?v.length-1:v.length,D=C.charAt(j);return D&&D!=="/"?null:C.slice(j)||"/"}function iv(C,v="/"){let{pathname:j,search:D="",hash:k=""}=typeof C=="string"?tr(C):C;return{pathname:j?j.startsWith("/")?j:nv(j,v):v,search:sv(D),hash:lv(k)}}function nv(C,v){let j=v.replace(/\/+$/,"").split("/");return C.split("/").forEach(k=>{k===".."?j.length>1&&j.pop():k!=="."&&j.push(k)}),j.length>1?j.join("/"):"/"}function Bo(C,v,j,D){return`Cannot include a '${C}' character in a manually specified \`to.${v}\` field [${JSON.stringify(D)}].  Please separate it out to the \`to.${j}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function av(C){return C.filter((v,j)=>j===0||v.route.path&&v.route.path.length>0)}function Kh(C){let v=av(C);return v.map((j,D)=>D===v.length-1?j.pathname:j.pathnameBase)}function Jh(C,v,j,D=!1){let k;typeof C=="string"?k=tr(C):(k={...C},le(!k.pathname||!k.pathname.includes("?"),Bo("?","pathname","search",k)),le(!k.pathname||!k.pathname.includes("#"),Bo("#","pathname","hash",k)),le(!k.search||!k.search.includes("#"),Bo("#","search","hash",k)));let F=C===""||k.pathname==="",$=F?"/":k.pathname,m;if($==null)m=j;else{let a=v.length-1;if(!D&&$.startsWith("..")){let r=$.split("/");for(;r[0]==="..";)r.shift(),a-=1;k.pathname=r.join("/")}m=a>=0?v[a]:"/"}let l=iv(k,m),c=$&&$!=="/"&&$.endsWith("/"),f=(F||$===".")&&j.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}var _i=C=>C.join("/").replace(/\/\/+/g,"/"),rv=C=>C.replace(/\/+$/,"").replace(/^\/*/,"/"),sv=C=>!C||C==="?"?"":C.startsWith("?")?C:"?"+C,lv=C=>!C||C==="#"?"":C.startsWith("#")?C:"#"+C;function ov(C){return C!=null&&typeof C.status=="number"&&typeof C.statusText=="string"&&typeof C.internal=="boolean"&&"data"in C}var $h=["POST","PUT","PATCH","DELETE"];new Set($h);var uv=["GET",...$h];new Set(uv);var Kn=ut.createContext(null);Kn.displayName="DataRouter";var ps=ut.createContext(null);ps.displayName="DataRouterState";var td=ut.createContext({isTransitioning:!1});td.displayName="ViewTransition";var cv=ut.createContext(new Map);cv.displayName="Fetchers";var fv=ut.createContext(null);fv.displayName="Await";var ei=ut.createContext(null);ei.displayName="Navigation";var ys=ut.createContext(null);ys.displayName="Location";var Si=ut.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var Fo=ut.createContext(null);Fo.displayName="RouteError";function hv(C,{relative:v}={}){le(er(),"useHref() may be used only in the context of a <Router> component.");let{basename:j,navigator:D}=ut.useContext(ei),{hash:k,pathname:F,search:$}=ir(C,{relative:v}),m=F;return j!=="/"&&(m=F==="/"?j:_i([j,F])),D.createHref({pathname:m,search:$,hash:k})}function er(){return ut.useContext(ys)!=null}function mn(){return le(er(),"useLocation() may be used only in the context of a <Router> component."),ut.useContext(ys).location}var ed="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function id(C){ut.useContext(ei).static||ut.useLayoutEffect(C)}function dv(){let{isDataRoute:C}=ut.useContext(Si);return C?Ov():gv()}function gv(){le(er(),"useNavigate() may be used only in the context of a <Router> component.");let C=ut.useContext(Kn),{basename:v,navigator:j}=ut.useContext(ei),{matches:D}=ut.useContext(Si),{pathname:k}=mn(),F=JSON.stringify(Kh(D)),$=ut.useRef(!1);return id(()=>{$.current=!0}),ut.useCallback((l,c={})=>{if(ti($.current,ed),!$.current)return;if(typeof l=="number"){j.go(l);return}let f=Jh(l,JSON.parse(F),k,c.relative==="path");C==null&&v!=="/"&&(f.pathname=f.pathname==="/"?v:_i([v,f.pathname])),(c.replace?j.replace:j.push)(f,c.state,c)},[v,j,F,k,C])}ut.createContext(null);function ir(C,{relative:v}={}){let{matches:j}=ut.useContext(Si),{pathname:D}=mn(),k=JSON.stringify(Kh(j));return ut.useMemo(()=>Jh(C,JSON.parse(k),D,v==="path"),[C,k,D,v])}function mv(C,v,j,D){le(er(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:k,static:F}=ut.useContext(ei),{matches:$}=ut.useContext(Si),m=$[$.length-1],l=m?m.params:{},c=m?m.pathname:"/",f=m?m.pathnameBase:"/",a=m&&m.route;{let p=a&&a.path||"";nd(c,!a||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let r=mn(),n;n=r;let u=n.pathname||"/",h=u;if(f!=="/"){let p=f.replace(/^\//,"").split("/");h="/"+u.replace(/^\//,"").split("/").slice(p.length).join("/")}let s=!F&&j&&j.matches&&j.matches.length>0?j.matches:Ih(C,{pathname:h});return ti(a||s!=null,`No routes matched location "${n.pathname}${n.search}${n.hash}" `),ti(s==null||s[s.length-1].route.element!==void 0||s[s.length-1].route.Component!==void 0||s[s.length-1].route.lazy!==void 0,`Matched leaf route at location "${n.pathname}${n.search}${n.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Sv(s&&s.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:_i([f,k.encodeLocation?k.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?f:_i([f,k.encodeLocation?k.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),$,j,D)}function vv(){let C=wv(),v=ov(C)?`${C.status} ${C.statusText}`:C instanceof Error?C.message:JSON.stringify(C),j=C instanceof Error?C.stack:null,D="rgba(200,200,200, 0.5)",k={padding:"0.5rem",backgroundColor:D},F={padding:"2px 4px",backgroundColor:D},$=null;return console.error("Error handled by React Router default ErrorBoundary:",C),$=ut.createElement(ut.Fragment,null,ut.createElement("p",null,"💿 Hey developer 👋"),ut.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ut.createElement("code",{style:F},"ErrorBoundary")," or"," ",ut.createElement("code",{style:F},"errorElement")," prop on your route.")),ut.createElement(ut.Fragment,null,ut.createElement("h2",null,"Unexpected Application Error!"),ut.createElement("h3",{style:{fontStyle:"italic"}},v),j?ut.createElement("pre",{style:k},j):null,$)}var pv=ut.createElement(vv,null),yv=class extends ut.Component{constructor(C){super(C),this.state={location:C.location,revalidation:C.revalidation,error:C.error}}static getDerivedStateFromError(C){return{error:C}}static getDerivedStateFromProps(C,v){return v.location!==C.location||v.revalidation!=="idle"&&C.revalidation==="idle"?{error:C.error,location:C.location,revalidation:C.revalidation}:{error:C.error!==void 0?C.error:v.error,location:v.location,revalidation:C.revalidation||v.revalidation}}componentDidCatch(C,v){console.error("React Router caught the following error during render",C,v)}render(){return this.state.error!==void 0?ut.createElement(Si.Provider,{value:this.props.routeContext},ut.createElement(Fo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _v({routeContext:C,match:v,children:j}){let D=ut.useContext(Kn);return D&&D.static&&D.staticContext&&(v.route.errorElement||v.route.ErrorBoundary)&&(D.staticContext._deepestRenderedBoundaryId=v.route.id),ut.createElement(Si.Provider,{value:C},j)}function Sv(C,v=[],j=null,D=null){if(C==null){if(!j)return null;if(j.errors)C=j.matches;else if(v.length===0&&!j.initialized&&j.matches.length>0)C=j.matches;else return null}let k=C,F=j==null?void 0:j.errors;if(F!=null){let l=k.findIndex(c=>c.route.id&&(F==null?void 0:F[c.route.id])!==void 0);le(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(F).join(",")}`),k=k.slice(0,Math.min(k.length,l+1))}let $=!1,m=-1;if(j)for(let l=0;l<k.length;l++){let c=k[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(m=l),c.route.id){let{loaderData:f,errors:a}=j,r=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!a||a[c.route.id]===void 0);if(c.route.lazy||r){$=!0,m>=0?k=k.slice(0,m+1):k=[k[0]];break}}}return k.reduceRight((l,c,f)=>{let a,r=!1,n=null,u=null;j&&(a=F&&c.route.id?F[c.route.id]:void 0,n=c.route.errorElement||pv,$&&(m<0&&f===0?(nd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),r=!0,u=null):m===f&&(r=!0,u=c.route.hydrateFallbackElement||null)));let h=v.concat(k.slice(0,f+1)),s=()=>{let d;return a?d=n:r?d=u:c.route.Component?d=ut.createElement(c.route.Component,null):c.route.element?d=c.route.element:d=l,ut.createElement(_v,{match:c,routeContext:{outlet:l,matches:h,isDataRoute:j!=null},children:d})};return j&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?ut.createElement(yv,{location:j.location,revalidation:j.revalidation,component:n,error:a,children:s(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):s()},null)}function Go(C){return`${C} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cv(C){let v=ut.useContext(Kn);return le(v,Go(C)),v}function bv(C){let v=ut.useContext(ps);return le(v,Go(C)),v}function Tv(C){let v=ut.useContext(Si);return le(v,Go(C)),v}function Vo(C){let v=Tv(C),j=v.matches[v.matches.length-1];return le(j.route.id,`${C} can only be used on routes that contain a unique "id"`),j.route.id}function xv(){return Vo("useRouteId")}function wv(){var D;let C=ut.useContext(Fo),v=bv("useRouteError"),j=Vo("useRouteError");return C!==void 0?C:(D=v.errors)==null?void 0:D[j]}function Ov(){let{router:C}=Cv("useNavigate"),v=Vo("useNavigate"),j=ut.useRef(!1);return id(()=>{j.current=!0}),ut.useCallback(async(k,F={})=>{ti(j.current,ed),j.current&&(typeof k=="number"?C.navigate(k):await C.navigate(k,{fromRouteId:v,...F}))},[C,v])}var Nh={};function nd(C,v,j){!v&&!Nh[C]&&(Nh[C]=!0,ti(!1,j))}ut.memo(Ev);function Ev({routes:C,future:v,state:j}){return mv(C,void 0,j,v)}function Av({basename:C="/",children:v=null,location:j,navigationType:D="POP",navigator:k,static:F=!1}){le(!er(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let $=C.replace(/^\/*/,"/"),m=ut.useMemo(()=>({basename:$,navigator:k,static:F,future:{}}),[$,k,F]);typeof j=="string"&&(j=tr(j));let{pathname:l="/",search:c="",hash:f="",state:a=null,key:r="default"}=j,n=ut.useMemo(()=>{let u=Fi(l,$);return u==null?null:{location:{pathname:u,search:c,hash:f,state:a,key:r},navigationType:D}},[$,l,c,f,a,r,D]);return ti(n!=null,`<Router basename="${$}"> is not able to match the URL "${l}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),n==null?null:ut.createElement(ei.Provider,{value:m},ut.createElement(ys.Provider,{children:v,value:n}))}var gs="get",ms="application/x-www-form-urlencoded";function _s(C){return C!=null&&typeof C.tagName=="string"}function Dv(C){return _s(C)&&C.tagName.toLowerCase()==="button"}function Mv(C){return _s(C)&&C.tagName.toLowerCase()==="form"}function Rv(C){return _s(C)&&C.tagName.toLowerCase()==="input"}function Lv(C){return!!(C.metaKey||C.altKey||C.ctrlKey||C.shiftKey)}function Bv(C,v){return C.button===0&&(!v||v==="_self")&&!Lv(C)}var ds=null;function jv(){if(ds===null)try{new FormData(document.createElement("form"),0),ds=!1}catch{ds=!0}return ds}var kv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jo(C){return C!=null&&!kv.has(C)?(ti(!1,`"${C}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ms}"`),null):C}function zv(C,v){let j,D,k,F,$;if(Mv(C)){let m=C.getAttribute("action");D=m?Fi(m,v):null,j=C.getAttribute("method")||gs,k=jo(C.getAttribute("enctype"))||ms,F=new FormData(C)}else if(Dv(C)||Rv(C)&&(C.type==="submit"||C.type==="image")){let m=C.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=C.getAttribute("formaction")||m.getAttribute("action");if(D=l?Fi(l,v):null,j=C.getAttribute("formmethod")||m.getAttribute("method")||gs,k=jo(C.getAttribute("formenctype"))||jo(m.getAttribute("enctype"))||ms,F=new FormData(m,C),!jv()){let{name:c,type:f,value:a}=C;if(f==="image"){let r=c?`${c}.`:"";F.append(`${r}x`,"0"),F.append(`${r}y`,"0")}else c&&F.append(c,a)}}else{if(_s(C))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');j=gs,D=null,k=ms,$=C}return F&&k==="text/plain"&&($=F,F=void 0),{action:D,method:j.toLowerCase(),encType:k,formData:F,body:$}}function qo(C,v){if(C===!1||C===null||typeof C>"u")throw new Error(v)}async function Uv(C,v){if(C.id in v)return v[C.id];try{let j=await import(C.module);return v[C.id]=j,j}catch(j){return console.error(`Error loading route module \`${C.module}\`, reloading page...`),console.error(j),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pv(C){return C==null?!1:C.href==null?C.rel==="preload"&&typeof C.imageSrcSet=="string"&&typeof C.imageSizes=="string":typeof C.rel=="string"&&typeof C.href=="string"}async function Hv(C,v,j){let D=await Promise.all(C.map(async k=>{let F=v.routes[k.route.id];if(F){let $=await Uv(F,j);return $.links?$.links():[]}return[]}));return Fv(D.flat(1).filter(Pv).filter(k=>k.rel==="stylesheet"||k.rel==="preload").map(k=>k.rel==="stylesheet"?{...k,rel:"prefetch",as:"style"}:{...k,rel:"prefetch"}))}function Fh(C,v,j,D,k,F){let $=(l,c)=>j[c]?l.route.id!==j[c].route.id:!0,m=(l,c)=>{var f;return j[c].pathname!==l.pathname||((f=j[c].route.path)==null?void 0:f.endsWith("*"))&&j[c].params["*"]!==l.params["*"]};return F==="assets"?v.filter((l,c)=>$(l,c)||m(l,c)):F==="data"?v.filter((l,c)=>{var a;let f=D.routes[l.route.id];if(!f||!f.hasLoader)return!1;if($(l,c)||m(l,c))return!0;if(l.route.shouldRevalidate){let r=l.route.shouldRevalidate({currentUrl:new URL(k.pathname+k.search+k.hash,window.origin),currentParams:((a=j[0])==null?void 0:a.params)||{},nextUrl:new URL(C,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof r=="boolean")return r}return!0}):[]}function Yv(C,v){return Xv(C.map(j=>{let D=v.routes[j.route.id];if(!D)return[];let k=[D.module];return D.imports&&(k=k.concat(D.imports)),k}).flat(1))}function Xv(C){return[...new Set(C)]}function Nv(C){let v={},j=Object.keys(C).sort();for(let D of j)v[D]=C[D];return v}function Fv(C,v){let j=new Set;return new Set(v),C.reduce((D,k)=>{let F=JSON.stringify(Nv(k));return j.has(F)||(j.add(F),D.push({key:F,link:k})),D},[])}function Gv(C){let v=typeof C=="string"?new URL(C,typeof window>"u"?"server://singlefetch/":window.location.origin):C;return v.pathname==="/"?v.pathname="_root.data":v.pathname=`${v.pathname.replace(/\/$/,"")}.data`,v}function Vv(){let C=ut.useContext(Kn);return qo(C,"You must render this element inside a <DataRouterContext.Provider> element"),C}function qv(){let C=ut.useContext(ps);return qo(C,"You must render this element inside a <DataRouterStateContext.Provider> element"),C}var Wo=ut.createContext(void 0);Wo.displayName="FrameworkContext";function ad(){let C=ut.useContext(Wo);return qo(C,"You must render this element inside a <HydratedRouter> element"),C}function Wv(C,v){let j=ut.useContext(Wo),[D,k]=ut.useState(!1),[F,$]=ut.useState(!1),{onFocus:m,onBlur:l,onMouseEnter:c,onMouseLeave:f,onTouchStart:a}=v,r=ut.useRef(null);ut.useEffect(()=>{if(C==="render"&&$(!0),C==="viewport"){let h=d=>{d.forEach(p=>{$(p.isIntersecting)})},s=new IntersectionObserver(h,{threshold:.5});return r.current&&s.observe(r.current),()=>{s.disconnect()}}},[C]),ut.useEffect(()=>{if(D){let h=setTimeout(()=>{$(!0)},100);return()=>{clearTimeout(h)}}},[D]);let n=()=>{k(!0)},u=()=>{k(!1),$(!1)};return j?C!=="intent"?[F,r,{}]:[F,r,{onFocus:Za(m,n),onBlur:Za(l,u),onMouseEnter:Za(c,n),onMouseLeave:Za(f,u),onTouchStart:Za(a,n)}]:[!1,r,{}]}function Za(C,v){return j=>{C&&C(j),j.defaultPrevented||v(j)}}function Iv({page:C,...v}){let{router:j}=Vv(),D=ut.useMemo(()=>Ih(j.routes,C,j.basename),[j.routes,C,j.basename]);return D?ut.createElement(Zv,{page:C,matches:D,...v}):null}function Qv(C){let{manifest:v,routeModules:j}=ad(),[D,k]=ut.useState([]);return ut.useEffect(()=>{let F=!1;return Hv(C,v,j).then($=>{F||k($)}),()=>{F=!0}},[C,v,j]),D}function Zv({page:C,matches:v,...j}){let D=mn(),{manifest:k,routeModules:F}=ad(),{loaderData:$,matches:m}=qv(),l=ut.useMemo(()=>Fh(C,v,m,k,D,"data"),[C,v,m,k,D]),c=ut.useMemo(()=>Fh(C,v,m,k,D,"assets"),[C,v,m,k,D]),f=ut.useMemo(()=>{if(C===D.pathname+D.search+D.hash)return[];let n=new Set,u=!1;if(v.forEach(s=>{var p;let d=k.routes[s.route.id];!d||!d.hasLoader||(!l.some(_=>_.route.id===s.route.id)&&s.route.id in $&&((p=F[s.route.id])!=null&&p.shouldRevalidate)||d.hasClientLoader?u=!0:n.add(s.route.id))}),n.size===0)return[];let h=Gv(C);return u&&n.size>0&&h.searchParams.set("_routes",v.filter(s=>n.has(s.route.id)).map(s=>s.route.id).join(",")),[h.pathname+h.search]},[$,D,k,l,v,C,F]),a=ut.useMemo(()=>Yv(c,k),[c,k]),r=Qv(c);return ut.createElement(ut.Fragment,null,f.map(n=>ut.createElement("link",{key:n,rel:"prefetch",as:"fetch",href:n,...j})),a.map(n=>ut.createElement("link",{key:n,rel:"modulepreload",href:n,...j})),r.map(({key:n,link:u})=>ut.createElement("link",{key:n,...u})))}function Kv(...C){return v=>{C.forEach(j=>{typeof j=="function"?j(v):j!=null&&(j.current=v)})}}var rd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rd&&(window.__reactRouterVersion="7.1.5")}catch{}function Jv({basename:C,children:v,window:j}){let D=ut.useRef();D.current==null&&(D.current=Ym({window:j,v5Compat:!0}));let k=D.current,[F,$]=ut.useState({action:k.action,location:k.location}),m=ut.useCallback(l=>{ut.startTransition(()=>$(l))},[$]);return ut.useLayoutEffect(()=>k.listen(m),[k,m]),ut.createElement(Av,{basename:C,children:v,location:F.location,navigationType:F.action,navigator:k})}var sd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ld=ut.forwardRef(function({onClick:v,discover:j="render",prefetch:D="none",relative:k,reloadDocument:F,replace:$,state:m,target:l,to:c,preventScrollReset:f,viewTransition:a,...r},n){let{basename:u}=ut.useContext(ei),h=typeof c=="string"&&sd.test(c),s,d=!1;if(typeof c=="string"&&h&&(s=c,rd))try{let H=new URL(window.location.href),K=c.startsWith("//")?new URL(H.protocol+c):new URL(c),dt=Fi(K.pathname,u);K.origin===H.origin&&dt!=null?c=dt+K.search+K.hash:d=!0}catch{ti(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=hv(c,{relative:k}),[_,S,b]=Wv(D,r),w=ip(c,{replace:$,state:m,target:l,preventScrollReset:f,relative:k,viewTransition:a});function L(H){v&&v(H),H.defaultPrevented||w(H)}let P=ut.createElement("a",{...r,...b,href:s||p,onClick:d||F?v:L,ref:Kv(n,S),target:l,"data-discover":!h&&j==="render"?"true":void 0});return _&&!h?ut.createElement(ut.Fragment,null,P,ut.createElement(Iv,{page:p})):P});ld.displayName="Link";var $v=ut.forwardRef(function({"aria-current":v="page",caseSensitive:j=!1,className:D="",end:k=!1,style:F,to:$,viewTransition:m,children:l,...c},f){let a=ir($,{relative:c.relative}),r=mn(),n=ut.useContext(ps),{navigator:u,basename:h}=ut.useContext(ei),s=n!=null&&lp(a)&&m===!0,d=u.encodeLocation?u.encodeLocation(a).pathname:a.pathname,p=r.pathname,_=n&&n.navigation&&n.navigation.location?n.navigation.location.pathname:null;j||(p=p.toLowerCase(),_=_?_.toLowerCase():null,d=d.toLowerCase()),_&&h&&(_=Fi(_,h)||_);const S=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let b=p===d||!k&&p.startsWith(d)&&p.charAt(S)==="/",w=_!=null&&(_===d||!k&&_.startsWith(d)&&_.charAt(d.length)==="/"),L={isActive:b,isPending:w,isTransitioning:s},P=b?v:void 0,H;typeof D=="function"?H=D(L):H=[D,b?"active":null,w?"pending":null,s?"transitioning":null].filter(Boolean).join(" ");let K=typeof F=="function"?F(L):F;return ut.createElement(ld,{...c,"aria-current":P,className:H,ref:f,style:K,to:$,viewTransition:m},typeof l=="function"?l(L):l)});$v.displayName="NavLink";var tp=ut.forwardRef(({discover:C="render",fetcherKey:v,navigate:j,reloadDocument:D,replace:k,state:F,method:$=gs,action:m,onSubmit:l,relative:c,preventScrollReset:f,viewTransition:a,...r},n)=>{let u=rp(),h=sp(m,{relative:c}),s=$.toLowerCase()==="get"?"get":"post",d=typeof m=="string"&&sd.test(m),p=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let S=_.nativeEvent.submitter,b=(S==null?void 0:S.getAttribute("formmethod"))||$;u(S||_.currentTarget,{fetcherKey:v,method:b,navigate:j,replace:k,state:F,relative:c,preventScrollReset:f,viewTransition:a})};return ut.createElement("form",{ref:n,method:s,action:h,onSubmit:D?l:p,...r,"data-discover":!d&&C==="render"?"true":void 0})});tp.displayName="Form";function ep(C){return`${C} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function od(C){let v=ut.useContext(Kn);return le(v,ep(C)),v}function ip(C,{target:v,replace:j,state:D,preventScrollReset:k,relative:F,viewTransition:$}={}){let m=dv(),l=mn(),c=ir(C,{relative:F});return ut.useCallback(f=>{if(Bv(f,v)){f.preventDefault();let a=j!==void 0?j:$a(l)===$a(c);m(C,{replace:a,state:D,preventScrollReset:k,relative:F,viewTransition:$})}},[l,m,c,j,D,v,C,k,F,$])}var np=0,ap=()=>`__${String(++np)}__`;function rp(){let{router:C}=od("useSubmit"),{basename:v}=ut.useContext(ei),j=xv();return ut.useCallback(async(D,k={})=>{let{action:F,method:$,encType:m,formData:l,body:c}=zv(D,v);if(k.navigate===!1){let f=k.fetcherKey||ap();await C.fetch(f,j,k.action||F,{preventScrollReset:k.preventScrollReset,formData:l,body:c,formMethod:k.method||$,formEncType:k.encType||m,flushSync:k.flushSync})}else await C.navigate(k.action||F,{preventScrollReset:k.preventScrollReset,formData:l,body:c,formMethod:k.method||$,formEncType:k.encType||m,replace:k.replace,state:k.state,fromRouteId:j,flushSync:k.flushSync,viewTransition:k.viewTransition})},[C,v,j])}function sp(C,{relative:v}={}){let{basename:j}=ut.useContext(ei),D=ut.useContext(Si);le(D,"useFormAction must be used inside a RouteContext");let[k]=D.matches.slice(-1),F={...ir(C||".",{relative:v})},$=mn();if(C==null){F.search=$.search;let m=new URLSearchParams(F.search),l=m.getAll("index");if(l.some(f=>f==="")){m.delete("index"),l.filter(a=>a).forEach(a=>m.append("index",a));let f=m.toString();F.search=f?`?${f}`:""}}return(!C||C===".")&&k.route.index&&(F.search=F.search?F.search.replace(/^\?/,"?index&"):"?index"),j!=="/"&&(F.pathname=F.pathname==="/"?j:_i([j,F.pathname])),$a(F)}function lp(C,v={}){let j=ut.useContext(td);le(j!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:D}=od("useViewTransitionState"),k=ir(C,{relative:v.relative});if(!j.isTransitioning)return!1;let F=Fi(j.currentLocation.pathname,D)||j.currentLocation.pathname,$=Fi(j.nextLocation.pathname,D)||j.nextLocation.pathname;return vs(k.pathname,$)!=null||vs(k.pathname,F)!=null}new TextEncoder;var ko={};const op={},up=Object.freeze(Object.defineProperty({__proto__:null,default:op},Symbol.toStringTag,{value:"Module"})),zo=Om(up);var Gh;function cp(){return Gh||(Gh=1,function(C){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var v=v||{version:"5.2.4"};if(C.fabric=v,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?v.document=document:v.document=document.implementation.createHTMLDocument(""),v.window=window;else{var j=zo,D=new j.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;v.document=D.document,v.jsdomImplForWrapper=zo.implForWrapper,v.nodeCanvas=zo.Canvas,v.window=D,DOMParser=v.window.DOMParser}v.isTouchSupported="ontouchstart"in v.window||"ontouchstart"in v.document||v.window&&v.window.navigator&&v.window.navigator.maxTouchPoints>0,v.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",v.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],v.DPI=96,v.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",v.commaWsp="(?:\\s+,?\\s*|,\\s*)",v.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,v.reNonWord=/[ \n\.,;!\?\-]/,v.fontPaths={},v.iMatrix=[1,0,0,1,0,0],v.svgNS="http://www.w3.org/2000/svg",v.perfLimitSizeTotal=2097152,v.maxCacheSideLimit=4096,v.minCacheSideLimit=256,v.charWidthsCache={},v.textureSize=2048,v.disableStyleCopyPaste=!1,v.enableGLFiltering=!0,v.devicePixelRatio=v.window.devicePixelRatio||v.window.webkitDevicePixelRatio||v.window.mozDevicePixelRatio||1,v.browserShadowBlurConstant=1,v.arcToSegmentsCache={},v.boundsOfCurveCache={},v.cachesBoundsOfCurve=!0,v.forceGLPutImageData=!1,v.initFilterBackend=function(){if(v.enableGLFiltering&&v.isWebglSupported&&v.isWebglSupported(v.textureSize))return console.log("max texture size: "+v.maxTextureSize),new v.WebglFilterBackend({tileSize:v.textureSize});if(v.Canvas2dFilterBackend)return new v.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=v),function(){function m(n,u){if(this.__eventListeners[n]){var h=this.__eventListeners[n];u?h[h.indexOf(u)]=!1:v.util.array.fill(h,!1)}}function l(n,u){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var h in n)this.on(h,n[h]);else this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(u);return this}function c(n,u){var h=(function(){u.apply(this,arguments),this.off(n,h)}).bind(this);this.on(n,h)}function f(n,u){if(arguments.length===1)for(var h in n)c.call(this,h,n[h]);else c.call(this,n,u);return this}function a(n,u){if(!this.__eventListeners)return this;if(arguments.length===0)for(n in this.__eventListeners)m.call(this,n);else if(arguments.length===1&&typeof arguments[0]=="object")for(var h in n)m.call(this,h,n[h]);else m.call(this,n,u);return this}function r(n,u){if(!this.__eventListeners)return this;var h=this.__eventListeners[n];if(!h)return this;for(var s=0,d=h.length;s<d;s++)h[s]&&h[s].call(this,u||{});return this.__eventListeners[n]=h.filter(function(p){return p!==!1}),this}v.Observable={fire:r,on:l,once:f,off:a}}(),v.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var m=0,l=arguments.length;m<l;m++)this._onObjectAdded(arguments[m]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(m,l,c){var f=this._objects;return c?f[l]=m:f.splice(l,0,m),this._onObjectAdded&&this._onObjectAdded(m),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var m=this._objects,l,c=!1,f=0,a=arguments.length;f<a;f++)l=m.indexOf(arguments[f]),l!==-1&&(c=!0,m.splice(l,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&c&&this.requestRenderAll(),this},forEachObject:function(m,l){for(var c=this.getObjects(),f=0,a=c.length;f<a;f++)m.call(l,c[f],f,c);return this},getObjects:function(m){return typeof m>"u"?this._objects.concat():this._objects.filter(function(l){return l.type===m})},item:function(m){return this._objects[m]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(m,l){return this._objects.indexOf(m)>-1?!0:l?this._objects.some(function(c){return typeof c.contains=="function"&&c.contains(m,!0)}):!1},complexity:function(){return this._objects.reduce(function(m,l){return m+=l.complexity?l.complexity():0,m},0)}},v.CommonMethods={_setOptions:function(m){for(var l in m)this.set(l,m[l])},_initGradient:function(m,l){m&&m.colorStops&&!(m instanceof v.Gradient)&&this.set(l,new v.Gradient(m))},_initPattern:function(m,l,c){m&&m.source&&!(m instanceof v.Pattern)?this.set(l,new v.Pattern(m,c)):c&&c()},_setObject:function(m){for(var l in m)this._set(l,m[l])},set:function(m,l){return typeof m=="object"?this._setObject(m):this._set(m,l),this},_set:function(m,l){this[m]=l},toggle:function(m){var l=this.get(m);return typeof l=="boolean"&&this.set(m,!l),this},get:function(m){return this[m]}},function(m){var l=Math.sqrt,c=Math.atan2,f=Math.pow,a=Math.PI/180,r=Math.PI/2;v.util={cos:function(n){if(n===0)return 1;n<0&&(n=-n);var u=n/r;switch(u){case 1:case 3:return 0;case 2:return-1}return Math.cos(n)},sin:function(n){if(n===0)return 0;var u=n/r,h=1;switch(n<0&&(h=-1),u){case 1:return h;case 2:return 0;case 3:return-h}return Math.sin(n)},removeFromArray:function(n,u){var h=n.indexOf(u);return h!==-1&&n.splice(h,1),n},getRandomInt:function(n,u){return Math.floor(Math.random()*(u-n+1))+n},degreesToRadians:function(n){return n*a},radiansToDegrees:function(n){return n/a},rotatePoint:function(n,u,h){var s=new v.Point(n.x-u.x,n.y-u.y),d=v.util.rotateVector(s,h);return new v.Point(d.x,d.y).addEquals(u)},rotateVector:function(n,u){var h=v.util.sin(u),s=v.util.cos(u),d=n.x*s-n.y*h,p=n.x*h+n.y*s;return{x:d,y:p}},createVector:function(n,u){return new v.Point(u.x-n.x,u.y-n.y)},calcAngleBetweenVectors:function(n,u){return Math.acos((n.x*u.x+n.y*u.y)/(Math.hypot(n.x,n.y)*Math.hypot(u.x,u.y)))},getHatVector:function(n){return new v.Point(n.x,n.y).multiply(1/Math.hypot(n.x,n.y))},getBisector:function(n,u,h){var s=v.util.createVector(n,u),d=v.util.createVector(n,h),p=v.util.calcAngleBetweenVectors(s,d),_=v.util.calcAngleBetweenVectors(v.util.rotateVector(s,p),d),S=p*(_===0?1:-1)/2;return{vector:v.util.getHatVector(v.util.rotateVector(s,S)),angle:p}},projectStrokeOnPoints:function(n,u,h){var s=[],d=u.strokeWidth/2,p=u.strokeUniform?new v.Point(1/u.scaleX,1/u.scaleY):new v.Point(1,1),_=function(S){var b=d/Math.hypot(S.x,S.y);return new v.Point(S.x*b*p.x,S.y*b*p.y)};return n.length<=1||n.forEach(function(S,b){var w=new v.Point(S.x,S.y),L,P;b===0?(P=n[b+1],L=h?_(v.util.createVector(P,w)).addEquals(w):n[n.length-1]):b===n.length-1?(L=n[b-1],P=h?_(v.util.createVector(L,w)).addEquals(w):n[0]):(L=n[b-1],P=n[b+1]);var H=v.util.getBisector(w,L,P),K=H.vector,dt=H.angle,yt,St;if(u.strokeLineJoin==="miter"&&(yt=-d/Math.sin(dt/2),St=new v.Point(K.x*yt*p.x,K.y*yt*p.y),Math.hypot(St.x,St.y)/d<=u.strokeMiterLimit)){s.push(w.add(St)),s.push(w.subtract(St));return}yt=-d*Math.SQRT2,St=new v.Point(K.x*yt*p.x,K.y*yt*p.y),s.push(w.add(St)),s.push(w.subtract(St))}),s},transformPoint:function(n,u,h){return h?new v.Point(u[0]*n.x+u[2]*n.y,u[1]*n.x+u[3]*n.y):new v.Point(u[0]*n.x+u[2]*n.y+u[4],u[1]*n.x+u[3]*n.y+u[5])},makeBoundingBoxFromPoints:function(n,u){if(u)for(var h=0;h<n.length;h++)n[h]=v.util.transformPoint(n[h],u);var s=[n[0].x,n[1].x,n[2].x,n[3].x],d=v.util.array.min(s),p=v.util.array.max(s),_=p-d,S=[n[0].y,n[1].y,n[2].y,n[3].y],b=v.util.array.min(S),w=v.util.array.max(S),L=w-b;return{left:d,top:b,width:_,height:L}},invertTransform:function(n){var u=1/(n[0]*n[3]-n[1]*n[2]),h=[u*n[3],-u*n[1],-u*n[2],u*n[0]],s=v.util.transformPoint({x:n[4],y:n[5]},h,!0);return h[4]=-s.x,h[5]=-s.y,h},toFixed:function(n,u){return parseFloat(Number(n).toFixed(u))},parseUnit:function(n,u){var h=/\D{0,2}$/.exec(n),s=parseFloat(n);switch(u||(u=v.Text.DEFAULT_SVG_FONT_SIZE),h[0]){case"mm":return s*v.DPI/25.4;case"cm":return s*v.DPI/2.54;case"in":return s*v.DPI;case"pt":return s*v.DPI/72;case"pc":return s*v.DPI/72*12;case"em":return s*u;default:return s}},falseFunction:function(){return!1},getKlass:function(n,u){return n=v.util.string.camelize(n.charAt(0).toUpperCase()+n.slice(1)),v.util.resolveNamespace(u)[n]},getSvgAttributes:function(n){var u=["instantiated_by_use","style","id","class"];switch(n){case"linearGradient":u=u.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":u=u.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":u=u.concat(["offset","stop-color","stop-opacity"]);break}return u},resolveNamespace:function(n){if(!n)return v;var u=n.split("."),h=u.length,s,d=m||v.window;for(s=0;s<h;++s)d=d[u[s]];return d},loadImage:function(n,u,h,s){if(!n){u&&u.call(h,n);return}var d=v.util.createImage(),p=function(){u&&u.call(h,d,!1),d=d.onload=d.onerror=null};d.onload=p,d.onerror=function(){v.log("Error loading "+d.src),u&&u.call(h,null,!0),d=d.onload=d.onerror=null},n.indexOf("data")!==0&&s!==void 0&&s!==null&&(d.crossOrigin=s),n.substring(0,14)==="data:image/svg"&&(d.onload=null,v.util.loadImageInDom(d,p)),d.src=n},loadImageInDom:function(n,u){var h=v.document.createElement("div");h.style.width=h.style.height="1px",h.style.left=h.style.top="-100%",h.style.position="absolute",h.appendChild(n),v.document.querySelector("body").appendChild(h),n.onload=function(){u(),h.parentNode.removeChild(h),h=null}},enlivenObjects:function(n,u,h,s){n=n||[];var d=[],p=0,_=n.length;function S(){++p===_&&u&&u(d.filter(function(b){return b}))}if(!_){u&&u(d);return}n.forEach(function(b,w){if(!b||!b.type){S();return}var L=v.util.getKlass(b.type,h);L.fromObject(b,function(P,H){H||(d[w]=P),s&&s(b,P,H),S()})})},enlivenObjectEnlivables:function(n,u,h){var s=v.Object.ENLIVEN_PROPS.filter(function(d){return!!n[d]});v.util.enlivenObjects(s.map(function(d){return n[d]}),function(d){var p={};s.forEach(function(_,S){p[_]=d[S],u&&(u[_]=d[S])}),h&&h(p)})},enlivenPatterns:function(n,u){n=n||[];function h(){++d===p&&u&&u(s)}var s=[],d=0,p=n.length;if(!p){u&&u(s);return}n.forEach(function(_,S){_&&_.source?new v.Pattern(_,function(b){s[S]=b,h()}):(s[S]=_,h())})},groupSVGElements:function(n,u,h){var s;return n&&n.length===1?(typeof h<"u"&&(n[0].sourcePath=h),n[0]):(u&&(u.width&&u.height?u.centerPoint={x:u.width/2,y:u.height/2}:(delete u.width,delete u.height)),s=new v.Group(n,u),typeof h<"u"&&(s.sourcePath=h),s)},populateWithProperties:function(n,u,h){if(h&&Array.isArray(h))for(var s=0,d=h.length;s<d;s++)h[s]in n&&(u[h[s]]=n[h[s]])},createCanvasElement:function(){return v.document.createElement("canvas")},copyCanvasElement:function(n){var u=v.util.createCanvasElement();return u.width=n.width,u.height=n.height,u.getContext("2d").drawImage(n,0,0),u},toDataURL:function(n,u,h){return n.toDataURL("image/"+u,h)},createImage:function(){return v.document.createElement("img")},multiplyTransformMatrices:function(n,u,h){return[n[0]*u[0]+n[2]*u[1],n[1]*u[0]+n[3]*u[1],n[0]*u[2]+n[2]*u[3],n[1]*u[2]+n[3]*u[3],h?0:n[0]*u[4]+n[2]*u[5]+n[4],h?0:n[1]*u[4]+n[3]*u[5]+n[5]]},qrDecompose:function(n){var u=c(n[1],n[0]),h=f(n[0],2)+f(n[1],2),s=l(h),d=(n[0]*n[3]-n[2]*n[1])/s,p=c(n[0]*n[2]+n[1]*n[3],h);return{angle:u/a,scaleX:s,scaleY:d,skewX:p/a,skewY:0,translateX:n[4],translateY:n[5]}},calcRotateMatrix:function(n){if(!n.angle)return v.iMatrix.concat();var u=v.util.degreesToRadians(n.angle),h=v.util.cos(u),s=v.util.sin(u);return[h,s,-s,h,0,0]},calcDimensionsMatrix:function(n){var u=typeof n.scaleX>"u"?1:n.scaleX,h=typeof n.scaleY>"u"?1:n.scaleY,s=[n.flipX?-u:u,0,0,n.flipY?-h:h,0,0],d=v.util.multiplyTransformMatrices,p=v.util.degreesToRadians;return n.skewX&&(s=d(s,[1,0,Math.tan(p(n.skewX)),1],!0)),n.skewY&&(s=d(s,[1,Math.tan(p(n.skewY)),0,1],!0)),s},composeMatrix:function(n){var u=[1,0,0,1,n.translateX||0,n.translateY||0],h=v.util.multiplyTransformMatrices;return n.angle&&(u=h(u,v.util.calcRotateMatrix(n))),(n.scaleX!==1||n.scaleY!==1||n.skewX||n.skewY||n.flipX||n.flipY)&&(u=h(u,v.util.calcDimensionsMatrix(n))),u},resetObjectTransform:function(n){n.scaleX=1,n.scaleY=1,n.skewX=0,n.skewY=0,n.flipX=!1,n.flipY=!1,n.rotate(0)},saveObjectTransform:function(n){return{scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,angle:n.angle,left:n.left,flipX:n.flipX,flipY:n.flipY,top:n.top}},isTransparent:function(n,u,h,s){s>0&&(u>s?u-=s:u=0,h>s?h-=s:h=0);var d=!0,p,_,S=n.getImageData(u,h,s*2||1,s*2||1),b=S.data.length;for(p=3;p<b&&(_=S.data[p],d=_<=0,d!==!1);p+=4);return S=null,d},parsePreserveAspectRatioAttribute:function(n){var u="meet",h="Mid",s="Mid",d=n.split(" "),p;return d&&d.length&&(u=d.pop(),u!=="meet"&&u!=="slice"?(p=u,u="meet"):d.length&&(p=d.pop())),h=p!=="none"?p.slice(1,4):"none",s=p!=="none"?p.slice(5,8):"none",{meetOrSlice:u,alignX:h,alignY:s}},clearFabricFontCache:function(n){n=(n||"").toLowerCase(),n?v.charWidthsCache[n]&&delete v.charWidthsCache[n]:v.charWidthsCache={}},limitDimsByArea:function(n,u){var h=Math.sqrt(u*n),s=Math.floor(u/h);return{x:Math.floor(h),y:s}},capValue:function(n,u,h){return Math.max(n,Math.min(u,h))},findScaleToFit:function(n,u){return Math.min(u.width/n.width,u.height/n.height)},findScaleToCover:function(n,u){return Math.max(u.width/n.width,u.height/n.height)},matrixToSVG:function(n){return"matrix("+n.map(function(u){return v.util.toFixed(u,v.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(n,u){var h=v.util.invertTransform(u),s=v.util.multiplyTransformMatrices(h,n.calcOwnMatrix());v.util.applyTransformToObject(n,s)},addTransformToObject:function(n,u){v.util.applyTransformToObject(n,v.util.multiplyTransformMatrices(u,n.calcOwnMatrix()))},applyTransformToObject:function(n,u){var h=v.util.qrDecompose(u),s=new v.Point(h.translateX,h.translateY);n.flipX=!1,n.flipY=!1,n.set("scaleX",h.scaleX),n.set("scaleY",h.scaleY),n.skewX=h.skewX,n.skewY=h.skewY,n.angle=h.angle,n.setPositionByOrigin(s,"center","center")},sizeAfterTransform:function(n,u,h){var s=n/2,d=u/2,p=[{x:-s,y:-d},{x:s,y:-d},{x:-s,y:d},{x:s,y:d}],_=v.util.calcDimensionsMatrix(h),S=v.util.makeBoundingBoxFromPoints(p,_);return{x:S.width,y:S.height}},mergeClipPaths:function(n,u){var h=n,s=u;h.inverted&&!s.inverted&&(h=u,s=n),v.util.applyTransformToObject(s,v.util.multiplyTransformMatrices(v.util.invertTransform(h.calcTransformMatrix()),s.calcTransformMatrix()));var d=h.inverted&&s.inverted;return d&&(h.inverted=s.inverted=!1),new v.Group([h],{clipPath:s,inverted:d})},hasStyleChanged:function(n,u,h){return h=h||!1,n.fill!==u.fill||n.stroke!==u.stroke||n.strokeWidth!==u.strokeWidth||n.fontSize!==u.fontSize||n.fontFamily!==u.fontFamily||n.fontWeight!==u.fontWeight||n.fontStyle!==u.fontStyle||n.deltaY!==u.deltaY||h&&(n.overline!==u.overline||n.underline!==u.underline||n.linethrough!==u.linethrough)},stylesToArray:function(h,u){for(var h=v.util.object.clone(h,!0),s=u.split(`
`),d=-1,p={},_=[],S=0;S<s.length;S++){if(!h[S]){d+=s[S].length;continue}for(var b=0;b<s[S].length;b++){d++;var w=h[S][b];if(w){var L=v.util.hasStyleChanged(p,w,!0);L?_.push({start:d,end:d+1,style:w}):_[_.length-1].end++}p=w||{}}}return _},stylesFromArray:function(n,u){if(!Array.isArray(n))return n;for(var h=u.split(`
`),s=-1,d=0,p={},_=0;_<h.length;_++)for(var S=0;S<h[_].length;S++)s++,n[d]&&n[d].start<=s&&s<n[d].end&&(p[_]=p[_]||{},p[_][S]=Object.assign({},n[d].style),s===n[d].end-1&&d++);return p}}}(C),function(){var m=Array.prototype.join,l={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function f(O,x,M,B,X,R,E,U,G,Q,W){var it=v.util.cos(O),ht=v.util.sin(O),_t=v.util.cos(x),J=v.util.sin(x),q=M*X*_t-B*R*J+E,rt=B*X*_t+M*R*J+U,st=Q+G*(-M*X*ht-B*R*it),et=W+G*(-B*X*ht+M*R*it),ot=q+G*(M*X*J+B*R*_t),Ct=rt+G*(B*X*J-M*R*_t);return["C",st,et,ot,Ct,q,rt]}function a(O,x,M,B,X,R,E){var U=Math.PI,G=E*U/180,Q=v.util.sin(G),W=v.util.cos(G),it=0,ht=0;M=Math.abs(M),B=Math.abs(B);var _t=-W*O*.5-Q*x*.5,J=-W*x*.5+Q*O*.5,q=M*M,rt=B*B,st=J*J,et=_t*_t,ot=q*rt-q*st-rt*et,Ct=0;if(ot<0){var Dt=Math.sqrt(1-ot/(q*rt));M*=Dt,B*=Dt}else Ct=(X===R?-1:1)*Math.sqrt(ot/(q*st+rt*et));var Tt=Ct*M*J/B,lt=-Ct*B*_t/M,wt=W*Tt-Q*lt+O*.5,Et=Q*Tt+W*lt+x*.5,zt=r(1,0,(_t-Tt)/M,(J-lt)/B),Gt=r((_t-Tt)/M,(J-lt)/B,(-_t-Tt)/M,(-J-lt)/B);R===0&&Gt>0?Gt-=2*U:R===1&&Gt<0&&(Gt+=2*U);for(var Ht=Math.ceil(Math.abs(Gt/U*2)),ee=[],Zt=Gt/Ht,We=8/3*Math.sin(Zt/4)*Math.sin(Zt/4)/Math.sin(Zt/2),Gi=zt+Zt,Me=0;Me<Ht;Me++)ee[Me]=f(zt,Gi,W,Q,M,B,wt,Et,We,it,ht),it=ee[Me][5],ht=ee[Me][6],zt=Gi,Gi+=Zt;return ee}function r(O,x,M,B){var X=Math.atan2(x,O),R=Math.atan2(B,M);return R>=X?R-X:2*Math.PI-(X-R)}function n(O,x,M,B,X,R,E,U){var G;if(v.cachesBoundsOfCurve&&(G=m.call(arguments),v.boundsOfCurveCache[G]))return v.boundsOfCurveCache[G];var Q=Math.sqrt,W=Math.min,it=Math.max,ht=Math.abs,_t=[],J=[[],[]],q,rt,st,et,ot,Ct,Dt,Tt;rt=6*O-12*M+6*X,q=-3*O+9*M-9*X+3*E,st=3*M-3*O;for(var lt=0;lt<2;++lt){if(lt>0&&(rt=6*x-12*B+6*R,q=-3*x+9*B-9*R+3*U,st=3*B-3*x),ht(q)<1e-12){if(ht(rt)<1e-12)continue;et=-st/rt,0<et&&et<1&&_t.push(et);continue}Dt=rt*rt-4*st*q,!(Dt<0)&&(Tt=Q(Dt),ot=(-rt+Tt)/(2*q),0<ot&&ot<1&&_t.push(ot),Ct=(-rt-Tt)/(2*q),0<Ct&&Ct<1&&_t.push(Ct))}for(var wt,Et,zt=_t.length,Gt=zt,Ht;zt--;)et=_t[zt],Ht=1-et,wt=Ht*Ht*Ht*O+3*Ht*Ht*et*M+3*Ht*et*et*X+et*et*et*E,J[0][zt]=wt,Et=Ht*Ht*Ht*x+3*Ht*Ht*et*B+3*Ht*et*et*R+et*et*et*U,J[1][zt]=Et;J[0][Gt]=O,J[1][Gt]=x,J[0][Gt+1]=E,J[1][Gt+1]=U;var ee=[{x:W.apply(null,J[0]),y:W.apply(null,J[1])},{x:it.apply(null,J[0]),y:it.apply(null,J[1])}];return v.cachesBoundsOfCurve&&(v.boundsOfCurveCache[G]=ee),ee}function u(O,x,M){for(var B=M[1],X=M[2],R=M[3],E=M[4],U=M[5],G=M[6],Q=M[7],W=a(G-O,Q-x,B,X,E,U,R),it=0,ht=W.length;it<ht;it++)W[it][1]+=O,W[it][2]+=x,W[it][3]+=O,W[it][4]+=x,W[it][5]+=O,W[it][6]+=x;return W}function h(O){var x=0,M=0,B=O.length,X=0,R=0,E,U,G,Q=[],W,it,ht;for(U=0;U<B;++U){switch(G=!1,E=O[U].slice(0),E[0]){case"l":E[0]="L",E[1]+=x,E[2]+=M;case"L":x=E[1],M=E[2];break;case"h":E[1]+=x;case"H":E[0]="L",E[2]=M,x=E[1];break;case"v":E[1]+=M;case"V":E[0]="L",M=E[1],E[1]=x,E[2]=M;break;case"m":E[0]="M",E[1]+=x,E[2]+=M;case"M":x=E[1],M=E[2],X=E[1],R=E[2];break;case"c":E[0]="C",E[1]+=x,E[2]+=M,E[3]+=x,E[4]+=M,E[5]+=x,E[6]+=M;case"C":it=E[3],ht=E[4],x=E[5],M=E[6];break;case"s":E[0]="S",E[1]+=x,E[2]+=M,E[3]+=x,E[4]+=M;case"S":W==="C"?(it=2*x-it,ht=2*M-ht):(it=x,ht=M),x=E[3],M=E[4],E[0]="C",E[5]=E[3],E[6]=E[4],E[3]=E[1],E[4]=E[2],E[1]=it,E[2]=ht,it=E[3],ht=E[4];break;case"q":E[0]="Q",E[1]+=x,E[2]+=M,E[3]+=x,E[4]+=M;case"Q":it=E[1],ht=E[2],x=E[3],M=E[4];break;case"t":E[0]="T",E[1]+=x,E[2]+=M;case"T":W==="Q"?(it=2*x-it,ht=2*M-ht):(it=x,ht=M),E[0]="Q",x=E[1],M=E[2],E[1]=it,E[2]=ht,E[3]=x,E[4]=M;break;case"a":E[0]="A",E[6]+=x,E[7]+=M;case"A":G=!0,Q=Q.concat(u(x,M,E)),x=E[6],M=E[7];break;case"z":case"Z":x=X,M=R;break}G||Q.push(E),W=E[0]}return Q}function s(O,x,M,B){return Math.sqrt((M-O)*(M-O)+(B-x)*(B-x))}function d(O){return O*O*O}function p(O){return 3*O*O*(1-O)}function _(O){return 3*O*(1-O)*(1-O)}function S(O){return(1-O)*(1-O)*(1-O)}function b(O,x,M,B,X,R,E,U){return function(G){var Q=d(G),W=p(G),it=_(G),ht=S(G);return{x:E*Q+X*W+M*it+O*ht,y:U*Q+R*W+B*it+x*ht}}}function w(O,x,M,B,X,R,E,U){return function(G){var Q=1-G,W=3*Q*Q*(M-O)+6*Q*G*(X-M)+3*G*G*(E-X),it=3*Q*Q*(B-x)+6*Q*G*(R-B)+3*G*G*(U-R);return Math.atan2(it,W)}}function L(O){return O*O}function P(O){return 2*O*(1-O)}function H(O){return(1-O)*(1-O)}function K(O,x,M,B,X,R){return function(E){var U=L(E),G=P(E),Q=H(E);return{x:X*U+M*G+O*Q,y:R*U+B*G+x*Q}}}function dt(O,x,M,B,X,R){return function(E){var U=1-E,G=2*U*(M-O)+2*E*(X-M),Q=2*U*(B-x)+2*E*(R-B);return Math.atan2(Q,G)}}function yt(O,x,M){var B={x,y:M},X,R=0,E;for(E=1;E<=100;E+=1)X=O(E/100),R+=s(B.x,B.y,X.x,X.y),B=X;return R}function St(O,x){for(var M=0,B=0,X=O.iterator,R={x:O.x,y:O.y},E,U,G=.01,Q=O.angleFinder,W;B<x&&G>1e-4;)E=X(M),W=M,U=s(R.x,R.y,E.x,E.y),U+B>x?(M-=G,G/=2):(R=E,M+=G,B+=U);return E.angle=Q(W),E}function pt(O){for(var x=0,M=O.length,B,X=0,R=0,E=0,U=0,G=[],Q,W,it,ht=0;ht<M;ht++){switch(B=O[ht],W={x:X,y:R,command:B[0]},B[0]){case"M":W.length=0,E=X=B[1],U=R=B[2];break;case"L":W.length=s(X,R,B[1],B[2]),X=B[1],R=B[2];break;case"C":Q=b(X,R,B[1],B[2],B[3],B[4],B[5],B[6]),it=w(X,R,B[1],B[2],B[3],B[4],B[5],B[6]),W.iterator=Q,W.angleFinder=it,W.length=yt(Q,X,R),X=B[5],R=B[6];break;case"Q":Q=K(X,R,B[1],B[2],B[3],B[4]),it=dt(X,R,B[1],B[2],B[3],B[4]),W.iterator=Q,W.angleFinder=it,W.length=yt(Q,X,R),X=B[3],R=B[4];break;case"Z":case"z":W.destX=E,W.destY=U,W.length=s(X,R,E,U),X=E,R=U;break}x+=W.length,G.push(W)}return G.push({length:x,x:X,y:R}),G}function vt(O,x,M){M||(M=pt(O));for(var B=0;x-M[B].length>0&&B<M.length-2;)x-=M[B].length,B++;var X=M[B],R=x/X.length,E=X.command,U=O[B],G;switch(E){case"M":return{x:X.x,y:X.y,angle:0};case"Z":case"z":return G=new v.Point(X.x,X.y).lerp(new v.Point(X.destX,X.destY),R),G.angle=Math.atan2(X.destY-X.y,X.destX-X.x),G;case"L":return G=new v.Point(X.x,X.y).lerp(new v.Point(U[1],U[2]),R),G.angle=Math.atan2(U[2]-X.y,U[1]-X.x),G;case"C":return St(X,x);case"Q":return St(X,x)}}function tt(O){var x=[],M=[],B,X,R=v.rePathCommand,E="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",U="("+E+")"+v.commaWsp,G="([01])"+v.commaWsp+"?",Q=U+"?"+U+"?"+U+G+G+U+"?("+E+")",W=new RegExp(Q,"g"),it,ht,_t;if(!O||!O.match)return x;_t=O.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var J=0,q,rt=_t.length;J<rt;J++){B=_t[J],ht=B.slice(1).trim(),M.length=0;var st=B.charAt(0);if(q=[st],st.toLowerCase()==="a")for(var et;et=W.exec(ht);)for(var ot=1;ot<et.length;ot++)M.push(et[ot]);else for(;it=R.exec(ht);)M.push(it[0]);for(var ot=0,Ct=M.length;ot<Ct;ot++)X=parseFloat(M[ot]),isNaN(X)||q.push(X);var Dt=l[st.toLowerCase()],Tt=c[st]||st;if(q.length-1>Dt)for(var lt=1,wt=q.length;lt<wt;lt+=Dt)x.push([st].concat(q.slice(lt,lt+Dt))),st=Tt;else x.push(q)}return x}function mt(O,x){var M=[],B,X=new v.Point(O[0].x,O[0].y),R=new v.Point(O[1].x,O[1].y),E=O.length,U=1,G=0,Q=E>2;for(x=x||0,Q&&(U=O[2].x<R.x?-1:O[2].x===R.x?0:1,G=O[2].y<R.y?-1:O[2].y===R.y?0:1),M.push(["M",X.x-U*x,X.y-G*x]),B=1;B<E;B++){if(!X.eq(R)){var W=X.midPointFrom(R);M.push(["Q",X.x,X.y,W.x,W.y])}X=O[B],B+1<O.length&&(R=O[B+1])}return Q&&(U=X.x>O[B-2].x?1:X.x===O[B-2].x?0:-1,G=X.y>O[B-2].y?1:X.y===O[B-2].y?0:-1),M.push(["L",X.x+U*x,X.y+G*x]),M}function ft(O,x,M){return M&&(x=v.util.multiplyTransformMatrices(x,[1,0,0,1,-M.x,-M.y])),O.map(function(B){for(var X=B.slice(0),R={},E=1;E<B.length-1;E+=2)R.x=B[E],R.y=B[E+1],R=v.util.transformPoint(R,x),X[E]=R.x,X[E+1]=R.y;return X})}v.util.joinPath=function(O){return O.map(function(x){return x.join(" ")}).join(" ")},v.util.parsePath=tt,v.util.makePathSimpler=h,v.util.getSmoothPathFromPoints=mt,v.util.getPathSegmentsInfo=pt,v.util.getBoundsOfCurve=n,v.util.getPointOnPath=vt,v.util.transformPath=ft}(),function(){var m=Array.prototype.slice;function l(n,u){for(var h=m.call(arguments,2),s=[],d=0,p=n.length;d<p;d++)s[d]=h.length?n[d][u].apply(n[d],h):n[d][u].call(n[d]);return s}function c(n,u){return r(n,u,function(h,s){return h>=s})}function f(n,u){return r(n,u,function(h,s){return h<s})}function a(n,u){for(var h=n.length;h--;)n[h]=u;return n}function r(n,u,h){if(!(!n||n.length===0)){var s=n.length-1,d=u?n[s][u]:n[s];if(u)for(;s--;)h(n[s][u],d)&&(d=n[s][u]);else for(;s--;)h(n[s],d)&&(d=n[s]);return d}}v.util.array={fill:a,invoke:l,min:f,max:c}}(),function(){function m(c,f,a){if(a)if(!v.isLikelyNode&&f instanceof Element)c=f;else if(f instanceof Array){c=[];for(var r=0,n=f.length;r<n;r++)c[r]=m({},f[r],a)}else if(f&&typeof f=="object")for(var u in f)u==="canvas"||u==="group"?c[u]=null:f.hasOwnProperty(u)&&(c[u]=m({},f[u],a));else c=f;else for(var u in f)c[u]=f[u];return c}function l(c,f){return m({},c,f)}v.util.object={extend:m,clone:l},v.util.object.extend(v.util,v.Observable)}(),function(){function m(r){return r.replace(/-+(.)?/g,function(n,u){return u?u.toUpperCase():""})}function l(r,n){return r.charAt(0).toUpperCase()+(n?r.slice(1):r.slice(1).toLowerCase())}function c(r){return r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(r){var n=0,u,h=[];for(n=0,u;n<r.length;n++)(u=a(r,n))!==!1&&h.push(u);return h}function a(r,n){var u=r.charCodeAt(n);if(isNaN(u))return"";if(u<55296||u>57343)return r.charAt(n);if(55296<=u&&u<=56319){if(r.length<=n+1)throw"High surrogate without following low surrogate";var h=r.charCodeAt(n+1);if(56320>h||h>57343)throw"High surrogate without following low surrogate";return r.charAt(n)+r.charAt(n+1)}if(n===0)throw"Low surrogate without preceding high surrogate";var s=r.charCodeAt(n-1);if(55296>s||s>56319)throw"Low surrogate without preceding high surrogate";return!1}v.util.string={camelize:m,capitalize:l,escapeXml:c,graphemeSplit:f}}(),function(){var m=Array.prototype.slice,l=function(){},c=function(){for(var u in{toString:1})if(u==="toString")return!1;return!0}(),f=function(u,h,s){for(var d in h)d in u.prototype&&typeof u.prototype[d]=="function"&&(h[d]+"").indexOf("callSuper")>-1?u.prototype[d]=function(p){return function(){var _=this.constructor.superclass;this.constructor.superclass=s;var S=h[p].apply(this,arguments);if(this.constructor.superclass=_,p!=="initialize")return S}}(d):u.prototype[d]=h[d],c&&(h.toString!==Object.prototype.toString&&(u.prototype.toString=h.toString),h.valueOf!==Object.prototype.valueOf&&(u.prototype.valueOf=h.valueOf))};function a(){}function r(u){for(var h=null,s=this;s.constructor.superclass;){var d=s.constructor.superclass.prototype[u];if(s[u]!==d){h=d;break}s=s.constructor.superclass.prototype}return h?arguments.length>1?h.apply(this,m.call(arguments,1)):h.call(this):console.log("tried to callSuper "+u+", method not found in prototype chain",this)}function n(){var u=null,h=m.call(arguments,0);typeof h[0]=="function"&&(u=h.shift());function s(){this.initialize.apply(this,arguments)}s.superclass=u,s.subclasses=[],u&&(a.prototype=u.prototype,s.prototype=new a,u.subclasses.push(s));for(var d=0,p=h.length;d<p;d++)f(s,h[d],u);return s.prototype.initialize||(s.prototype.initialize=l),s.prototype.constructor=s,s.prototype.callSuper=r,s}v.util.createClass=n}(),function(){var m=!!v.document.createElement("div").attachEvent,l=["touchstart","touchmove","touchend"];v.util.addListener=function(f,a,r,n){f&&f.addEventListener(a,r,m?!1:n)},v.util.removeListener=function(f,a,r,n){f&&f.removeEventListener(a,r,m?!1:n)};function c(f){var a=f.changedTouches;return a&&a[0]?a[0]:f}v.util.getPointer=function(f){var a=f.target,r=v.util.getScrollLeftTop(a),n=c(f);return{x:n.clientX+r.left,y:n.clientY+r.top}},v.util.isTouchEvent=function(f){return l.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function m(n,u){var h=n.style;if(!h)return n;if(typeof u=="string")return n.style.cssText+=";"+u,u.indexOf("opacity")>-1?r(n,u.match(/opacity:\s*(\d?\.?\d*)/)[1]):n;for(var s in u)if(s==="opacity")r(n,u[s]);else{var d=s==="float"||s==="cssFloat"?typeof h.styleFloat>"u"?"cssFloat":"styleFloat":s;h.setProperty(d,u[s])}return n}var l=v.document.createElement("div"),c=typeof l.style.opacity=="string",f=typeof l.style.filter=="string",a=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,r=function(n){return n};c?r=function(n,u){return n.style.opacity=u,n}:f&&(r=function(n,u){var h=n.style;return n.currentStyle&&!n.currentStyle.hasLayout&&(h.zoom=1),a.test(h.filter)?(u=u>=.9999?"":"alpha(opacity="+u*100+")",h.filter=h.filter.replace(a,u)):h.filter+=" alpha(opacity="+u*100+")",n}),v.util.setStyle=m}(),function(){var m=Array.prototype.slice;function l(S){return typeof S=="string"?v.document.getElementById(S):S}var c,f=function(S){return m.call(S,0)};try{c=f(v.document.childNodes)instanceof Array}catch{}c||(f=function(S){for(var b=new Array(S.length),w=S.length;w--;)b[w]=S[w];return b});function a(S,b){var w=v.document.createElement(S);for(var L in b)L==="class"?w.className=b[L]:L==="for"?w.htmlFor=b[L]:w.setAttribute(L,b[L]);return w}function r(S,b){S&&(" "+S.className+" ").indexOf(" "+b+" ")===-1&&(S.className+=(S.className?" ":"")+b)}function n(S,b,w){return typeof b=="string"&&(b=a(b,w)),S.parentNode&&S.parentNode.replaceChild(b,S),b.appendChild(S),b}function u(S){for(var b=0,w=0,L=v.document.documentElement,P=v.document.body||{scrollLeft:0,scrollTop:0};S&&(S.parentNode||S.host)&&(S=S.parentNode||S.host,S===v.document?(b=P.scrollLeft||L.scrollLeft||0,w=P.scrollTop||L.scrollTop||0):(b+=S.scrollLeft||0,w+=S.scrollTop||0),!(S.nodeType===1&&S.style.position==="fixed")););return{left:b,top:w}}function h(S){var b,w=S&&S.ownerDocument,L={left:0,top:0},P={left:0,top:0},H,K={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!w)return P;for(var dt in K)P[K[dt]]+=parseInt(s(S,dt),10)||0;return b=w.documentElement,typeof S.getBoundingClientRect<"u"&&(L=S.getBoundingClientRect()),H=u(S),{left:L.left+H.left-(b.clientLeft||0)+P.left,top:L.top+H.top-(b.clientTop||0)+P.top}}var s;v.document.defaultView&&v.document.defaultView.getComputedStyle?s=function(S,b){var w=v.document.defaultView.getComputedStyle(S,null);return w?w[b]:void 0}:s=function(S,b){var w=S.style[b];return!w&&S.currentStyle&&(w=S.currentStyle[b]),w},function(){var S=v.document.documentElement.style,b="userSelect"in S?"userSelect":"MozUserSelect"in S?"MozUserSelect":"WebkitUserSelect"in S?"WebkitUserSelect":"KhtmlUserSelect"in S?"KhtmlUserSelect":"";function w(P){return typeof P.onselectstart<"u"&&(P.onselectstart=v.util.falseFunction),b?P.style[b]="none":typeof P.unselectable=="string"&&(P.unselectable="on"),P}function L(P){return typeof P.onselectstart<"u"&&(P.onselectstart=null),b?P.style[b]="":typeof P.unselectable=="string"&&(P.unselectable=""),P}v.util.makeElementUnselectable=w,v.util.makeElementSelectable=L}();function d(S){var b=v.jsdomImplForWrapper(S);return b._canvas||b._image}function p(S){if(v.isLikelyNode){var b=v.jsdomImplForWrapper(S);b&&(b._image=null,b._canvas=null,b._currentSrc=null,b._attributes=null,b._classList=null)}}function _(S,b){S.imageSmoothingEnabled=S.imageSmoothingEnabled||S.webkitImageSmoothingEnabled||S.mozImageSmoothingEnabled||S.msImageSmoothingEnabled||S.oImageSmoothingEnabled,S.imageSmoothingEnabled=b}v.util.setImageSmoothing=_,v.util.getById=l,v.util.toArray=f,v.util.addClass=r,v.util.makeElement=a,v.util.wrapElement=n,v.util.getScrollLeftTop=u,v.util.getElementOffset=h,v.util.getNodeCanvas=d,v.util.cleanUpJsdomNode=p}(),function(){function m(f,a){return f+(/\?/.test(f)?"&":"?")+a}function l(){}function c(f,a){a||(a={});var r=a.method?a.method.toUpperCase():"GET",n=a.onComplete||function(){},u=new v.window.XMLHttpRequest,h=a.body||a.parameters;return u.onreadystatechange=function(){u.readyState===4&&(n(u),u.onreadystatechange=l)},r==="GET"&&(h=null,typeof a.parameters=="string"&&(f=m(f,a.parameters))),u.open(r,f,!0),(r==="POST"||r==="PUT")&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(h),u}v.util.request=c}(),v.log=console.log,v.warn=console.warn,function(){var m=v.util.object.extend,l=v.util.object.clone,c=[];v.util.object.extend(c,{cancelAll:function(){var d=this.splice(0);return d.forEach(function(p){p.cancel()}),d},cancelByCanvas:function(d){if(!d)return[];var p=this.filter(function(_){return typeof _.target=="object"&&_.target.canvas===d});return p.forEach(function(_){_.cancel()}),p},cancelByTarget:function(d){var p=this.findAnimationsByTarget(d);return p.forEach(function(_){_.cancel()}),p},findAnimationIndex:function(d){return this.indexOf(this.findAnimation(d))},findAnimation:function(d){return this.find(function(p){return p.cancel===d})},findAnimationsByTarget:function(d){return d?this.filter(function(p){return p.target===d}):[]}});function f(){return!1}function a(d,p,_,S){return-_*Math.cos(d/S*(Math.PI/2))+_+p}function r(d){d||(d={});var p=!1,_,S=function(){var b=v.runningAnimations.indexOf(_);return b>-1&&v.runningAnimations.splice(b,1)[0]};return _=m(l(d),{cancel:function(){return p=!0,S()},currentValue:"startValue"in d?d.startValue:0,completionRate:0,durationRate:0}),v.runningAnimations.push(_),h(function(b){var w=b||+new Date,L=d.duration||500,P=w+L,H,K=d.onChange||f,dt=d.abort||f,yt=d.onComplete||f,St=d.easing||a,pt="startValue"in d?d.startValue.length>0:!1,vt="startValue"in d?d.startValue:0,tt="endValue"in d?d.endValue:100,mt=d.byValue||(pt?vt.map(function(ft,O){return tt[O]-vt[O]}):tt-vt);d.onStart&&d.onStart(),function ft(O){H=O||+new Date;var x=H>P?L:H-w,M=x/L,B=pt?vt.map(function(R,E){return St(x,vt[E],mt[E],L)}):St(x,vt,mt,L),X=Math.abs(pt?(B[0]-vt[0])/mt[0]:(B-vt)/mt);if(_.currentValue=pt?B.slice():B,_.completionRate=X,_.durationRate=M,!p){if(dt(B,X,M)){S();return}if(H>P){_.currentValue=pt?tt.slice():tt,_.completionRate=1,_.durationRate=1,K(pt?tt.slice():tt,1,1),yt(tt,1,1),S();return}else K(B,X,M),h(ft)}}(w)}),_.cancel}var n=v.window.requestAnimationFrame||v.window.webkitRequestAnimationFrame||v.window.mozRequestAnimationFrame||v.window.oRequestAnimationFrame||v.window.msRequestAnimationFrame||function(d){return v.window.setTimeout(d,1e3/60)},u=v.window.cancelAnimationFrame||v.window.clearTimeout;function h(){return n.apply(v.window,arguments)}function s(){return u.apply(v.window,arguments)}v.util.animate=r,v.util.requestAnimFrame=h,v.util.cancelAnimFrame=s,v.runningAnimations=c}(),function(){function m(c,f,a){var r="rgba("+parseInt(c[0]+a*(f[0]-c[0]),10)+","+parseInt(c[1]+a*(f[1]-c[1]),10)+","+parseInt(c[2]+a*(f[2]-c[2]),10);return r+=","+(c&&f?parseFloat(c[3]+a*(f[3]-c[3])):1),r+=")",r}function l(c,f,a,r){var n=new v.Color(c).getSource(),u=new v.Color(f).getSource(),h=r.onComplete,s=r.onChange;return r=r||{},v.util.animate(v.util.object.extend(r,{duration:a||500,startValue:n,endValue:u,byValue:u,easing:function(d,p,_,S){var b=r.colorEasing?r.colorEasing(d,S):1-Math.cos(d/S*(Math.PI/2));return m(p,_,b)},onComplete:function(d,p,_){if(h)return h(m(u,u,0),p,_)},onChange:function(d,p,_){if(s){if(Array.isArray(d))return s(m(d,d,0),p,_);s(d,p,_)}}}))}v.util.animateColor=l}(),function(){function m(O,x,M,B){return O<Math.abs(x)?(O=x,B=M/4):x===0&&O===0?B=M/(2*Math.PI)*Math.asin(1):B=M/(2*Math.PI)*Math.asin(x/O),{a:O,c:x,p:M,s:B}}function l(O,x,M){return O.a*Math.pow(2,10*(x-=1))*Math.sin((x*M-O.s)*(2*Math.PI)/O.p)}function c(O,x,M,B){return M*((O=O/B-1)*O*O+1)+x}function f(O,x,M,B){return O/=B/2,O<1?M/2*O*O*O+x:M/2*((O-=2)*O*O+2)+x}function a(O,x,M,B){return M*(O/=B)*O*O*O+x}function r(O,x,M,B){return-M*((O=O/B-1)*O*O*O-1)+x}function n(O,x,M,B){return O/=B/2,O<1?M/2*O*O*O*O+x:-M/2*((O-=2)*O*O*O-2)+x}function u(O,x,M,B){return M*(O/=B)*O*O*O*O+x}function h(O,x,M,B){return M*((O=O/B-1)*O*O*O*O+1)+x}function s(O,x,M,B){return O/=B/2,O<1?M/2*O*O*O*O*O+x:M/2*((O-=2)*O*O*O*O+2)+x}function d(O,x,M,B){return-M*Math.cos(O/B*(Math.PI/2))+M+x}function p(O,x,M,B){return M*Math.sin(O/B*(Math.PI/2))+x}function _(O,x,M,B){return-M/2*(Math.cos(Math.PI*O/B)-1)+x}function S(O,x,M,B){return O===0?x:M*Math.pow(2,10*(O/B-1))+x}function b(O,x,M,B){return O===B?x+M:M*(-Math.pow(2,-10*O/B)+1)+x}function w(O,x,M,B){return O===0?x:O===B?x+M:(O/=B/2,O<1?M/2*Math.pow(2,10*(O-1))+x:M/2*(-Math.pow(2,-10*--O)+2)+x)}function L(O,x,M,B){return-M*(Math.sqrt(1-(O/=B)*O)-1)+x}function P(O,x,M,B){return M*Math.sqrt(1-(O=O/B-1)*O)+x}function H(O,x,M,B){return O/=B/2,O<1?-M/2*(Math.sqrt(1-O*O)-1)+x:M/2*(Math.sqrt(1-(O-=2)*O)+1)+x}function K(O,x,M,B){var X=1.70158,R=0,E=M;if(O===0)return x;if(O/=B,O===1)return x+M;R||(R=B*.3);var U=m(E,M,R,X);return-l(U,O,B)+x}function dt(O,x,M,B){var X=1.70158,R=0,E=M;if(O===0)return x;if(O/=B,O===1)return x+M;R||(R=B*.3);var U=m(E,M,R,X);return U.a*Math.pow(2,-10*O)*Math.sin((O*B-U.s)*(2*Math.PI)/U.p)+U.c+x}function yt(O,x,M,B){var X=1.70158,R=0,E=M;if(O===0)return x;if(O/=B/2,O===2)return x+M;R||(R=B*(.3*1.5));var U=m(E,M,R,X);return O<1?-.5*l(U,O,B)+x:U.a*Math.pow(2,-10*(O-=1))*Math.sin((O*B-U.s)*(2*Math.PI)/U.p)*.5+U.c+x}function St(O,x,M,B,X){return X===void 0&&(X=1.70158),M*(O/=B)*O*((X+1)*O-X)+x}function pt(O,x,M,B,X){return X===void 0&&(X=1.70158),M*((O=O/B-1)*O*((X+1)*O+X)+1)+x}function vt(O,x,M,B,X){return X===void 0&&(X=1.70158),O/=B/2,O<1?M/2*(O*O*(((X*=1.525)+1)*O-X))+x:M/2*((O-=2)*O*(((X*=1.525)+1)*O+X)+2)+x}function tt(O,x,M,B){return M-mt(B-O,0,M,B)+x}function mt(O,x,M,B){return(O/=B)<1/2.75?M*(7.5625*O*O)+x:O<2/2.75?M*(7.5625*(O-=1.5/2.75)*O+.75)+x:O<2.5/2.75?M*(7.5625*(O-=2.25/2.75)*O+.9375)+x:M*(7.5625*(O-=2.625/2.75)*O+.984375)+x}function ft(O,x,M,B){return O<B/2?tt(O*2,0,M,B)*.5+x:mt(O*2-B,0,M,B)*.5+M*.5+x}v.util.ease={easeInQuad:function(O,x,M,B){return M*(O/=B)*O+x},easeOutQuad:function(O,x,M,B){return-M*(O/=B)*(O-2)+x},easeInOutQuad:function(O,x,M,B){return O/=B/2,O<1?M/2*O*O+x:-M/2*(--O*(O-2)-1)+x},easeInCubic:function(O,x,M,B){return M*(O/=B)*O*O+x},easeOutCubic:c,easeInOutCubic:f,easeInQuart:a,easeOutQuart:r,easeInOutQuart:n,easeInQuint:u,easeOutQuint:h,easeInOutQuint:s,easeInSine:d,easeOutSine:p,easeInOutSine:_,easeInExpo:S,easeOutExpo:b,easeInOutExpo:w,easeInCirc:L,easeOutCirc:P,easeInOutCirc:H,easeInElastic:K,easeOutElastic:dt,easeInOutElastic:yt,easeInBack:St,easeOutBack:pt,easeInOutBack:vt,easeInBounce:tt,easeOutBounce:mt,easeInOutBounce:ft}}(),function(m){var l=m.fabric||(m.fabric={}),c=l.util.object.extend,f=l.util.object.clone,a=l.util.toFixed,r=l.util.parseUnit,n=l.util.multiplyTransformMatrices,u=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],h=["symbol","image","marker","pattern","view","svg"],s=["pattern","defs","symbol","metadata","clipPath","mask","desc"],d=["symbol","g","a","svg","clipPath","defs"],p={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},S="font-size",b="clip-path";l.svgValidTagNamesRegEx=P(u),l.svgViewBoxElementsRegEx=P(h),l.svgInvalidAncestorsRegEx=P(s),l.svgValidParentsRegEx=P(d),l.cssRules={},l.gradientDefs={},l.clipPaths={};function w(R){return R in p?p[R]:R}function L(R,E,U,G){var Q=Array.isArray(E),W;if((R==="fill"||R==="stroke")&&E==="none")E="";else{if(R==="strokeUniform")return E==="non-scaling-stroke";if(R==="strokeDashArray")E==="none"?E=null:E=E.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(R==="transformMatrix")U&&U.transformMatrix?E=n(U.transformMatrix,l.parseTransformAttribute(E)):E=l.parseTransformAttribute(E);else if(R==="visible")E=E!=="none"&&E!=="hidden",U&&U.visible===!1&&(E=!1);else if(R==="opacity")E=parseFloat(E),U&&typeof U.opacity<"u"&&(E*=U.opacity);else if(R==="textAnchor")E=E==="start"?"left":E==="end"?"right":"center";else if(R==="charSpacing")W=r(E,G)/G*1e3;else if(R==="paintFirst"){var it=E.indexOf("fill"),ht=E.indexOf("stroke"),E="fill";(it>-1&&ht>-1&&ht<it||it===-1&&ht>-1)&&(E="stroke")}else{if(R==="href"||R==="xlink:href"||R==="font")return E;if(R==="imageSmoothing")return E==="optimizeQuality";W=Q?E.map(r):r(E,G)}}return!Q&&isNaN(W)?E:W}function P(R){return new RegExp("^("+R.join("|")+")\\b","i")}function H(R){for(var E in _)if(!(typeof R[_[E]]>"u"||R[E]==="")){if(typeof R[E]>"u"){if(!l.Object.prototype[E])continue;R[E]=l.Object.prototype[E]}if(R[E].indexOf("url(")!==0){var U=new l.Color(R[E]);R[E]=U.setAlpha(a(U.getAlpha()*R[_[E]],2)).toRgba()}}return R}function K(R,E){var U,G=[],Q,W,it;for(W=0,it=E.length;W<it;W++)U=E[W],Q=R.getElementsByTagName(U),G=G.concat(Array.prototype.slice.call(Q));return G}l.parseTransformAttribute=function(){function R(lt,wt){var Et=l.util.cos(wt[0]),zt=l.util.sin(wt[0]),Gt=0,Ht=0;wt.length===3&&(Gt=wt[1],Ht=wt[2]),lt[0]=Et,lt[1]=zt,lt[2]=-zt,lt[3]=Et,lt[4]=Gt-(Et*Gt-zt*Ht),lt[5]=Ht-(zt*Gt+Et*Ht)}function E(lt,wt){var Et=wt[0],zt=wt.length===2?wt[1]:wt[0];lt[0]=Et,lt[3]=zt}function U(lt,wt,Et){lt[Et]=Math.tan(l.util.degreesToRadians(wt[0]))}function G(lt,wt){lt[4]=wt[0],wt.length===2&&(lt[5]=wt[1])}var Q=l.iMatrix,W=l.reNum,it=l.commaWsp,ht="(?:(skewX)\\s*\\(\\s*("+W+")\\s*\\))",_t="(?:(skewY)\\s*\\(\\s*("+W+")\\s*\\))",J="(?:(rotate)\\s*\\(\\s*("+W+")(?:"+it+"("+W+")"+it+"("+W+"))?\\s*\\))",q="(?:(scale)\\s*\\(\\s*("+W+")(?:"+it+"("+W+"))?\\s*\\))",rt="(?:(translate)\\s*\\(\\s*("+W+")(?:"+it+"("+W+"))?\\s*\\))",st="(?:(matrix)\\s*\\(\\s*("+W+")"+it+"("+W+")"+it+"("+W+")"+it+"("+W+")"+it+"("+W+")"+it+"("+W+")\\s*\\))",et="(?:"+st+"|"+rt+"|"+q+"|"+J+"|"+ht+"|"+_t+")",ot="(?:"+et+"(?:"+it+"*"+et+")*)",Ct="^\\s*(?:"+ot+"?)\\s*$",Dt=new RegExp(Ct),Tt=new RegExp(et,"g");return function(lt){var wt=Q.concat(),Et=[];if(!lt||lt&&!Dt.test(lt))return wt;lt.replace(Tt,function(Gt){var Ht=new RegExp(et).exec(Gt).filter(function(We){return!!We}),ee=Ht[1],Zt=Ht.slice(2).map(parseFloat);switch(ee){case"translate":G(wt,Zt);break;case"rotate":Zt[0]=l.util.degreesToRadians(Zt[0]),R(wt,Zt);break;case"scale":E(wt,Zt);break;case"skewX":U(wt,Zt,2);break;case"skewY":U(wt,Zt,1);break;case"matrix":wt=Zt;break}Et.push(wt.concat()),wt=Q.concat()});for(var zt=Et[0];Et.length>1;)Et.shift(),zt=l.util.multiplyTransformMatrices(zt,Et[0]);return zt}}();function dt(R,E){var U,G;R.replace(/;\s*$/,"").split(";").forEach(function(Q){var W=Q.split(":");U=W[0].trim().toLowerCase(),G=W[1].trim(),E[U]=G})}function yt(R,E){var U,G;for(var Q in R)typeof R[Q]>"u"||(U=Q.toLowerCase(),G=R[Q],E[U]=G)}function St(R,E){var U={};for(var G in l.cssRules[E])if(pt(R,G.split(" ")))for(var Q in l.cssRules[E][G])U[Q]=l.cssRules[E][G][Q];return U}function pt(R,E){var U,G=!0;return U=tt(R,E.pop()),U&&E.length&&(G=vt(R,E)),U&&G&&E.length===0}function vt(R,E){for(var U,G=!0;R.parentNode&&R.parentNode.nodeType===1&&E.length;)G&&(U=E.pop()),R=R.parentNode,G=tt(R,U);return E.length===0}function tt(R,E){var U=R.nodeName,G=R.getAttribute("class"),Q=R.getAttribute("id"),W,it;if(W=new RegExp("^"+U,"i"),E=E.replace(W,""),Q&&E.length&&(W=new RegExp("#"+Q+"(?![a-zA-Z\\-]+)","i"),E=E.replace(W,"")),G&&E.length)for(G=G.split(" "),it=G.length;it--;)W=new RegExp("\\."+G[it]+"(?![a-zA-Z\\-]+)","i"),E=E.replace(W,"");return E.length===0}function mt(R,E){var U;if(R.getElementById&&(U=R.getElementById(E)),U)return U;var G,Q,W,it=R.getElementsByTagName("*");for(Q=0,W=it.length;Q<W;Q++)if(G=it[Q],E===G.getAttribute("id"))return G}function ft(R){for(var E=K(R,["use","svg:use"]),U=0;E.length&&U<E.length;){var G=E[U],Q=G.getAttribute("xlink:href")||G.getAttribute("href");if(Q===null)return;var W=Q.slice(1),it=G.getAttribute("x")||0,ht=G.getAttribute("y")||0,_t=mt(R,W).cloneNode(!0),J=(_t.getAttribute("transform")||"")+" translate("+it+", "+ht+")",q,rt=E.length,st,et,ot,Ct,Dt=l.svgNS;if(x(_t),/^svg$/i.test(_t.nodeName)){var Tt=_t.ownerDocument.createElementNS(Dt,"g");for(et=0,ot=_t.attributes,Ct=ot.length;et<Ct;et++)st=ot.item(et),Tt.setAttributeNS(Dt,st.nodeName,st.nodeValue);for(;_t.firstChild;)Tt.appendChild(_t.firstChild);_t=Tt}for(et=0,ot=G.attributes,Ct=ot.length;et<Ct;et++)st=ot.item(et),!(st.nodeName==="x"||st.nodeName==="y"||st.nodeName==="xlink:href"||st.nodeName==="href")&&(st.nodeName==="transform"?J=st.nodeValue+" "+J:_t.setAttribute(st.nodeName,st.nodeValue));_t.setAttribute("transform",J),_t.setAttribute("instantiated_by_use","1"),_t.removeAttribute("id"),q=G.parentNode,q.replaceChild(_t,G),E.length===rt&&U++}}var O=new RegExp("^\\s*("+l.reNum+"+)\\s*,?\\s*("+l.reNum+"+)\\s*,?\\s*("+l.reNum+"+)\\s*,?\\s*("+l.reNum+"+)\\s*$");function x(R){if(!l.svgViewBoxElementsRegEx.test(R.nodeName))return{};var E=R.getAttribute("viewBox"),U=1,G=1,Q=0,W=0,it,ht,_t,J,q=R.getAttribute("width"),rt=R.getAttribute("height"),st=R.getAttribute("x")||0,et=R.getAttribute("y")||0,ot=R.getAttribute("preserveAspectRatio")||"",Ct=!E||!(E=E.match(O)),Dt=!q||!rt||q==="100%"||rt==="100%",Tt=Ct&&Dt,lt={},wt="",Et=0,zt=0;if(lt.width=0,lt.height=0,lt.toBeParsed=Tt,Ct&&(st||et)&&R.parentNode&&R.parentNode.nodeName!=="#document"&&(wt=" translate("+r(st)+" "+r(et)+") ",_t=(R.getAttribute("transform")||"")+wt,R.setAttribute("transform",_t),R.removeAttribute("x"),R.removeAttribute("y")),Tt)return lt;if(Ct)return lt.width=r(q),lt.height=r(rt),lt;if(Q=-parseFloat(E[1]),W=-parseFloat(E[2]),it=parseFloat(E[3]),ht=parseFloat(E[4]),lt.minX=Q,lt.minY=W,lt.viewBoxWidth=it,lt.viewBoxHeight=ht,Dt?(lt.width=it,lt.height=ht):(lt.width=r(q),lt.height=r(rt),U=lt.width/it,G=lt.height/ht),ot=l.util.parsePreserveAspectRatioAttribute(ot),ot.alignX!=="none"&&(ot.meetOrSlice==="meet"&&(G=U=U>G?G:U),ot.meetOrSlice==="slice"&&(G=U=U>G?U:G),Et=lt.width-it*U,zt=lt.height-ht*U,ot.alignX==="Mid"&&(Et/=2),ot.alignY==="Mid"&&(zt/=2),ot.alignX==="Min"&&(Et=0),ot.alignY==="Min"&&(zt=0)),U===1&&G===1&&Q===0&&W===0&&st===0&&et===0)return lt;if((st||et)&&R.parentNode.nodeName!=="#document"&&(wt=" translate("+r(st)+" "+r(et)+") "),_t=wt+" matrix("+U+" 0 0 "+G+" "+(Q*U+Et)+" "+(W*G+zt)+") ",R.nodeName==="svg"){for(J=R.ownerDocument.createElementNS(l.svgNS,"g");R.firstChild;)J.appendChild(R.firstChild);R.appendChild(J)}else J=R,J.removeAttribute("x"),J.removeAttribute("y"),_t=J.getAttribute("transform")+_t;return J.setAttribute("transform",_t),lt}function M(R,E){for(;R&&(R=R.parentNode);)if(R.nodeName&&E.test(R.nodeName.replace("svg:",""))&&!R.getAttribute("instantiated_by_use"))return!0;return!1}l.parseSVGDocument=function(R,E,U,G){if(R){ft(R);var Q=l.Object.__uid++,W,it,ht=x(R),_t=l.util.toArray(R.getElementsByTagName("*"));if(ht.crossOrigin=G&&G.crossOrigin,ht.svgUid=Q,_t.length===0&&l.isLikelyNode){_t=R.selectNodes('//*[name(.)!="svg"]');var J=[];for(W=0,it=_t.length;W<it;W++)J[W]=_t[W];_t=J}var q=_t.filter(function(st){return x(st),l.svgValidTagNamesRegEx.test(st.nodeName.replace("svg:",""))&&!M(st,l.svgInvalidAncestorsRegEx)});if(!q||q&&!q.length){E&&E([],{});return}var rt={};_t.filter(function(st){return st.nodeName.replace("svg:","")==="clipPath"}).forEach(function(st){var et=st.getAttribute("id");rt[et]=l.util.toArray(st.getElementsByTagName("*")).filter(function(ot){return l.svgValidTagNamesRegEx.test(ot.nodeName.replace("svg:",""))})}),l.gradientDefs[Q]=l.getGradientDefs(R),l.cssRules[Q]=l.getCSSRules(R),l.clipPaths[Q]=rt,l.parseElements(q,function(st,et){E&&(E(st,ht,et,_t),delete l.gradientDefs[Q],delete l.cssRules[Q],delete l.clipPaths[Q])},f(ht),U,G)}};function B(R,E){var U=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],G="xlink:href",Q=E.getAttribute(G).slice(1),W=mt(R,Q);if(W&&W.getAttribute(G)&&B(R,W),U.forEach(function(ht){W&&!E.hasAttribute(ht)&&W.hasAttribute(ht)&&E.setAttribute(ht,W.getAttribute(ht))}),!E.children.length)for(var it=W.cloneNode(!0);it.firstChild;)E.appendChild(it.firstChild);E.removeAttribute(G)}var X=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+l.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+l.reNum+"))?\\s+(.*)");c(l,{parseFontDeclaration:function(R,E){var U=R.match(X);if(U){var G=U[1],Q=U[3],W=U[4],it=U[5],ht=U[6];G&&(E.fontStyle=G),Q&&(E.fontWeight=isNaN(parseFloat(Q))?Q:parseFloat(Q)),W&&(E.fontSize=r(W)),ht&&(E.fontFamily=ht),it&&(E.lineHeight=it==="normal"?1:it)}},getGradientDefs:function(R){var E=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],U=K(R,E),G,Q=0,W={};for(Q=U.length;Q--;)G=U[Q],G.getAttribute("xlink:href")&&B(R,G),W[G.getAttribute("id")]=G;return W},parseAttributes:function(R,E,U){if(R){var G,Q={},W,it;typeof U>"u"&&(U=R.getAttribute("svgUid")),R.parentNode&&l.svgValidParentsRegEx.test(R.parentNode.nodeName)&&(Q=l.parseAttributes(R.parentNode,E,U));var ht=E.reduce(function(ot,Ct){return G=R.getAttribute(Ct),G&&(ot[Ct]=G),ot},{}),_t=c(St(R,U),l.parseStyleAttribute(R));ht=c(ht,_t),_t[b]&&R.setAttribute(b,_t[b]),W=it=Q.fontSize||l.Text.DEFAULT_SVG_FONT_SIZE,ht[S]&&(ht[S]=W=r(ht[S],it));var J,q,rt={};for(var st in ht)J=w(st),q=L(J,ht[st],Q,W),rt[J]=q;rt&&rt.font&&l.parseFontDeclaration(rt.font,rt);var et=c(Q,rt);return l.svgValidParentsRegEx.test(R.nodeName)?et:H(et)}},parseElements:function(R,E,U,G,Q){new l.ElementsParser(R,E,U,G,Q).parse()},parseStyleAttribute:function(R){var E={},U=R.getAttribute("style");return U&&(typeof U=="string"?dt(U,E):yt(U,E)),E},parsePointsAttribute:function(R){if(!R)return null;R=R.replace(/,/g," ").trim(),R=R.split(/\s+/);var E=[],U,G;for(U=0,G=R.length;U<G;U+=2)E.push({x:parseFloat(R[U]),y:parseFloat(R[U+1])});return E},getCSSRules:function(R){var E=R.getElementsByTagName("style"),U,G,Q={},W;for(U=0,G=E.length;U<G;U++){var it=E[U].textContent;it=it.replace(/\/\*[\s\S]*?\*\//g,""),it.trim()!==""&&(W=it.split("}"),W=W.filter(function(ht){return ht.trim()}),W.forEach(function(ht){var _t=ht.split("{"),J={},q=_t[1].trim(),rt=q.split(";").filter(function(Ct){return Ct.trim()});for(U=0,G=rt.length;U<G;U++){var st=rt[U].split(":"),et=st[0].trim(),ot=st[1].trim();J[et]=ot}ht=_t[0].trim(),ht.split(",").forEach(function(Ct){Ct=Ct.replace(/^svg/i,"").trim(),Ct!==""&&(Q[Ct]?l.util.object.extend(Q[Ct],J):Q[Ct]=l.util.object.clone(J))})}))}return Q},loadSVGFromURL:function(R,E,U,G){R=R.replace(/^\n\s*/,"").trim(),new l.util.request(R,{method:"get",onComplete:Q});function Q(W){var it=W.responseXML;if(!it||!it.documentElement)return E&&E(null),!1;l.parseSVGDocument(it.documentElement,function(ht,_t,J,q){E&&E(ht,_t,J,q)},U,G)}},loadSVGFromString:function(R,E,U,G){var Q=new l.window.DOMParser,W=Q.parseFromString(R.trim(),"text/xml");l.parseSVGDocument(W.documentElement,function(it,ht,_t,J){E(it,ht,_t,J)},U,G)}})}(C),v.ElementsParser=function(m,l,c,f,a,r){this.elements=m,this.callback=l,this.options=c,this.reviver=f,this.svgUid=c&&c.svgUid||0,this.parsingOptions=a,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=r},function(m){m.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},m.createObjects=function(){var l=this;this.elements.forEach(function(c,f){c.setAttribute("svgUid",l.svgUid),l.createObject(c,f)})},m.findTag=function(l){return v[v.util.string.capitalize(l.tagName.replace("svg:",""))]},m.createObject=function(l,c){var f=this.findTag(l);if(f&&f.fromElement)try{f.fromElement(l,this.createCallback(c,l),this.options)}catch(a){v.log(a)}else this.checkIfDone()},m.createCallback=function(l,c){var f=this;return function(a){var r;f.resolveGradient(a,c,"fill"),f.resolveGradient(a,c,"stroke"),a instanceof v.Image&&a._originalElement&&(r=a.parsePreserveAspectRatioAttribute(c)),a._removeTransformMatrix(r),f.resolveClipPath(a,c),f.reviver&&f.reviver(c,a),f.instances[l]=a,f.checkIfDone()}},m.extractPropertyDefinition=function(l,c,f){var a=l[c],r=this.regexUrl;if(r.test(a)){r.lastIndex=0;var n=r.exec(a)[1];return r.lastIndex=0,v[f][this.svgUid][n]}},m.resolveGradient=function(l,c,f){var a=this.extractPropertyDefinition(l,f,"gradientDefs");if(a){var r=c.getAttribute(f+"-opacity"),n=v.Gradient.fromElement(a,l,r,this.options);l.set(f,n)}},m.createClipPathCallback=function(l,c){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,c.push(f)}},m.resolveClipPath=function(l,c){var f=this.extractPropertyDefinition(l,"clipPath","clipPaths"),a,r,n,u,h,s;if(f){u=[],n=v.util.invertTransform(l.calcTransformMatrix());for(var d=f[0].parentNode,p=c;p.parentNode&&p.getAttribute("clip-path")!==l.clipPath;)p=p.parentNode;p.parentNode.appendChild(d);for(var _=0;_<f.length;_++)a=f[_],r=this.findTag(a),r.fromElement(a,this.createClipPathCallback(l,u),this.options);u.length===1?f=u[0]:f=new v.Group(u),h=v.util.multiplyTransformMatrices(n,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,p);var s=v.util.qrDecompose(h);f.flipX=!1,f.flipY=!1,f.set("scaleX",s.scaleX),f.set("scaleY",s.scaleY),f.angle=s.angle,f.skewX=s.skewX,f.skewY=0,f.setPositionByOrigin({x:s.translateX,y:s.translateY},"center","center"),l.clipPath=f}else delete l.clipPath},m.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(l){return l!=null}),this.callback(this.instances,this.elements))}}(v.ElementsParser.prototype),function(m){var l=m.fabric||(m.fabric={});if(l.Point){l.warn("fabric.Point is already defined");return}l.Point=c;function c(f,a){this.x=f,this.y=a}c.prototype={type:"point",constructor:c,add:function(f){return new c(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new c(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new c(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new c(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new c(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new c(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,a){return typeof a>"u"&&(a=.5),a=Math.max(Math.min(1,a),0),new c(this.x+(f.x-this.x)*a,this.y+(f.y-this.y)*a)},distanceFrom:function(f){var a=this.x-f.x,r=this.y-f.y;return Math.sqrt(a*a+r*r)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new c(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new c(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,a){return this.x=f,this.y=a,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var a=this.x,r=this.y;this.x=f.x,this.y=f.y,f.x=a,f.y=r},clone:function(){return new c(this.x,this.y)}}}(C),function(m){var l=m.fabric||(m.fabric={});if(l.Intersection){l.warn("fabric.Intersection is already defined");return}function c(f){this.status=f,this.points=[]}l.Intersection=c,l.Intersection.prototype={constructor:c,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},l.Intersection.intersectLineLine=function(f,a,r,n){var u,h=(n.x-r.x)*(f.y-r.y)-(n.y-r.y)*(f.x-r.x),s=(a.x-f.x)*(f.y-r.y)-(a.y-f.y)*(f.x-r.x),d=(n.y-r.y)*(a.x-f.x)-(n.x-r.x)*(a.y-f.y);if(d!==0){var p=h/d,_=s/d;0<=p&&p<=1&&0<=_&&_<=1?(u=new c("Intersection"),u.appendPoint(new l.Point(f.x+p*(a.x-f.x),f.y+p*(a.y-f.y)))):u=new c}else h===0||s===0?u=new c("Coincident"):u=new c("Parallel");return u},l.Intersection.intersectLinePolygon=function(f,a,r){var n=new c,u=r.length,h,s,d,p;for(p=0;p<u;p++)h=r[p],s=r[(p+1)%u],d=c.intersectLineLine(f,a,h,s),n.appendPoints(d.points);return n.points.length>0&&(n.status="Intersection"),n},l.Intersection.intersectPolygonPolygon=function(f,a){var r=new c,n=f.length,u;for(u=0;u<n;u++){var h=f[u],s=f[(u+1)%n],d=c.intersectLinePolygon(h,s,a);r.appendPoints(d.points)}return r.points.length>0&&(r.status="Intersection"),r},l.Intersection.intersectPolygonRectangle=function(f,a,r){var n=a.min(r),u=a.max(r),h=new l.Point(u.x,n.y),s=new l.Point(n.x,u.y),d=c.intersectLinePolygon(n,h,f),p=c.intersectLinePolygon(h,u,f),_=c.intersectLinePolygon(u,s,f),S=c.intersectLinePolygon(s,n,f),b=new c;return b.appendPoints(d.points),b.appendPoints(p.points),b.appendPoints(_.points),b.appendPoints(S.points),b.points.length>0&&(b.status="Intersection"),b}}(C),function(m){var l=m.fabric||(m.fabric={});if(l.Color){l.warn("fabric.Color is already defined.");return}function c(a){a?this._tryParsingColor(a):this.setSource([0,0,0,1])}l.Color=c,l.Color.prototype={_tryParsingColor:function(a){var r;a in c.colorNameMap&&(a=c.colorNameMap[a]),a==="transparent"&&(r=[255,255,255,0]),r||(r=c.sourceFromHex(a)),r||(r=c.sourceFromRgb(a)),r||(r=c.sourceFromHsl(a)),r||(r=[0,0,0,1]),r&&this.setSource(r)},_rgbToHsl:function(a,r,n){a/=255,r/=255,n/=255;var u,h,s,d=l.util.array.max([a,r,n]),p=l.util.array.min([a,r,n]);if(s=(d+p)/2,d===p)u=h=0;else{var _=d-p;switch(h=s>.5?_/(2-d-p):_/(d+p),d){case a:u=(r-n)/_+(r<n?6:0);break;case r:u=(n-a)/_+2;break;case n:u=(a-r)/_+4;break}u/=6}return[Math.round(u*360),Math.round(h*100),Math.round(s*100)]},getSource:function(){return this._source},setSource:function(a){this._source=a},toRgb:function(){var a=this.getSource();return"rgb("+a[0]+","+a[1]+","+a[2]+")"},toRgba:function(){var a=this.getSource();return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"},toHsl:function(){var a=this.getSource(),r=this._rgbToHsl(a[0],a[1],a[2]);return"hsl("+r[0]+","+r[1]+"%,"+r[2]+"%)"},toHsla:function(){var a=this.getSource(),r=this._rgbToHsl(a[0],a[1],a[2]);return"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+a[3]+")"},toHex:function(){var a=this.getSource(),r,n,u;return r=a[0].toString(16),r=r.length===1?"0"+r:r,n=a[1].toString(16),n=n.length===1?"0"+n:n,u=a[2].toString(16),u=u.length===1?"0"+u:u,r.toUpperCase()+n.toUpperCase()+u.toUpperCase()},toHexa:function(){var a=this.getSource(),r;return r=Math.round(a[3]*255),r=r.toString(16),r=r.length===1?"0"+r:r,this.toHex()+r.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(a){var r=this.getSource();return r[3]=a,this.setSource(r),this},toGrayscale:function(){var a=this.getSource(),r=parseInt((a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),10),n=a[3];return this.setSource([r,r,r,n]),this},toBlackWhite:function(a){var r=this.getSource(),n=(r[0]*.3+r[1]*.59+r[2]*.11).toFixed(0),u=r[3];return a=a||127,n=Number(n)<Number(a)?0:255,this.setSource([n,n,n,u]),this},overlayWith:function(a){a instanceof c||(a=new c(a));var r=[],n=this.getAlpha(),u=.5,h=this.getSource(),s=a.getSource(),d;for(d=0;d<3;d++)r.push(Math.round(h[d]*(1-u)+s[d]*u));return r[3]=n,this.setSource(r),this}},l.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,l.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,l.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,l.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(a,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?a+(r-a)*6*n:n<1/2?r:n<2/3?a+(r-a)*(2/3-n)*6:a}l.Color.fromRgb=function(a){return c.fromSource(c.sourceFromRgb(a))},l.Color.sourceFromRgb=function(a){var r=a.match(c.reRGBa);if(r){var n=parseInt(r[1],10)/(/%$/.test(r[1])?100:1)*(/%$/.test(r[1])?255:1),u=parseInt(r[2],10)/(/%$/.test(r[2])?100:1)*(/%$/.test(r[2])?255:1),h=parseInt(r[3],10)/(/%$/.test(r[3])?100:1)*(/%$/.test(r[3])?255:1);return[parseInt(n,10),parseInt(u,10),parseInt(h,10),r[4]?parseFloat(r[4]):1]}},l.Color.fromRgba=c.fromRgb,l.Color.fromHsl=function(a){return c.fromSource(c.sourceFromHsl(a))},l.Color.sourceFromHsl=function(a){var r=a.match(c.reHSLa);if(r){var n=(parseFloat(r[1])%360+360)%360/360,u=parseFloat(r[2])/(/%$/.test(r[2])?100:1),h=parseFloat(r[3])/(/%$/.test(r[3])?100:1),s,d,p;if(u===0)s=d=p=h;else{var _=h<=.5?h*(u+1):h+u-h*u,S=h*2-_;s=f(S,_,n+1/3),d=f(S,_,n),p=f(S,_,n-1/3)}return[Math.round(s*255),Math.round(d*255),Math.round(p*255),r[4]?parseFloat(r[4]):1]}},l.Color.fromHsla=c.fromHsl,l.Color.fromHex=function(a){return c.fromSource(c.sourceFromHex(a))},l.Color.sourceFromHex=function(a){if(a.match(c.reHex)){var r=a.slice(a.indexOf("#")+1),n=r.length===3||r.length===4,u=r.length===8||r.length===4,h=n?r.charAt(0)+r.charAt(0):r.substring(0,2),s=n?r.charAt(1)+r.charAt(1):r.substring(2,4),d=n?r.charAt(2)+r.charAt(2):r.substring(4,6),p=u?n?r.charAt(3)+r.charAt(3):r.substring(6,8):"FF";return[parseInt(h,16),parseInt(s,16),parseInt(d,16),parseFloat((parseInt(p,16)/255).toFixed(2))]}},l.Color.fromSource=function(a){var r=new c;return r.setSource(a),r}}(C),function(m){var l=m.fabric||(m.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],a={},r="left",n="top",u="right",h="bottom",s="center",d={top:h,bottom:n,left:u,right:r,center:s},p=l.util.radiansToDegrees,_=Math.sign||function(J){return(J>0)-(J<0)||+J};function S(J,q){var rt=J.angle+p(Math.atan2(q.y,q.x))+360;return Math.round(rt%360/45)}function b(J,q){var rt=q.transform.target,st=rt.canvas,et=l.util.object.clone(q);et.target=rt,st&&st.fire("object:"+J,et),rt.fire(J,q)}function w(J,q){var rt=q.canvas,st=rt.uniScaleKey,et=J[st];return rt.uniformScaling&&!et||!rt.uniformScaling&&et}function L(J){return J.originX===s&&J.originY===s}function P(J,q,rt){var st=J.lockScalingX,et=J.lockScalingY;return!!(st&&et||!q&&(st||et)&&rt||st&&q==="x"||et&&q==="y")}function H(J,q,rt){var st="not-allowed",et=w(J,rt),ot="";if(q.x!==0&&q.y===0?ot="x":q.x===0&&q.y!==0&&(ot="y"),P(rt,ot,et))return st;var Ct=S(rt,q);return c[Ct]+"-resize"}function K(J,q,rt){var st="not-allowed";if(q.x!==0&&rt.lockSkewingY||q.y!==0&&rt.lockSkewingX)return st;var et=S(rt,q)%4;return f[et]+"-resize"}function dt(J,q,rt){return J[rt.canvas.altActionKey]?a.skewCursorStyleHandler(J,q,rt):a.scaleCursorStyleHandler(J,q,rt)}function yt(J,q,rt){var st=J[rt.canvas.altActionKey];if(q.x===0)return st?"skewX":"scaleY";if(q.y===0)return st?"skewY":"scaleX"}function St(J,q,rt){return rt.lockRotation?"not-allowed":q.cursorStyle}function pt(J,q,rt,st){return{e:J,transform:q,pointer:{x:rt,y:st}}}function vt(J){return function(q,rt,st,et){var ot=rt.target,Ct=ot.getCenterPoint(),Dt=ot.translateToOriginPoint(Ct,rt.originX,rt.originY),Tt=J(q,rt,st,et);return ot.setPositionByOrigin(Dt,rt.originX,rt.originY),Tt}}function tt(J,q){return function(rt,st,et,ot){var Ct=q(rt,st,et,ot);return Ct&&b(J,pt(rt,st,et,ot)),Ct}}function mt(J,q,rt,st,et){var ot=J.target,Ct=ot.controls[J.corner],Dt=ot.canvas.getZoom(),Tt=ot.padding/Dt,lt=ot.toLocalPoint(new l.Point(st,et),q,rt);return lt.x>=Tt&&(lt.x-=Tt),lt.x<=-Tt&&(lt.x+=Tt),lt.y>=Tt&&(lt.y-=Tt),lt.y<=Tt&&(lt.y+=Tt),lt.x-=Ct.offsetX,lt.y-=Ct.offsetY,lt}function ft(J){return J.flipX!==J.flipY}function O(J,q,rt,st,et){if(J[q]!==0){var ot=J._getTransformedDimensions()[st],Ct=et/ot*J[rt];J.set(rt,Ct)}}function x(J,q,rt,st){var et=q.target,ot=et._getTransformedDimensions(0,et.skewY),Ct=mt(q,q.originX,q.originY,rt,st),Dt=Math.abs(Ct.x*2)-ot.x,Tt=et.skewX,lt;Dt<2?lt=0:(lt=p(Math.atan2(Dt/et.scaleX,ot.y/et.scaleY)),q.originX===r&&q.originY===h&&(lt=-lt),q.originX===u&&q.originY===n&&(lt=-lt),ft(et)&&(lt=-lt));var wt=Tt!==lt;if(wt){var Et=et._getTransformedDimensions().y;et.set("skewX",lt),O(et,"skewY","scaleY","y",Et)}return wt}function M(J,q,rt,st){var et=q.target,ot=et._getTransformedDimensions(et.skewX,0),Ct=mt(q,q.originX,q.originY,rt,st),Dt=Math.abs(Ct.y*2)-ot.y,Tt=et.skewY,lt;Dt<2?lt=0:(lt=p(Math.atan2(Dt/et.scaleY,ot.x/et.scaleX)),q.originX===r&&q.originY===h&&(lt=-lt),q.originX===u&&q.originY===n&&(lt=-lt),ft(et)&&(lt=-lt));var wt=Tt!==lt;if(wt){var Et=et._getTransformedDimensions().x;et.set("skewY",lt),O(et,"skewX","scaleX","x",Et)}return wt}function B(J,q,rt,st){var et=q.target,ot=et.skewX,Ct,Dt=q.originY;if(et.lockSkewingX)return!1;if(ot===0){var Tt=mt(q,s,s,rt,st);Tt.x>0?Ct=r:Ct=u}else ot>0&&(Ct=Dt===n?r:u),ot<0&&(Ct=Dt===n?u:r),ft(et)&&(Ct=Ct===r?u:r);q.originX=Ct;var lt=tt("skewing",vt(x));return lt(J,q,rt,st)}function X(J,q,rt,st){var et=q.target,ot=et.skewY,Ct,Dt=q.originX;if(et.lockSkewingY)return!1;if(ot===0){var Tt=mt(q,s,s,rt,st);Tt.y>0?Ct=n:Ct=h}else ot>0&&(Ct=Dt===r?n:h),ot<0&&(Ct=Dt===r?h:n),ft(et)&&(Ct=Ct===n?h:n);q.originY=Ct;var lt=tt("skewing",vt(M));return lt(J,q,rt,st)}function R(J,q,rt,st){var et=q,ot=et.target,Ct=ot.translateToOriginPoint(ot.getCenterPoint(),et.originX,et.originY);if(ot.lockRotation)return!1;var Dt=Math.atan2(et.ey-Ct.y,et.ex-Ct.x),Tt=Math.atan2(st-Ct.y,rt-Ct.x),lt=p(Tt-Dt+et.theta),wt=!0;if(ot.snapAngle>0){var Et=ot.snapAngle,zt=ot.snapThreshold||Et,Gt=Math.ceil(lt/Et)*Et,Ht=Math.floor(lt/Et)*Et;Math.abs(lt-Ht)<zt?lt=Ht:Math.abs(lt-Gt)<zt&&(lt=Gt)}return lt<0&&(lt=360+lt),lt%=360,wt=ot.angle!==lt,ot.angle=lt,wt}function E(J,q,rt,st,et){et=et||{};var ot=q.target,Ct=ot.lockScalingX,Dt=ot.lockScalingY,Tt=et.by,lt,wt,Et,zt,Gt=w(J,ot),Ht=P(ot,Tt,Gt),ee,Zt,We=q.gestureScale;if(Ht)return!1;if(We)wt=q.scaleX*We,Et=q.scaleY*We;else{if(lt=mt(q,q.originX,q.originY,rt,st),ee=Tt!=="y"?_(lt.x):1,Zt=Tt!=="x"?_(lt.y):1,q.signX||(q.signX=ee),q.signY||(q.signY=Zt),ot.lockScalingFlip&&(q.signX!==ee||q.signY!==Zt))return!1;if(zt=ot._getTransformedDimensions(),Gt&&!Tt){var Gi=Math.abs(lt.x)+Math.abs(lt.y),Me=q.original,Vi=Math.abs(zt.x*Me.scaleX/ot.scaleX)+Math.abs(zt.y*Me.scaleY/ot.scaleY),me=Gi/Vi;wt=Me.scaleX*me,Et=Me.scaleY*me}else wt=Math.abs(lt.x*ot.scaleX/zt.x),Et=Math.abs(lt.y*ot.scaleY/zt.y);L(q)&&(wt*=2,Et*=2),q.signX!==ee&&Tt!=="y"&&(q.originX=d[q.originX],wt*=-1,q.signX=ee),q.signY!==Zt&&Tt!=="x"&&(q.originY=d[q.originY],Et*=-1,q.signY=Zt)}var Ss=ot.scaleX,Ie=ot.scaleY;return Tt?(Tt==="x"&&ot.set("scaleX",wt),Tt==="y"&&ot.set("scaleY",Et)):(!Ct&&ot.set("scaleX",wt),!Dt&&ot.set("scaleY",Et)),Ss!==ot.scaleX||Ie!==ot.scaleY}function U(J,q,rt,st){return E(J,q,rt,st)}function G(J,q,rt,st){return E(J,q,rt,st,{by:"x"})}function Q(J,q,rt,st){return E(J,q,rt,st,{by:"y"})}function W(J,q,rt,st){return J[q.target.canvas.altActionKey]?a.skewHandlerX(J,q,rt,st):a.scalingY(J,q,rt,st)}function it(J,q,rt,st){return J[q.target.canvas.altActionKey]?a.skewHandlerY(J,q,rt,st):a.scalingX(J,q,rt,st)}function ht(J,q,rt,st){var et=q.target,ot=mt(q,q.originX,q.originY,rt,st),Ct=et.strokeWidth/(et.strokeUniform?et.scaleX:1),Dt=L(q)?2:1,Tt=et.width,lt=Math.abs(ot.x*Dt/et.scaleX)-Ct;return et.set("width",Math.max(lt,0)),Tt!==lt}function _t(J,q,rt,st){var et=q.target,ot=rt-q.offsetX,Ct=st-q.offsetY,Dt=!et.get("lockMovementX")&&et.left!==ot,Tt=!et.get("lockMovementY")&&et.top!==Ct;return Dt&&et.set("left",ot),Tt&&et.set("top",Ct),(Dt||Tt)&&b("moving",pt(J,q,rt,st)),Dt||Tt}a.scaleCursorStyleHandler=H,a.skewCursorStyleHandler=K,a.scaleSkewCursorStyleHandler=dt,a.rotationWithSnapping=tt("rotating",vt(R)),a.scalingEqually=tt("scaling",vt(U)),a.scalingX=tt("scaling",vt(G)),a.scalingY=tt("scaling",vt(Q)),a.scalingYOrSkewingX=W,a.scalingXOrSkewingY=it,a.changeWidth=tt("resizing",vt(ht)),a.skewHandlerX=B,a.skewHandlerY=X,a.dragHandler=_t,a.scaleOrSkewActionName=yt,a.rotationStyleHandler=St,a.fireEvent=b,a.wrapWithFixedAnchor=vt,a.wrapWithFireEvent=tt,a.getLocalPoint=mt,l.controlsUtils=a}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.util.degreesToRadians,f=l.controlsUtils;function a(n,u,h,s,d){s=s||{};var p=this.sizeX||s.cornerSize||d.cornerSize,_=this.sizeY||s.cornerSize||d.cornerSize,S=typeof s.transparentCorners<"u"?s.transparentCorners:d.transparentCorners,b=S?"stroke":"fill",w=!S&&(s.cornerStrokeColor||d.cornerStrokeColor),L=u,P=h,H;n.save(),n.fillStyle=s.cornerColor||d.cornerColor,n.strokeStyle=s.cornerStrokeColor||d.cornerStrokeColor,p>_?(H=p,n.scale(1,_/p),P=h*p/_):_>p?(H=_,n.scale(p/_,1),L=u*_/p):H=p,n.lineWidth=1,n.beginPath(),n.arc(L,P,H/2,0,2*Math.PI,!1),n[b](),w&&n.stroke(),n.restore()}function r(n,u,h,s,d){s=s||{};var p=this.sizeX||s.cornerSize||d.cornerSize,_=this.sizeY||s.cornerSize||d.cornerSize,S=typeof s.transparentCorners<"u"?s.transparentCorners:d.transparentCorners,b=S?"stroke":"fill",w=!S&&(s.cornerStrokeColor||d.cornerStrokeColor),L=p/2,P=_/2;n.save(),n.fillStyle=s.cornerColor||d.cornerColor,n.strokeStyle=s.cornerStrokeColor||d.cornerStrokeColor,n.lineWidth=1,n.translate(u,h),n.rotate(c(d.angle)),n[b+"Rect"](-L,-P,p,_),w&&n.strokeRect(-L,-P,p,_),n.restore()}f.renderCircleControl=a,f.renderSquareControl=r}(C),function(m){var l=m.fabric||(m.fabric={});function c(f){for(var a in f)this[a]=f[a]}l.Control=c,l.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,a){return a.cursorStyle},getActionName:function(f,a){return a.actionName},getVisibility:function(f,a){var r=f._controlsVisibility;return r&&typeof r[a]<"u"?r[a]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,a){var r=l.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},a);return r},calcCornerCoords:function(f,a,r,n,u){var h,s,d,p,_=u?this.touchSizeX:this.sizeX,S=u?this.touchSizeY:this.sizeY;if(_&&S&&_!==S){var b=Math.atan2(S,_),w=Math.sqrt(_*_+S*S)/2,L=b-l.util.degreesToRadians(f),P=Math.PI/2-b-l.util.degreesToRadians(f);h=w*l.util.cos(L),s=w*l.util.sin(L),d=w*l.util.cos(P),p=w*l.util.sin(P)}else{var H=_&&S?_:a;w=H*.7071067812;var L=l.util.degreesToRadians(45-f);h=d=w*l.util.cos(L),s=p=w*l.util.sin(L)}return{tl:{x:r-p,y:n-d},tr:{x:r+h,y:n-s},bl:{x:r-h,y:n+s},br:{x:r+p,y:n+d}}},render:function(f,a,r,n,u){switch(n=n||{},n.cornerStyle||u.cornerStyle){case"circle":l.controlsUtils.renderCircleControl.call(this,f,a,r,n,u);break;default:l.controlsUtils.renderSquareControl.call(this,f,a,r,n,u)}}}}(C),function(){function m(r,n){var u=r.getAttribute("style"),h=r.getAttribute("offset")||0,s,d,p,_;if(h=parseFloat(h)/(/%$/.test(h)?100:1),h=h<0?0:h>1?1:h,u){var S=u.split(/\s*;\s*/);for(S[S.length-1]===""&&S.pop(),_=S.length;_--;){var b=S[_].split(/\s*:\s*/),w=b[0].trim(),L=b[1].trim();w==="stop-color"?s=L:w==="stop-opacity"&&(p=L)}}return s||(s=r.getAttribute("stop-color")||"rgb(0,0,0)"),p||(p=r.getAttribute("stop-opacity")),s=new v.Color(s),d=s.getAlpha(),p=isNaN(parseFloat(p))?1:parseFloat(p),p*=d*n,{offset:h,color:s.toRgb(),opacity:p}}function l(r){return{x1:r.getAttribute("x1")||0,y1:r.getAttribute("y1")||0,x2:r.getAttribute("x2")||"100%",y2:r.getAttribute("y2")||0}}function c(r){return{x1:r.getAttribute("fx")||r.getAttribute("cx")||"50%",y1:r.getAttribute("fy")||r.getAttribute("cy")||"50%",r1:0,x2:r.getAttribute("cx")||"50%",y2:r.getAttribute("cy")||"50%",r2:r.getAttribute("r")||"50%"}}var f=v.util.object.clone;v.Gradient=v.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(r){r||(r={}),r.coords||(r.coords={});var n,u=this;Object.keys(r).forEach(function(h){u[h]=r[h]}),this.id?this.id+="_"+v.Object.__uid++:this.id=v.Object.__uid++,n={x1:r.coords.x1||0,y1:r.coords.y1||0,x2:r.coords.x2||0,y2:r.coords.y2||0},this.type==="radial"&&(n.r1=r.coords.r1||0,n.r2=r.coords.r2||0),this.coords=n,this.colorStops=r.colorStops.slice()},addColorStop:function(r){for(var n in r){var u=new v.Color(r[n]);this.colorStops.push({offset:parseFloat(n),color:u.toRgb(),opacity:u.getAlpha()})}return this},toObject:function(r){var n={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return v.util.populateWithProperties(this,n,r),n},toSVG:function(r,d){var u=f(this.coords,!0),h,s,d=d||{},p,_,S=f(this.colorStops,!0),b=u.r1>u.r2,w=this.gradientTransform?this.gradientTransform.concat():v.iMatrix.concat(),L=-this.offsetX,P=-this.offsetY,H=!!d.additionalTransform,K=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(S.sort(function(vt,tt){return vt.offset-tt.offset}),K==="objectBoundingBox"?(L/=r.width,P/=r.height):(L+=r.width/2,P+=r.height/2),r.type==="path"&&this.gradientUnits!=="percentage"&&(L-=r.pathOffset.x,P-=r.pathOffset.y),w[4]-=L,w[5]-=P,_='id="SVGID_'+this.id+'" gradientUnits="'+K+'"',_+=' gradientTransform="'+(H?d.additionalTransform+" ":"")+v.util.matrixToSVG(w)+'" ',this.type==="linear"?p=["<linearGradient ",_,' x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,`">
`]:this.type==="radial"&&(p=["<radialGradient ",_,' cx="',b?u.x1:u.x2,'" cy="',b?u.y1:u.y2,'" r="',b?u.r1:u.r2,'" fx="',b?u.x2:u.x1,'" fy="',b?u.y2:u.y1,`">
`]),this.type==="radial"){if(b)for(S=S.concat(),S.reverse(),h=0,s=S.length;h<s;h++)S[h].offset=1-S[h].offset;var dt=Math.min(u.r1,u.r2);if(dt>0){var yt=Math.max(u.r1,u.r2),St=dt/yt;for(h=0,s=S.length;h<s;h++)S[h].offset+=St*(1-S[h].offset)}}for(h=0,s=S.length;h<s;h++){var pt=S[h];p.push("<stop ",'offset="',pt.offset*100+"%",'" style="stop-color:',pt.color,typeof pt.opacity<"u"?";stop-opacity: "+pt.opacity:";",`"/>
`)}return p.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),p.join("")},toLive:function(r){var n,u=v.util.object.clone(this.coords),h,s;if(this.type){for(this.type==="linear"?n=r.createLinearGradient(u.x1,u.y1,u.x2,u.y2):this.type==="radial"&&(n=r.createRadialGradient(u.x1,u.y1,u.r1,u.x2,u.y2,u.r2)),h=0,s=this.colorStops.length;h<s;h++){var d=this.colorStops[h].color,p=this.colorStops[h].opacity,_=this.colorStops[h].offset;typeof p<"u"&&(d=new v.Color(d).setAlpha(p).toRgba()),n.addColorStop(_,d)}return n}}}),v.util.object.extend(v.Gradient,{fromElement:function(r,n,u,h){var s=parseFloat(u)/(/%$/.test(u)?100:1);s=s<0?0:s>1?1:s,isNaN(s)&&(s=1);var d=r.getElementsByTagName("stop"),p,_=r.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",S=r.getAttribute("gradientTransform")||"",b=[],w,L,P=0,H=0,K;for(r.nodeName==="linearGradient"||r.nodeName==="LINEARGRADIENT"?(p="linear",w=l(r)):(p="radial",w=c(r)),L=d.length;L--;)b.push(m(d[L],s));K=v.parseTransformAttribute(S),a(n,w,h,_),_==="pixels"&&(P=-n.left,H=-n.top);var dt=new v.Gradient({id:r.getAttribute("id"),type:p,coords:w,colorStops:b,gradientUnits:_,gradientTransform:K,offsetX:P,offsetY:H});return dt}});function a(r,n,u,h){var s,d;Object.keys(n).forEach(function(p){s=n[p],s==="Infinity"?d=1:s==="-Infinity"?d=0:(d=parseFloat(n[p],10),typeof s=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(s)&&(d*=.01,h==="pixels"&&((p==="x1"||p==="x2"||p==="r2")&&(d*=u.viewBoxWidth||u.width),(p==="y1"||p==="y2")&&(d*=u.viewBoxHeight||u.height)))),n[p]=d})}}(),function(){var m=v.util.toFixed;v.Pattern=v.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(l,c){if(l||(l={}),this.id=v.Object.__uid++,this.setOptions(l),!l.source||l.source&&typeof l.source!="string"){c&&c(this);return}else{var f=this;this.source=v.util.createImage(),v.util.loadImage(l.source,function(a,r){f.source=a,c&&c(f,r)},null,this.crossOrigin)}},toObject:function(l){var c=v.Object.NUM_FRACTION_DIGITS,f,a;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),a={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:m(this.offsetX,c),offsetY:m(this.offsetY,c),patternTransform:this.patternTransform?this.patternTransform.concat():null},v.util.populateWithProperties(this,a,l),a},toSVG:function(l){var c=typeof this.source=="function"?this.source():this.source,f=c.width/l.width,a=c.height/l.height,r=this.offsetX/l.width,n=this.offsetY/l.height,u="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(a=1,n&&(a+=Math.abs(n))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,r&&(f+=Math.abs(r))),c.src?u=c.src:c.toDataURL&&(u=c.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+n+'" width="'+f+'" height="'+a+`">
<image x="0" y="0" width="`+c.width+'" height="'+c.height+'" xlink:href="'+u+`"></image>
</pattern>
`},setOptions:function(l){for(var c in l)this[c]=l[c]},toLive:function(l){var c=this.source;return!c||typeof c.src<"u"&&(!c.complete||c.naturalWidth===0||c.naturalHeight===0)?"":l.createPattern(c,this.repeat)}})}(),function(m){var l=m.fabric||(m.fabric={}),c=l.util.toFixed;if(l.Shadow){l.warn("fabric.Shadow is already defined.");return}l.Shadow=l.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var a in f)this[a]=f[a];this.id=l.Object.__uid++},_parseShadow:function(f){var a=f.trim(),r=l.Shadow.reOffsetsAndBlur.exec(a)||[],n=a.replace(l.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:n.trim(),offsetX:parseFloat(r[1],10)||0,offsetY:parseFloat(r[2],10)||0,blur:parseFloat(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var a=40,r=40,n=l.Object.NUM_FRACTION_DIGITS,u=l.util.rotateVector({x:this.offsetX,y:this.offsetY},l.util.degreesToRadians(-f.angle)),h=20,s=new l.Color(this.color);return f.width&&f.height&&(a=c((Math.abs(u.x)+this.blur)/f.width,n)*100+h,r=c((Math.abs(u.y)+this.blur)/f.height,n)*100+h),f.flipX&&(u.x*=-1),f.flipY&&(u.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+a+'%" width="'+(100+2*a)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,n)+`"></feGaussianBlur>
	<feOffset dx="`+c(u.x,n)+'" dy="'+c(u.y,n)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+s.toRgb()+'" flood-opacity="'+s.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},a=l.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(r){this[r]!==a[r]&&(f[r]=this[r])},this),f}}),l.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(C),function(){if(v.StaticCanvas){v.warn("fabric.StaticCanvas is already defined.");return}var m=v.util.object.extend,l=v.util.getElementOffset,c=v.util.removeFromArray,f=v.util.toFixed,a=v.util.transformPoint,r=v.util.invertTransform,n=v.util.getNodeCanvas,u=v.util.createCanvasElement,h=new Error("Could not initialize `canvas` element");v.StaticCanvas=v.util.createClass(v.CommonMethods,{initialize:function(s,d){d||(d={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(s,d)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:v.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(s,d){var p=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(s),this._initOptions(d),this.interactive||this._initRetinaScaling(),d.overlayImage&&this.setOverlayImage(d.overlayImage,p),d.backgroundImage&&this.setBackgroundImage(d.backgroundImage,p),d.backgroundColor&&this.setBackgroundColor(d.backgroundColor,p),d.overlayColor&&this.setOverlayColor(d.overlayColor,p),this.calcOffset()},_isRetinaScaling:function(){return v.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,v.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var s=v.devicePixelRatio;this.__initRetinaScaling(s,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(s,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(s,d,p){d.setAttribute("width",this.width*s),d.setAttribute("height",this.height*s),p.scale(s,s)},calcOffset:function(){return this._offset=l(this.lowerCanvasEl),this},setOverlayImage:function(s,d,p){return this.__setBgOverlayImage("overlayImage",s,d,p)},setBackgroundImage:function(s,d,p){return this.__setBgOverlayImage("backgroundImage",s,d,p)},setOverlayColor:function(s,d){return this.__setBgOverlayColor("overlayColor",s,d)},setBackgroundColor:function(s,d){return this.__setBgOverlayColor("backgroundColor",s,d)},__setBgOverlayImage:function(s,d,p,_){return typeof d=="string"?v.util.loadImage(d,function(S,b){if(S){var w=new v.Image(S,_);this[s]=w,w.canvas=this}p&&p(S,b)},this,_&&_.crossOrigin):(_&&d.setOptions(_),this[s]=d,d&&(d.canvas=this),p&&p(d,!1)),this},__setBgOverlayColor:function(s,d,p){return this[s]=d,this._initGradient(d,s),this._initPattern(d,s,p),this},_createCanvasElement:function(){var s=u();if(!s||(s.style||(s.style={}),typeof s.getContext>"u"))throw h;return s},_initOptions:function(s){var d=this.lowerCanvasEl;this._setOptions(s),this.width=this.width||parseInt(d.width,10)||0,this.height=this.height||parseInt(d.height,10)||0,this.lowerCanvasEl.style&&(d.width=this.width,d.height=this.height,d.style.width=this.width+"px",d.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(s){s&&s.getContext?this.lowerCanvasEl=s:this.lowerCanvasEl=v.util.getById(s)||this._createCanvasElement(),v.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(s,d){return this.setDimensions({width:s},d)},setHeight:function(s,d){return this.setDimensions({height:s},d)},setDimensions:function(s,d){var p;d=d||{};for(var _ in s)p=s[_],d.cssOnly||(this._setBackstoreDimension(_,s[_]),p+="px",this.hasLostContext=!0),d.backstoreOnly||this._setCssDimension(_,p);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),d.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(s,d){return this.lowerCanvasEl[s]=d,this.upperCanvasEl&&(this.upperCanvasEl[s]=d),this.cacheCanvasEl&&(this.cacheCanvasEl[s]=d),this[s]=d,this},_setCssDimension:function(s,d){return this.lowerCanvasEl.style[s]=d,this.upperCanvasEl&&(this.upperCanvasEl.style[s]=d),this.wrapperEl&&(this.wrapperEl.style[s]=d),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(s){var d=this._activeObject,p=this.backgroundImage,_=this.overlayImage,S,b,w;for(this.viewportTransform=s,b=0,w=this._objects.length;b<w;b++)S=this._objects[b],S.group||S.setCoords(!0);return d&&d.setCoords(),p&&p.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(s,d){var p=s,_=this.viewportTransform.slice(0);s=a(s,r(this.viewportTransform)),_[0]=d,_[3]=d;var S=a(s,_);return _[4]+=p.x-S.x,_[5]+=p.y-S.y,this.setViewportTransform(_)},setZoom:function(s){return this.zoomToPoint(new v.Point(0,0),s),this},absolutePan:function(s){var d=this.viewportTransform.slice(0);return d[4]=-s.x,d[5]=-s.y,this.setViewportTransform(d)},relativePan:function(s){return this.absolutePan(new v.Point(-s.x-this.viewportTransform[4],-s.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(s){this.stateful&&s.setupState(),s._set("canvas",this),s.setCoords(),this.fire("object:added",{target:s}),s.fire("added")},_onObjectRemoved:function(s){this.fire("object:removed",{target:s}),s.fire("removed"),delete s.canvas},clearContext:function(s){return s.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var s=this.contextContainer;return this.renderCanvas(s,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=v.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var s={},d=this.width,p=this.height,_=r(this.viewportTransform);return s.tl=a({x:0,y:0},_),s.br=a({x:d,y:p},_),s.tr=new v.Point(s.br.x,s.tl.y),s.bl=new v.Point(s.tl.x,s.br.y),this.vptCoords=s,s},cancelRequestedRender:function(){this.isRendering&&(v.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(s,d){var p=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(s),v.util.setImageSmoothing(s,this.imageSmoothingEnabled),this.fire("before:render",{ctx:s}),this._renderBackground(s),s.save(),s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._renderObjects(s,d),s.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(s),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(s)),this._renderOverlay(s),this.controlsAboveOverlay&&this.interactive&&this.drawControls(s),this.fire("after:render",{ctx:s})},drawClipPathOnCanvas:function(s){var d=this.viewportTransform,p=this.clipPath;s.save(),s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),s.globalCompositeOperation="destination-in",p.transform(s),s.scale(1/p.zoomX,1/p.zoomY),s.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),s.restore()},_renderObjects:function(s,d){var p,_;for(p=0,_=d.length;p<_;++p)d[p]&&d[p].render(s)},_renderBackgroundOrOverlay:function(s,d){var p=this[d+"Color"],_=this[d+"Image"],S=this.viewportTransform,b=this[d+"Vpt"];if(!(!p&&!_)){if(p){s.save(),s.beginPath(),s.moveTo(0,0),s.lineTo(this.width,0),s.lineTo(this.width,this.height),s.lineTo(0,this.height),s.closePath(),s.fillStyle=p.toLive?p.toLive(s,this):p,b&&s.transform(S[0],S[1],S[2],S[3],S[4],S[5]),s.transform(1,0,0,1,p.offsetX||0,p.offsetY||0);var w=p.gradientTransform||p.patternTransform;w&&s.transform(w[0],w[1],w[2],w[3],w[4],w[5]),s.fill(),s.restore()}_&&(s.save(),b&&s.transform(S[0],S[1],S[2],S[3],S[4],S[5]),_.render(s),s.restore())}},_renderBackground:function(s){this._renderBackgroundOrOverlay(s,"background")},_renderOverlay:function(s){this._renderBackgroundOrOverlay(s,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new v.Point(this.width/2,this.height/2)},centerObjectH:function(s){return this._centerObject(s,new v.Point(this.getCenterPoint().x,s.getCenterPoint().y))},centerObjectV:function(s){return this._centerObject(s,new v.Point(s.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(s){var d=this.getCenterPoint();return this._centerObject(s,d)},viewportCenterObject:function(s){var d=this.getVpCenter();return this._centerObject(s,d)},viewportCenterObjectH:function(s){var d=this.getVpCenter();return this._centerObject(s,new v.Point(d.x,s.getCenterPoint().y)),this},viewportCenterObjectV:function(s){var d=this.getVpCenter();return this._centerObject(s,new v.Point(s.getCenterPoint().x,d.y))},getVpCenter:function(){var s=this.getCenterPoint(),d=r(this.viewportTransform);return a(s,d)},_centerObject:function(s,d){return s.setPositionByOrigin(d,"center","center"),s.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(s){return this.toDatalessObject(s)},toObject:function(s){return this._toObjectMethod("toObject",s)},toDatalessObject:function(s){return this._toObjectMethod("toDatalessObject",s)},_toObjectMethod:function(s,d){var p=this.clipPath,_={version:v.version,objects:this._toObjects(s,d)};return p&&!p.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,s,d)),m(_,this.__serializeBgOverlay(s,d)),v.util.populateWithProperties(this,_,d),_},_toObjects:function(s,d){return this._objects.filter(function(p){return!p.excludeFromExport}).map(function(p){return this._toObject(p,s,d)},this)},_toObject:function(s,d,p){var _;this.includeDefaultValues||(_=s.includeDefaultValues,s.includeDefaultValues=!1);var S=s[d](p);return this.includeDefaultValues||(s.includeDefaultValues=_),S},__serializeBgOverlay:function(s,d){var p={},_=this.backgroundImage,S=this.overlayImage,b=this.backgroundColor,w=this.overlayColor;return b&&b.toObject?b.excludeFromExport||(p.background=b.toObject(d)):b&&(p.background=b),w&&w.toObject?w.excludeFromExport||(p.overlay=w.toObject(d)):w&&(p.overlay=w),_&&!_.excludeFromExport&&(p.backgroundImage=this._toObject(_,s,d)),S&&!S.excludeFromExport&&(p.overlayImage=this._toObject(S,s,d)),p},svgViewportTransformation:!0,toSVG:function(s,d){s||(s={}),s.reviver=d;var p=[];return this._setSVGPreamble(p,s),this._setSVGHeader(p,s),this.clipPath&&p.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(p,"background"),this._setSVGBgOverlayImage(p,"backgroundImage",d),this._setSVGObjects(p,d),this.clipPath&&p.push(`</g>
`),this._setSVGBgOverlayColor(p,"overlay"),this._setSVGBgOverlayImage(p,"overlayImage",d),p.push("</svg>"),p.join("")},_setSVGPreamble:function(s,d){d.suppressPreamble||s.push('<?xml version="1.0" encoding="',d.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(s,d){var p=d.width||this.width,_=d.height||this.height,S,b='viewBox="0 0 '+this.width+" "+this.height+'" ',w=v.Object.NUM_FRACTION_DIGITS;d.viewBox?b='viewBox="'+d.viewBox.x+" "+d.viewBox.y+" "+d.viewBox.width+" "+d.viewBox.height+'" ':this.svgViewportTransformation&&(S=this.viewportTransform,b='viewBox="'+f(-S[4]/S[0],w)+" "+f(-S[5]/S[3],w)+" "+f(this.width/S[0],w)+" "+f(this.height/S[3],w)+'" '),s.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',p,'" ','height="',_,'" ',b,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",v.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(d),`</defs>
`)},createSVGClipPathMarkup:function(s){var d=this.clipPath;return d?(d.clipPathId="CLIPPATH_"+v.Object.__uid++,'<clipPath id="'+d.clipPathId+`" >
`+this.clipPath.toClipPathSVG(s.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var s=this,d=["background","overlay"].map(function(p){var _=s[p+"Color"];if(_&&_.toLive){var S=s[p+"Vpt"],b=s.viewportTransform,w={width:s.width/(S?b[0]:1),height:s.height/(S?b[3]:1)};return _.toSVG(w,{additionalTransform:S?v.util.matrixToSVG(b):""})}});return d.join("")},createSVGFontFacesMarkup:function(){var s="",d={},p,_,S,b,w,L,P,H,K,dt=v.fontPaths,yt=[];for(this._objects.forEach(function pt(vt){yt.push(vt),vt._objects&&vt._objects.forEach(pt)}),H=0,K=yt.length;H<K;H++)if(p=yt[H],_=p.fontFamily,!(p.type.indexOf("text")===-1||d[_]||!dt[_])&&(d[_]=!0,!!p.styles)){S=p.styles;for(w in S){b=S[w];for(P in b)L=b[P],_=L.fontFamily,!d[_]&&dt[_]&&(d[_]=!0)}}for(var St in d)s+=[`		@font-face {
`,"			font-family: '",St,`';
`,"			src: url('",dt[St],`');
`,`		}
`].join("");return s&&(s=['	<style type="text/css">',`<![CDATA[
`,s,"]]>",`</style>
`].join("")),s},_setSVGObjects:function(s,d){var p,_,S,b=this._objects;for(_=0,S=b.length;_<S;_++)p=b[_],!p.excludeFromExport&&this._setSVGObject(s,p,d)},_setSVGObject:function(s,d,p){s.push(d.toSVG(p))},_setSVGBgOverlayImage:function(s,d,p){this[d]&&!this[d].excludeFromExport&&this[d].toSVG&&s.push(this[d].toSVG(p))},_setSVGBgOverlayColor:function(s,d){var p=this[d+"Color"],_=this.viewportTransform,S=this.width,b=this.height;if(p)if(p.toLive){var w=p.repeat,L=v.util.invertTransform(_),P=this[d+"Vpt"],H=P?v.util.matrixToSVG(L):"";s.push('<rect transform="'+H+" translate(",S/2,",",b/2,')"',' x="',p.offsetX-S/2,'" y="',p.offsetY-b/2,'" ','width="',w==="repeat-y"||w==="no-repeat"?p.source.width:S,'" height="',w==="repeat-x"||w==="no-repeat"?p.source.height:b,'" fill="url(#SVGID_'+p.id+')"',`></rect>
`)}else s.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',p,'"',`></rect>
`)},sendToBack:function(s){if(!s)return this;var d=this._activeObject,p,_,S;if(s===d&&s.type==="activeSelection")for(S=d._objects,p=S.length;p--;)_=S[p],c(this._objects,_),this._objects.unshift(_);else c(this._objects,s),this._objects.unshift(s);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(s){if(!s)return this;var d=this._activeObject,p,_,S;if(s===d&&s.type==="activeSelection")for(S=d._objects,p=0;p<S.length;p++)_=S[p],c(this._objects,_),this._objects.push(_);else c(this._objects,s),this._objects.push(s);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(s,d){if(!s)return this;var p=this._activeObject,_,S,b,w,L,P=0;if(s===p&&s.type==="activeSelection")for(L=p._objects,_=0;_<L.length;_++)S=L[_],b=this._objects.indexOf(S),b>0+P&&(w=b-1,c(this._objects,S),this._objects.splice(w,0,S)),P++;else b=this._objects.indexOf(s),b!==0&&(w=this._findNewLowerIndex(s,b,d),c(this._objects,s),this._objects.splice(w,0,s));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(s,d,p){var _,S;if(p)for(_=d,S=d-1;S>=0;--S){var b=s.intersectsWithObject(this._objects[S])||s.isContainedWithinObject(this._objects[S])||this._objects[S].isContainedWithinObject(s);if(b){_=S;break}}else _=d-1;return _},bringForward:function(s,d){if(!s)return this;var p=this._activeObject,_,S,b,w,L,P=0;if(s===p&&s.type==="activeSelection")for(L=p._objects,_=L.length;_--;)S=L[_],b=this._objects.indexOf(S),b<this._objects.length-1-P&&(w=b+1,c(this._objects,S),this._objects.splice(w,0,S)),P++;else b=this._objects.indexOf(s),b!==this._objects.length-1&&(w=this._findNewUpperIndex(s,b,d),c(this._objects,s),this._objects.splice(w,0,s));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(s,d,p){var _,S,b;if(p)for(_=d,S=d+1,b=this._objects.length;S<b;++S){var w=s.intersectsWithObject(this._objects[S])||s.isContainedWithinObject(this._objects[S])||this._objects[S].isContainedWithinObject(s);if(w){_=S;break}}else _=d+1;return _},moveTo:function(s,d){return c(this._objects,s),this._objects.splice(d,0,s),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(v.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(s){s.dispose&&s.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),v.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),v.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),m(v.StaticCanvas.prototype,v.Observable),m(v.StaticCanvas.prototype,v.Collection),m(v.StaticCanvas.prototype,v.DataURLExporter),m(v.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(s){var d=u();if(!d||!d.getContext)return null;var p=d.getContext("2d");if(!p)return null;switch(s){case"setLineDash":return typeof p.setLineDash<"u";default:return null}}}),v.StaticCanvas.prototype.toJSON=v.StaticCanvas.prototype.toObject,v.isLikelyNode&&(v.StaticCanvas.prototype.createPNGStream=function(){var s=n(this.lowerCanvasEl);return s&&s.createPNGStream()},v.StaticCanvas.prototype.createJPEGStream=function(s){var d=n(this.lowerCanvasEl);return d&&d.createJPEGStream(s)})}(),v.BaseBrush=v.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(m){m.strokeStyle=this.color,m.lineWidth=this.width,m.lineCap=this.strokeLineCap,m.miterLimit=this.strokeMiterLimit,m.lineJoin=this.strokeLineJoin,m.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(m){var l=this.canvas.viewportTransform;m.save(),m.transform(l[0],l[1],l[2],l[3],l[4],l[5])},_setShadow:function(){if(this.shadow){var m=this.canvas,l=this.shadow,c=m.contextTop,f=m.getZoom();m&&m._isRetinaScaling()&&(f*=v.devicePixelRatio),c.shadowColor=l.color,c.shadowBlur=l.blur*f,c.shadowOffsetX=l.offsetX*f,c.shadowOffsetY=l.offsetY*f}},needsFullRender:function(){var m=new v.Color(this.color);return m.getAlpha()<1||!!this.shadow},_resetShadow:function(){var m=this.canvas.contextTop;m.shadowColor="",m.shadowBlur=m.shadowOffsetX=m.shadowOffsetY=0},_isOutSideCanvas:function(m){return m.x<0||m.x>this.canvas.getWidth()||m.y<0||m.y>this.canvas.getHeight()}}),function(){v.PencilBrush=v.util.createClass(v.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(m){this.canvas=m,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(m,l,c){var f=l.midPointFrom(c);return m.quadraticCurveTo(l.x,l.y,f.x,f.y),f},onMouseDown:function(m,l){this.canvas._isMainEvent(l.e)&&(this.drawStraightLine=l.e[this.straightLineKey],this._prepareForDrawing(m),this._captureDrawingPath(m),this._render())},onMouseMove:function(m,l){if(this.canvas._isMainEvent(l.e)&&(this.drawStraightLine=l.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(m))&&this._captureDrawingPath(m)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var c=this._points,f=c.length,a=this.canvas.contextTop;this._saveAndTransform(a),this.oldEnd&&(a.beginPath(),a.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(a,c[f-2],c[f-1],!0),a.stroke(),a.restore()}},onMouseUp:function(m){return this.canvas._isMainEvent(m.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(m){var l=new v.Point(m.x,m.y);this._reset(),this._addPoint(l),this.canvas.contextTop.moveTo(l.x,l.y)},_addPoint:function(m){return this._points.length>1&&m.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(m),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(m){var l=new v.Point(m.x,m.y);return this._addPoint(l)},_render:function(m){var l,c,f=this._points[0],a=this._points[1];if(m=m||this.canvas.contextTop,this._saveAndTransform(m),m.beginPath(),this._points.length===2&&f.x===a.x&&f.y===a.y){var r=this.width/1e3;f=new v.Point(f.x,f.y),a=new v.Point(a.x,a.y),f.x-=r,a.x+=r}for(m.moveTo(f.x,f.y),l=1,c=this._points.length;l<c;l++)this._drawSegment(m,f,a),f=this._points[l],a=this._points[l+1];m.lineTo(f.x,f.y),m.stroke(),m.restore()},convertPointsToSVGPath:function(m){var l=this.width/1e3;return v.util.getSmoothPathFromPoints(m,l)},_isEmptySVGPath:function(m){var l=v.util.joinPath(m);return l==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(m){var l=new v.Path(m,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,l.shadow=new v.Shadow(this.shadow)),l},decimatePoints:function(m,l){if(m.length<=2)return m;var c=this.canvas.getZoom(),f=Math.pow(l/c,2),a,r=m.length-1,n=m[0],u=[n],h;for(a=1;a<r-1;a++)h=Math.pow(n.x-m[a].x,2)+Math.pow(n.y-m[a].y,2),h>=f&&(n=m[a],u.push(n));return u.push(m[r]),u},_finalizeAndAddPath:function(){var m=this.canvas.contextTop;m.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var l=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(l)){this.canvas.requestRenderAll();return}var c=this.createPath(l);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.requestRenderAll(),c.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:c})}})}(),v.CircleBrush=v.util.createClass(v.BaseBrush,{width:10,initialize:function(m){this.canvas=m,this.points=[]},drawDot:function(m){var l=this.addPoint(m),c=this.canvas.contextTop;this._saveAndTransform(c),this.dot(c,l),c.restore()},dot:function(m,l){m.fillStyle=l.fill,m.beginPath(),m.arc(l.x,l.y,l.radius,0,Math.PI*2,!1),m.closePath(),m.fill()},onMouseDown:function(m){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(m)},_render:function(){var m=this.canvas.contextTop,l,c,f=this.points;for(this._saveAndTransform(m),l=0,c=f.length;l<c;l++)this.dot(m,f[l]);m.restore()},onMouseMove:function(m){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(m)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(m),this._render()):this.drawDot(m))},onMouseUp:function(){var m=this.canvas.renderOnAddRemove,l,c;this.canvas.renderOnAddRemove=!1;var f=[];for(l=0,c=this.points.length;l<c;l++){var a=this.points[l],r=new v.Circle({radius:a.radius,left:a.x,top:a.y,originX:"center",originY:"center",fill:a.fill});this.shadow&&(r.shadow=new v.Shadow(this.shadow)),f.push(r)}var n=new v.Group(f);n.canvas=this.canvas,this.canvas.fire("before:path:created",{path:n}),this.canvas.add(n),this.canvas.fire("path:created",{path:n}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=m,this.canvas.requestRenderAll()},addPoint:function(m){var l=new v.Point(m.x,m.y),c=v.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new v.Color(this.color).setAlpha(v.util.getRandomInt(0,100)/100).toRgba();return l.radius=c,l.fill=f,this.points.push(l),l}}),v.SprayBrush=v.util.createClass(v.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(m){this.canvas=m,this.sprayChunks=[]},onMouseDown:function(m){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(m),this.render(this.sprayChunkPoints)},onMouseMove:function(m){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(m)||(this.addSprayChunk(m),this.render(this.sprayChunkPoints))},onMouseUp:function(){var m=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var l=[],c=0,f=this.sprayChunks.length;c<f;c++)for(var a=this.sprayChunks[c],r=0,n=a.length;r<n;r++){var u=new v.Rect({width:a[r].width,height:a[r].width,left:a[r].x+1,top:a[r].y+1,originX:"center",originY:"center",fill:this.color});l.push(u)}this.optimizeOverlapping&&(l=this._getOptimizedRects(l));var h=new v.Group(l);this.shadow&&h.set("shadow",new v.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.fire("path:created",{path:h}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=m,this.canvas.requestRenderAll()},_getOptimizedRects:function(m){var l={},c,f,a;for(f=0,a=m.length;f<a;f++)c=m[f].left+""+m[f].top,l[c]||(l[c]=m[f]);var r=[];for(c in l)r.push(l[c]);return r},render:function(m){var l=this.canvas.contextTop,c,f;for(l.fillStyle=this.color,this._saveAndTransform(l),c=0,f=m.length;c<f;c++){var a=m[c];typeof a.opacity<"u"&&(l.globalAlpha=a.opacity),l.fillRect(a.x,a.y,a.width,a.width)}l.restore()},_render:function(){var m=this.canvas.contextTop,l,c;for(m.fillStyle=this.color,this._saveAndTransform(m),l=0,c=this.sprayChunks.length;l<c;l++)this.render(this.sprayChunks[l]);m.restore()},addSprayChunk:function(m){this.sprayChunkPoints=[];var l,c,f,a=this.width/2,r;for(r=0;r<this.density;r++){l=v.util.getRandomInt(m.x-a,m.x+a),c=v.util.getRandomInt(m.y-a,m.y+a),this.dotWidthVariance?f=v.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var n=new v.Point(l,c);n.width=f,this.randomOpacity&&(n.opacity=v.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(n)}this.sprayChunks.push(this.sprayChunkPoints)}}),v.PatternBrush=v.util.createClass(v.PencilBrush,{getPatternSrc:function(){var m=20,l=5,c=v.util.createCanvasElement(),f=c.getContext("2d");return c.width=c.height=m+l,f.fillStyle=this.color,f.beginPath(),f.arc(m/2,m/2,m/2,0,Math.PI*2,!1),f.closePath(),f.fill(),c},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(m){return m.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(m){this.callSuper("_setBrushStyles",m),m.strokeStyle=this.getPattern(m)},createPath:function(m){var l=this.callSuper("createPath",m),c=l._getLeftTopCoords().scalarAdd(l.strokeWidth/2);return l.stroke=new v.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y}),l}}),function(){var m=v.util.getPointer,l=v.util.degreesToRadians,c=v.util.isTouchEvent;v.Canvas=v.util.createClass(v.StaticCanvas,{initialize:function(a,r){r||(r={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(a,r),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=v.PencilBrush&&new v.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var a=this.getActiveObjects(),r,n,u;if(a.length>0&&!this.preserveObjectStacking){n=[],u=[];for(var h=0,s=this._objects.length;h<s;h++)r=this._objects[h],a.indexOf(r)===-1?n.push(r):u.push(r);a.length>1&&(this._activeObject._objects=u),n.push.apply(n,u)}else n=this._objects;return n},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var a=this.contextContainer;return this.renderCanvas(a,this._chooseObjectsToRender()),this},renderTopLayer:function(a){a.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(a),this.contextTopDirty=!0),a.restore()},renderTop:function(){var a=this.contextTop;return this.clearContext(a),this.renderTopLayer(a),this.fire("after:render"),this},_normalizePointer:function(a,r){var n=a.calcTransformMatrix(),u=v.util.invertTransform(n),h=this.restorePointerVpt(r);return v.util.transformPoint(h,u)},isTargetTransparent:function(a,r,n){if(a.shouldCache()&&a._cacheCanvas&&a!==this._activeObject){var u=this._normalizePointer(a,{x:r,y:n}),h=Math.max(a.cacheTranslationX+u.x*a.zoomX,0),s=Math.max(a.cacheTranslationY+u.y*a.zoomY,0),S=v.util.isTransparent(a._cacheContext,Math.round(h),Math.round(s),this.targetFindTolerance);return S}var d=this.contextCache,p=a.selectionBackgroundColor,_=this.viewportTransform;a.selectionBackgroundColor="",this.clearContext(d),d.save(),d.transform(_[0],_[1],_[2],_[3],_[4],_[5]),a.render(d),d.restore(),a.selectionBackgroundColor=p;var S=v.util.isTransparent(d,r,n,this.targetFindTolerance);return S},_isSelectionKeyPressed:function(a){var r=!1;return Array.isArray(this.selectionKey)?r=!!this.selectionKey.find(function(n){return a[n]===!0}):r=a[this.selectionKey],r},_shouldClearSelection:function(a,r){var n=this.getActiveObjects(),u=this._activeObject;return!r||r&&u&&n.length>1&&n.indexOf(r)===-1&&u!==r&&!this._isSelectionKeyPressed(a)||r&&!r.evented||r&&!r.selectable&&u&&u!==r},_shouldCenterTransform:function(a,r,n){if(a){var u;return r==="scale"||r==="scaleX"||r==="scaleY"||r==="resizing"?u=this.centeredScaling||a.centeredScaling:r==="rotate"&&(u=this.centeredRotation||a.centeredRotation),u?!n:n}},_getOriginFromCorner:function(a,r){var n={x:a.originX,y:a.originY};return r==="ml"||r==="tl"||r==="bl"?n.x="right":(r==="mr"||r==="tr"||r==="br")&&(n.x="left"),r==="tl"||r==="mt"||r==="tr"?n.y="bottom":(r==="bl"||r==="mb"||r==="br")&&(n.y="top"),n},_getActionFromCorner:function(a,r,n,u){if(!r||!a)return"drag";var h=u.controls[r];return h.getActionName(n,h,u)},_setupCurrentTransform:function(a,r,n){if(r){var u=this.getPointer(a),h=r.__corner,s=r.controls[h],d=n&&h?s.getActionHandler(a,r,s):v.controlsUtils.dragHandler,p=this._getActionFromCorner(n,h,a,r),_=this._getOriginFromCorner(r,h),S=a[this.centeredKey],b={target:r,action:p,actionHandler:d,corner:h,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:u.x-r.left,offsetY:u.y-r.top,originX:_.x,originY:_.y,ex:u.x,ey:u.y,lastX:u.x,lastY:u.y,theta:l(r.angle),width:r.width*r.scaleX,shiftKey:a.shiftKey,altKey:S,original:v.util.saveObjectTransform(r)};this._shouldCenterTransform(r,p,S)&&(b.originX="center",b.originY="center"),b.original.originX=_.x,b.original.originY=_.y,this._currentTransform=b,this._beforeTransform(a)}},setCursor:function(a){this.upperCanvasEl.style.cursor=a},_drawSelection:function(a){var r=this._groupSelector,n=new v.Point(r.ex,r.ey),u=v.util.transformPoint(n,this.viewportTransform),h=new v.Point(r.ex+r.left,r.ey+r.top),s=v.util.transformPoint(h,this.viewportTransform),d=Math.min(u.x,s.x),p=Math.min(u.y,s.y),_=Math.max(u.x,s.x),S=Math.max(u.y,s.y),b=this.selectionLineWidth/2;this.selectionColor&&(a.fillStyle=this.selectionColor,a.fillRect(d,p,_-d,S-p)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(a.lineWidth=this.selectionLineWidth,a.strokeStyle=this.selectionBorderColor,d+=b,p+=b,_-=b,S-=b,v.Object.prototype._setLineDash.call(this,a,this.selectionDashArray),a.strokeRect(d,p,_-d,S-p))},findTarget:function(a,r){if(!this.skipTargetFind){var n=!0,u=this.getPointer(a,n),h=this._activeObject,s=this.getActiveObjects(),d,p,_=c(a),S=s.length>1&&!r||s.length===1;if(this.targets=[],S&&h._findTargetCorner(u,_)||s.length>1&&!r&&h===this._searchPossibleTargets([h],u))return h;if(s.length===1&&h===this._searchPossibleTargets([h],u))if(this.preserveObjectStacking)d=h,p=this.targets,this.targets=[];else return h;var b=this._searchPossibleTargets(this._objects,u);return a[this.altSelectionKey]&&b&&d&&b!==d&&(b=d,this.targets=p),b}},_checkTarget:function(a,r,n){if(r&&r.visible&&r.evented&&r.containsPoint(a))if((this.perPixelTargetFind||r.perPixelTargetFind)&&!r.isEditing){var u=this.isTargetTransparent(r,n.x,n.y);if(!u)return!0}else return!0},_searchPossibleTargets:function(a,r){for(var n,u=a.length,h;u--;){var s=a[u],d=s.group?this._normalizePointer(s.group,r):r;if(this._checkTarget(d,s,r)){n=a[u],n.subTargetCheck&&n instanceof v.Group&&(h=this._searchPossibleTargets(n._objects,r),h&&this.targets.push(h));break}}return n},restorePointerVpt:function(a){return v.util.transformPoint(a,v.util.invertTransform(this.viewportTransform))},getPointer:function(a,r){if(this._absolutePointer&&!r)return this._absolutePointer;if(this._pointer&&r)return this._pointer;var n=m(a),u=this.upperCanvasEl,h=u.getBoundingClientRect(),s=h.width||0,d=h.height||0,p;(!s||!d)&&("top"in h&&"bottom"in h&&(d=Math.abs(h.top-h.bottom)),"right"in h&&"left"in h&&(s=Math.abs(h.right-h.left))),this.calcOffset(),n.x=n.x-this._offset.left,n.y=n.y-this._offset.top,r||(n=this.restorePointerVpt(n));var _=this.getRetinaScaling();return _!==1&&(n.x/=_,n.y/=_),s===0||d===0?p={width:1,height:1}:p={width:u.width/s,height:u.height/d},{x:n.x*p.width,y:n.y*p.height}},_createUpperCanvas:function(){var a=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),r=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),v.util.addClass(n,"upper-canvas "+a),this.wrapperEl.appendChild(n),this._copyCanvasStyle(r,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=v.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),v.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),v.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(a){var r=this.width||a.width,n=this.height||a.height;v.util.setStyle(a,{position:"absolute",width:r+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),a.width=r,a.height=n,v.util.makeElementUnselectable(a)},_copyCanvasStyle:function(a,r){r.style.cssText=a.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var a=this._activeObject;return a?a.type==="activeSelection"&&a._objects?a._objects.slice(0):[a]:[]},_onObjectRemoved:function(a){a===this._activeObject&&(this.fire("before:selection:cleared",{target:a}),this._discardActiveObject(),this.fire("selection:cleared",{target:a}),a.fire("deselected")),a===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",a)},_fireSelectionEvents:function(a,r){var n=!1,u=this.getActiveObjects(),h=[],s=[];a.forEach(function(d){u.indexOf(d)===-1&&(n=!0,d.fire("deselected",{e:r,target:d}),s.push(d))}),u.forEach(function(d){a.indexOf(d)===-1&&(n=!0,d.fire("selected",{e:r,target:d}),h.push(d))}),a.length>0&&u.length>0?n&&this.fire("selection:updated",{e:r,selected:h,deselected:s}):u.length>0?this.fire("selection:created",{e:r,selected:h}):a.length>0&&this.fire("selection:cleared",{e:r,deselected:s})},setActiveObject:function(a,r){var n=this.getActiveObjects();return this._setActiveObject(a,r),this._fireSelectionEvents(n,r),this},_setActiveObject:function(a,r){return this._activeObject===a||!this._discardActiveObject(r,a)||a.onSelect({e:r})?!1:(this._activeObject=a,!0)},_discardActiveObject:function(a,r){var n=this._activeObject;if(n){if(n.onDeselect({e:a,object:r}))return!1;this._activeObject=null}return!0},discardActiveObject:function(a){var r=this.getActiveObjects(),n=this.getActiveObject();return r.length&&this.fire("before:selection:cleared",{target:n,e:a}),this._discardActiveObject(a),this._fireSelectionEvents(r,a),this},dispose:function(){var a=this.wrapperEl;return this.removeListeners(),a.removeChild(this.upperCanvasEl),a.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(r){v.util.cleanUpJsdomNode(this[r]),this[r]=void 0}).bind(this)),a.parentNode&&a.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,v.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(a){var r=this._activeObject;r&&r._renderControls(a)},_toObject:function(a,r,n){var u=this._realizeGroupTransformOnObject(a),h=this.callSuper("_toObject",a,r,n);return this._unwindGroupTransformOnObject(a,u),h},_realizeGroupTransformOnObject:function(a){if(a.group&&a.group.type==="activeSelection"&&this._activeObject===a.group){var r=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],n={};return r.forEach(function(u){n[u]=a[u]}),v.util.addTransformToObject(a,this._activeObject.calcOwnMatrix()),n}else return null},_unwindGroupTransformOnObject:function(a,r){r&&a.set(r)},_setSVGObject:function(a,r,n){var u=this._realizeGroupTransformOnObject(r);this.callSuper("_setSVGObject",a,r,n),this._unwindGroupTransformOnObject(r,u)},setViewportTransform:function(a){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),v.StaticCanvas.prototype.setViewportTransform.call(this,a)}});for(var f in v.StaticCanvas)f!=="prototype"&&(v.Canvas[f]=v.StaticCanvas[f])}(),function(){var m=v.util.addListener,l=v.util.removeListener,c=3,f=2,a=1,r={passive:!1};function n(u,h){return u.button&&u.button===h-1}v.util.object.extend(v.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(m,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(u,h){var s=this.upperCanvasEl,d=this._getEventPrefix();u(v.window,"resize",this._onResize),u(s,d+"down",this._onMouseDown),u(s,d+"move",this._onMouseMove,r),u(s,d+"out",this._onMouseOut),u(s,d+"enter",this._onMouseEnter),u(s,"wheel",this._onMouseWheel),u(s,"contextmenu",this._onContextMenu),u(s,"dblclick",this._onDoubleClick),u(s,"dragover",this._onDragOver),u(s,"dragenter",this._onDragEnter),u(s,"dragleave",this._onDragLeave),u(s,"drop",this._onDrop),this.enablePointerEvents||u(s,"touchstart",this._onTouchStart,r),typeof eventjs<"u"&&h in eventjs&&(eventjs[h](s,"gesture",this._onGesture),eventjs[h](s,"drag",this._onDrag),eventjs[h](s,"orientation",this._onOrientationChange),eventjs[h](s,"shake",this._onShake),eventjs[h](s,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(l,"remove");var u=this._getEventPrefix();l(v.document,u+"up",this._onMouseUp),l(v.document,"touchend",this._onTouchEnd,r),l(v.document,u+"move",this._onMouseMove,r),l(v.document,"touchmove",this._onMouseMove,r)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(u,h){this.__onTransformGesture&&this.__onTransformGesture(u,h)},_onDrag:function(u,h){this.__onDrag&&this.__onDrag(u,h)},_onMouseWheel:function(u){this.__onMouseWheel(u)},_onMouseOut:function(u){var h=this._hoveredTarget;this.fire("mouse:out",{target:h,e:u}),this._hoveredTarget=null,h&&h.fire("mouseout",{e:u});var s=this;this._hoveredTargets.forEach(function(d){s.fire("mouse:out",{target:h,e:u}),d&&h.fire("mouseout",{e:u})}),this._hoveredTargets=[]},_onMouseEnter:function(u){!this._currentTransform&&!this.findTarget(u)&&(this.fire("mouse:over",{target:null,e:u}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(u,h){this.__onOrientationChange&&this.__onOrientationChange(u,h)},_onShake:function(u,h){this.__onShake&&this.__onShake(u,h)},_onLongPress:function(u,h){this.__onLongPress&&this.__onLongPress(u,h)},_onDragOver:function(u){u.preventDefault();var h=this._simpleEventHandler("dragover",u);this._fireEnterLeaveEvents(h,u)},_onDrop:function(u){return this._simpleEventHandler("drop:before",u),this._simpleEventHandler("drop",u)},_onContextMenu:function(u){return this.stopContextMenu&&(u.stopPropagation(),u.preventDefault()),!1},_onDoubleClick:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"dblclick"),this._resetTransformEventData(u)},getPointerId:function(u){var h=u.changedTouches;return h?h[0]&&h[0].identifier:this.enablePointerEvents?u.pointerId:-1},_isMainEvent:function(u){return u.isPrimary===!0?!0:u.isPrimary===!1?!1:u.type==="touchend"&&u.touches.length===0?!0:u.changedTouches?u.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(u){u.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(u)),this.__onMouseDown(u),this._resetTransformEventData();var h=this.upperCanvasEl,s=this._getEventPrefix();m(v.document,"touchend",this._onTouchEnd,r),m(v.document,"touchmove",this._onMouseMove,r),l(h,s+"down",this._onMouseDown)},_onMouseDown:function(u){this.__onMouseDown(u),this._resetTransformEventData();var h=this.upperCanvasEl,s=this._getEventPrefix();l(h,s+"move",this._onMouseMove,r),m(v.document,s+"up",this._onMouseUp),m(v.document,s+"move",this._onMouseMove,r)},_onTouchEnd:function(u){if(!(u.touches.length>0)){this.__onMouseUp(u),this._resetTransformEventData(),this.mainTouchId=null;var h=this._getEventPrefix();l(v.document,"touchend",this._onTouchEnd,r),l(v.document,"touchmove",this._onMouseMove,r);var s=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){m(s.upperCanvasEl,h+"down",s._onMouseDown),s._willAddMouseDown=0},400)}},_onMouseUp:function(u){this.__onMouseUp(u),this._resetTransformEventData();var h=this.upperCanvasEl,s=this._getEventPrefix();this._isMainEvent(u)&&(l(v.document,s+"up",this._onMouseUp),l(v.document,s+"move",this._onMouseMove,r),m(h,s+"move",this._onMouseMove,r))},_onMouseMove:function(u){!this.allowTouchScrolling&&u.preventDefault&&u.preventDefault(),this.__onMouseMove(u)},_onResize:function(){this.calcOffset()},_shouldRender:function(u){var h=this._activeObject;return!!h!=!!u||h&&u&&h!==u?!0:(h&&h.isEditing,!1)},__onMouseUp:function(u){var h,s=this._currentTransform,d=this._groupSelector,p=!1,_=!d||d.left===0&&d.top===0;if(this._cacheTransformEventData(u),h=this._target,this._handleEvent(u,"up:before"),n(u,c)){this.fireRightClick&&this._handleEvent(u,"up",c,_);return}if(n(u,f)){this.fireMiddleClick&&this._handleEvent(u,"up",f,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(u);return}if(this._isMainEvent(u)){if(s&&(this._finalizeCurrentTransform(u),p=s.actionPerformed),!_){var S=h===this._activeObject;this._maybeGroupObjects(u),p||(p=this._shouldRender(h)||!S&&h===this._activeObject)}var b,w;if(h){if(b=h._findTargetCorner(this.getPointer(u,!0),v.util.isTouchEvent(u)),h.selectable&&h!==this._activeObject&&h.activeOn==="up")this.setActiveObject(h,u),p=!0;else{var L=h.controls[b],P=L&&L.getMouseUpHandler(u,h,L);P&&(w=this.getPointer(u),P(u,s,w.x,w.y))}h.isMoving=!1}if(s&&(s.target!==h||s.corner!==b)){var H=s.target&&s.target.controls[s.corner],K=H&&H.getMouseUpHandler(u,h,L);w=w||this.getPointer(u),K&&K(u,s,w.x,w.y)}this._setCursorFromEvent(u,h),this._handleEvent(u,"up",a,_),this._groupSelector=null,this._currentTransform=null,h&&(h.__corner=0),p?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(u,h){var s=this.findTarget(h),d=this.targets,p={e:h,target:s,subTargets:d};if(this.fire(u,p),s&&s.fire(u,p),!d)return s;for(var _=0;_<d.length;_++)d[_].fire(u,p);return s},_handleEvent:function(u,h,s,d){var p=this._target,_=this.targets||[],S={e:u,target:p,subTargets:_,button:s||a,isClick:d||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};h==="up"&&(S.currentTarget=this.findTarget(u),S.currentSubTargets=this.targets),this.fire("mouse:"+h,S),p&&p.fire("mouse"+h,S);for(var b=0;b<_.length;b++)_[b].fire("mouse"+h,S)},_finalizeCurrentTransform:function(u){var h=this._currentTransform,s=h.target,d={e:u,target:s,transform:h,action:h.action};s._scaling&&(s._scaling=!1),s.setCoords(),(h.actionPerformed||this.stateful&&s.hasStateChanged())&&this._fire("modified",d)},_onMouseDownInDrawingMode:function(u){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(u).requestRenderAll();var h=this.getPointer(u);this.freeDrawingBrush.onMouseDown(h,{e:u,pointer:h}),this._handleEvent(u,"down")},_onMouseMoveInDrawingMode:function(u){if(this._isCurrentlyDrawing){var h=this.getPointer(u);this.freeDrawingBrush.onMouseMove(h,{e:u,pointer:h})}this.setCursor(this.freeDrawingCursor),this._handleEvent(u,"move")},_onMouseUpInDrawingMode:function(u){var h=this.getPointer(u);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:u,pointer:h}),this._handleEvent(u,"up")},__onMouseDown:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"down:before");var h=this._target;if(n(u,c)){this.fireRightClick&&this._handleEvent(u,"down",c);return}if(n(u,f)){this.fireMiddleClick&&this._handleEvent(u,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(u);return}if(this._isMainEvent(u)&&!this._currentTransform){var s=this._pointer;this._previousPointer=s;var d=this._shouldRender(h),p=this._shouldGroup(u,h);if(this._shouldClearSelection(u,h)?this.discardActiveObject(u):p&&(this._handleGrouping(u,h),h=this._activeObject),this.selection&&(!h||!h.selectable&&!h.isEditing&&h!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),h){var _=h===this._activeObject;h.selectable&&h.activeOn==="down"&&this.setActiveObject(h,u);var S=h._findTargetCorner(this.getPointer(u,!0),v.util.isTouchEvent(u));if(h.__corner=S,h===this._activeObject&&(S||!p)){this._setupCurrentTransform(u,h,_);var b=h.controls[S],s=this.getPointer(u),w=b&&b.getMouseDownHandler(u,h,b);w&&w(u,this._currentTransform,s.x,s.y)}}this._handleEvent(u,"down"),(d||p)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(u){this._resetTransformEventData(),this._pointer=this.getPointer(u,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(u)||null},_beforeTransform:function(u){var h=this._currentTransform;this.stateful&&h.target.saveState(),this.fire("before:transform",{e:u,transform:h})},__onMouseMove:function(u){this._handleEvent(u,"move:before"),this._cacheTransformEventData(u);var h,s;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(u);return}if(this._isMainEvent(u)){var d=this._groupSelector;d?(s=this._absolutePointer,d.left=s.x-d.ex,d.top=s.y-d.ey,this.renderTop()):this._currentTransform?this._transformObject(u):(h=this.findTarget(u)||null,this._setCursorFromEvent(u,h),this._fireOverOutEvents(h,u)),this._handleEvent(u,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(u,h){var s=this._hoveredTarget,d=this._hoveredTargets,p=this.targets,_=Math.max(d.length,p.length);this.fireSyntheticInOutEvents(u,h,{oldTarget:s,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var S=0;S<_;S++)this.fireSyntheticInOutEvents(p[S],h,{oldTarget:d[S],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(u,h){var s=this._draggedoverTarget,d=this._hoveredTargets,p=this.targets,_=Math.max(d.length,p.length);this.fireSyntheticInOutEvents(u,h,{oldTarget:s,evtOut:"dragleave",evtIn:"dragenter"});for(var S=0;S<_;S++)this.fireSyntheticInOutEvents(p[S],h,{oldTarget:d[S],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=u},fireSyntheticInOutEvents:function(u,h,s){var d,p,_=s.oldTarget,S,b,w=_!==u,L=s.canvasEvtIn,P=s.canvasEvtOut;w&&(d={e:h,target:u,previousTarget:_},p={e:h,target:_,nextTarget:u}),b=u&&w,S=_&&w,S&&(P&&this.fire(P,p),_.fire(s.evtOut,p)),b&&(L&&this.fire(L,d),u.fire(s.evtIn,d))},__onMouseWheel:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"wheel"),this._resetTransformEventData()},_transformObject:function(u){var h=this.getPointer(u),s=this._currentTransform;s.reset=!1,s.shiftKey=u.shiftKey,s.altKey=u[this.centeredKey],this._performTransformAction(u,s,h),s.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(u,h,s){var d=s.x,p=s.y,_=h.action,S=!1,b=h.actionHandler;b&&(S=b(u,h,d,p)),_==="drag"&&S&&(h.target.isMoving=!0,this.setCursor(h.target.moveCursor||this.moveCursor)),h.actionPerformed=h.actionPerformed||S},_fire:v.controlsUtils.fireEvent,_setCursorFromEvent:function(u,h){if(!h)return this.setCursor(this.defaultCursor),!1;var s=h.hoverCursor||this.hoverCursor,d=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,p=(!d||!d.contains(h))&&h._findTargetCorner(this.getPointer(u,!0));p?this.setCursor(this.getCornerCursor(p,h,u)):(h.subTargetCheck&&this.targets.concat().reverse().map(function(_){s=_.hoverCursor||s}),this.setCursor(s))},getCornerCursor:function(u,h,s){var d=h.controls[u];return d.cursorStyleHandler(s,d,h)}})}(),function(){var m=Math.min,l=Math.max;v.util.object.extend(v.Canvas.prototype,{_shouldGroup:function(c,f){var a=this._activeObject;return a&&this._isSelectionKeyPressed(c)&&f&&f.selectable&&this.selection&&(a!==f||a.type==="activeSelection")&&!f.onSelect({e:c})},_handleGrouping:function(c,f){var a=this._activeObject;a.__corner||f===a&&(f=this.findTarget(c,!0),!f||!f.selectable)||(a&&a.type==="activeSelection"?this._updateActiveSelection(f,c):this._createActiveSelection(f,c))},_updateActiveSelection:function(c,f){var a=this._activeObject,r=a._objects.slice(0);a.contains(c)?(a.removeWithUpdate(c),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat(),a.size()===1&&this._setActiveObject(a.item(0),f)):(a.addWithUpdate(c),this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(r,f)},_createActiveSelection:function(c,f){var a=this.getActiveObjects(),r=this._createGroup(c);this._hoveredTarget=r,this._setActiveObject(r,f),this._fireSelectionEvents(a,f)},_createGroup:function(c){var f=this._objects,a=f.indexOf(this._activeObject)<f.indexOf(c),r=a?[this._activeObject,c]:[c,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new v.ActiveSelection(r,{canvas:this})},_groupSelectedObjects:function(c){var f=this._collectObjects(c),a;f.length===1?this.setActiveObject(f[0],c):f.length>1&&(a=new v.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(a,c))},_collectObjects:function(c){for(var f=[],a,r=this._groupSelector.ex,n=this._groupSelector.ey,u=r+this._groupSelector.left,h=n+this._groupSelector.top,s=new v.Point(m(r,u),m(n,h)),d=new v.Point(l(r,u),l(n,h)),p=!this.selectionFullyContained,_=r===u&&n===h,S=this._objects.length;S--&&(a=this._objects[S],!(!(!a||!a.selectable||!a.visible)&&(p&&a.intersectsWithRect(s,d,!0)||a.isContainedWithinRect(s,d,!0)||p&&a.containsPoint(s,null,!0)||p&&a.containsPoint(d,null,!0))&&(f.push(a),_))););return f.length>1&&(f=f.filter(function(b){return!b.onSelect({e:c})})),f},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){v.util.object.extend(v.StaticCanvas.prototype,{toDataURL:function(m){m||(m={});var l=m.format||"png",c=m.quality||1,f=(m.multiplier||1)*(m.enableRetinaScaling?this.getRetinaScaling():1),a=this.toCanvasElement(f,m);return v.util.toDataURL(a,l,c)},toCanvasElement:function(m,l){m=m||1,l=l||{};var c=(l.width||this.width)*m,f=(l.height||this.height)*m,a=this.getZoom(),r=this.width,n=this.height,u=a*m,h=this.viewportTransform,s=(h[4]-(l.left||0))*m,d=(h[5]-(l.top||0))*m,p=this.interactive,_=[u,0,0,u,s,d],S=this.enableRetinaScaling,b=v.util.createCanvasElement(),w=this.contextTop;return b.width=c,b.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=c,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(b.getContext("2d"),this._objects),this.viewportTransform=h,this.width=r,this.height=n,this.calcViewportBoundaries(),this.interactive=p,this.enableRetinaScaling=S,this.contextTop=w,b}})}(),v.util.object.extend(v.StaticCanvas.prototype,{loadFromJSON:function(m,l,c){if(m){var f=typeof m=="string"?JSON.parse(m):v.util.object.clone(m),a=this,r=f.clipPath,n=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(u){a.clear(),a._setBgOverlay(f,function(){r?a._enlivenObjects([r],function(h){a.clipPath=h[0],a.__setupCanvas.call(a,f,u,n,l)}):a.__setupCanvas.call(a,f,u,n,l)})},c),this}},__setupCanvas:function(m,l,c,f){var a=this;l.forEach(function(r,n){a.insertAt(r,n)}),this.renderOnAddRemove=c,delete m.objects,delete m.backgroundImage,delete m.overlayImage,delete m.background,delete m.overlay,this._setOptions(m),this.renderAll(),f&&f()},_setBgOverlay:function(m,l){var c={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!m.backgroundImage&&!m.overlayImage&&!m.background&&!m.overlay){l&&l();return}var f=function(){c.backgroundImage&&c.overlayImage&&c.backgroundColor&&c.overlayColor&&l&&l()};this.__setBgOverlay("backgroundImage",m.backgroundImage,c,f),this.__setBgOverlay("overlayImage",m.overlayImage,c,f),this.__setBgOverlay("backgroundColor",m.background,c,f),this.__setBgOverlay("overlayColor",m.overlay,c,f)},__setBgOverlay:function(m,l,c,f){var a=this;if(!l){c[m]=!0,f&&f();return}m==="backgroundImage"||m==="overlayImage"?v.util.enlivenObjects([l],function(r){a[m]=r[0],c[m]=!0,f&&f()}):this["set"+v.util.string.capitalize(m,!0)](l,function(){c[m]=!0,f&&f()})},_enlivenObjects:function(m,l,c){if(!m||m.length===0){l&&l([]);return}v.util.enlivenObjects(m,function(f){l&&l(f)},null,c)},_toDataURL:function(m,l){this.clone(function(c){l(c.toDataURL(m))})},_toDataURLWithMultiplier:function(m,l,c){this.clone(function(f){c(f.toDataURLWithMultiplier(m,l))})},clone:function(m,l){var c=JSON.stringify(this.toJSON(l));this.cloneWithoutData(function(f){f.loadFromJSON(c,function(){m&&m(f)})})},cloneWithoutData:function(m){var l=v.util.createCanvasElement();l.width=this.width,l.height=this.height;var c=new v.Canvas(l);this.backgroundImage?(c.setBackgroundImage(this.backgroundImage.src,function(){c.renderAll(),m&&m(c)}),c.backgroundImageOpacity=this.backgroundImageOpacity,c.backgroundImageStretch=this.backgroundImageStretch):m&&m(c)}}),function(m){var l=m.fabric||(m.fabric={}),c=l.util.object.extend,f=l.util.object.clone,a=l.util.toFixed,r=l.util.string.capitalize,n=l.util.degreesToRadians,u=!l.isLikelyNode,h=2;l.Object||(l.Object=l.util.createClass(l.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:u,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(s){s&&this.setOptions(s)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=l.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(s){var d=l.perfLimitSizeTotal,p=s.width,_=s.height,S=l.maxCacheSideLimit,b=l.minCacheSideLimit;if(p<=S&&_<=S&&p*_<=d)return p<b&&(s.width=b),_<b&&(s.height=b),s;var w=p/_,L=l.util.limitDimsByArea(w,d),P=l.util.capValue,H=P(b,L.x,S),K=P(b,L.y,S);return p>H&&(s.zoomX/=p/H,s.width=H,s.capped=!0),_>K&&(s.zoomY/=_/K,s.height=K,s.capped=!0),s},_getCacheCanvasDimensions:function(){var s=this.getTotalObjectScaling(),d=this._getTransformedDimensions(0,0),p=d.x*s.scaleX/this.scaleX,_=d.y*s.scaleY/this.scaleY;return{width:p+h,height:_+h,zoomX:s.scaleX,zoomY:s.scaleY,x:p,y:_}},_updateCacheCanvas:function(){var s=this.canvas;if(this.noScaleCache&&s&&s._currentTransform){var d=s._currentTransform.target,p=s._currentTransform.action;if(this===d&&p.slice&&p.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,S=this._limitCacheSize(this._getCacheCanvasDimensions()),b=l.minCacheSideLimit,w=S.width,L=S.height,P,H,K=S.zoomX,dt=S.zoomY,yt=w!==this.cacheWidth||L!==this.cacheHeight,St=this.zoomX!==K||this.zoomY!==dt,pt=yt||St,vt=0,tt=0,mt=!1;if(yt){var ft=this._cacheCanvas.width,O=this._cacheCanvas.height,x=w>ft||L>O,M=(w<ft*.9||L<O*.9)&&ft>b&&O>b;mt=x||M,x&&!S.capped&&(w>b||L>b)&&(vt=w*.1,tt=L*.1)}return this instanceof l.Text&&this.path&&(pt=!0,mt=!0,vt+=this.getHeightOfLine(0)*this.zoomX,tt+=this.getHeightOfLine(0)*this.zoomY),pt?(mt?(_.width=Math.ceil(w+vt),_.height=Math.ceil(L+tt)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),P=S.x/2,H=S.y/2,this.cacheTranslationX=Math.round(_.width/2-P)+P,this.cacheTranslationY=Math.round(_.height/2-H)+H,this.cacheWidth=w,this.cacheHeight=L,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(K,dt),this.zoomX=K,this.zoomY=dt,!0):!1},setOptions:function(s){this._setOptions(s),this._initGradient(s.fill,"fill"),this._initGradient(s.stroke,"stroke"),this._initPattern(s.fill,"fill"),this._initPattern(s.stroke,"stroke")},transform:function(s){var d=this.group&&!this.group._transformDone||this.group&&this.canvas&&s===this.canvas.contextTop,p=this.calcTransformMatrix(!d);s.transform(p[0],p[1],p[2],p[3],p[4],p[5])},toObject:function(s){var d=l.Object.NUM_FRACTION_DIGITS,p={type:this.type,version:l.version,originX:this.originX,originY:this.originY,left:a(this.left,d),top:a(this.top,d),width:a(this.width,d),height:a(this.height,d),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:a(this.strokeWidth,d),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:a(this.strokeMiterLimit,d),scaleX:a(this.scaleX,d),scaleY:a(this.scaleY,d),angle:a(this.angle,d),flipX:this.flipX,flipY:this.flipY,opacity:a(this.opacity,d),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:a(this.skewX,d),skewY:a(this.skewY,d)};return this.clipPath&&!this.clipPath.excludeFromExport&&(p.clipPath=this.clipPath.toObject(s),p.clipPath.inverted=this.clipPath.inverted,p.clipPath.absolutePositioned=this.clipPath.absolutePositioned),l.util.populateWithProperties(this,p,s),this.includeDefaultValues||(p=this._removeDefaultValues(p)),p},toDatalessObject:function(s){return this.toObject(s)},_removeDefaultValues:function(s){var d=l.util.getKlass(s.type).prototype,p=d.stateProperties;return p.forEach(function(_){_==="left"||_==="top"||(s[_]===d[_]&&delete s[_],Array.isArray(s[_])&&Array.isArray(d[_])&&s[_].length===0&&d[_].length===0&&delete s[_])}),s},toString:function(){return"#<fabric."+r(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var s=l.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(s.scaleX),scaleY:Math.abs(s.scaleY)}},getTotalObjectScaling:function(){var s=this.getObjectScaling(),d=s.scaleX,p=s.scaleY;if(this.canvas){var _=this.canvas.getZoom(),S=this.canvas.getRetinaScaling();d*=_*S,p*=_*S}return{scaleX:d,scaleY:p}},getObjectOpacity:function(){var s=this.opacity;return this.group&&(s*=this.group.getObjectOpacity()),s},_set:function(s,d){var p=s==="scaleX"||s==="scaleY",_=this[s]!==d,S=!1;return p&&(d=this._constrainScale(d)),s==="scaleX"&&d<0?(this.flipX=!this.flipX,d*=-1):s==="scaleY"&&d<0?(this.flipY=!this.flipY,d*=-1):s==="shadow"&&d&&!(d instanceof l.Shadow)?d=new l.Shadow(d):s==="dirty"&&this.group&&this.group.set("dirty",d),this[s]=d,_&&(S=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(s)>-1?(this.dirty=!0,S&&this.group.set("dirty",!0)):S&&this.stateProperties.indexOf(s)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:l.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(s){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(s.save(),this._setupCompositeOperation(s),this.drawSelectionBackground(s),this.transform(s),this._setOpacity(s),this._setShadow(s,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(s)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(s),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),s.restore())},renderCache:function(s){s=s||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,s.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(s,d){if(s.save(),d.inverted?s.globalCompositeOperation="destination-out":s.globalCompositeOperation="destination-in",d.absolutePositioned){var p=l.util.invertTransform(this.calcTransformMatrix());s.transform(p[0],p[1],p[2],p[3],p[4],p[5])}d.transform(s),s.scale(1/d.zoomX,1/d.zoomY),s.drawImage(d._cacheCanvas,-d.cacheTranslationX,-d.cacheTranslationY),s.restore()},drawObject:function(s,d){var p=this.fill,_=this.stroke;d?(this.fill="black",this.stroke="",this._setClippingProperties(s)):this._renderBackground(s),this._render(s),this._drawClipPath(s,this.clipPath),this.fill=p,this.stroke=_},_drawClipPath:function(s,d){d&&(d.canvas=this.canvas,d.shouldCache(),d._transformDone=!0,d.renderCache({forClipping:!0}),this.drawClipPathOnCache(s,d))},drawCacheOnCanvas:function(s){s.scale(1/this.zoomX,1/this.zoomY),s.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(s){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!s&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!s){var d=this.cacheWidth/this.zoomX,p=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-d/2,-p/2,d,p)}return!0}return!1},_renderBackground:function(s){if(this.backgroundColor){var d=this._getNonTransformedDimensions();s.fillStyle=this.backgroundColor,s.fillRect(-d.x/2,-d.y/2,d.x,d.y),this._removeShadow(s)}},_setOpacity:function(s){this.group&&!this.group._transformDone?s.globalAlpha=this.getObjectOpacity():s.globalAlpha*=this.opacity},_setStrokeStyles:function(s,d){var p=d.stroke;p&&(s.lineWidth=d.strokeWidth,s.lineCap=d.strokeLineCap,s.lineDashOffset=d.strokeDashOffset,s.lineJoin=d.strokeLineJoin,s.miterLimit=d.strokeMiterLimit,p.toLive?p.gradientUnits==="percentage"||p.gradientTransform||p.patternTransform?this._applyPatternForTransformedGradient(s,p):(s.strokeStyle=p.toLive(s,this),this._applyPatternGradientTransform(s,p)):s.strokeStyle=d.stroke)},_setFillStyles:function(s,d){var p=d.fill;p&&(p.toLive?(s.fillStyle=p.toLive(s,this),this._applyPatternGradientTransform(s,d.fill)):s.fillStyle=p)},_setClippingProperties:function(s){s.globalAlpha=1,s.strokeStyle="transparent",s.fillStyle="#000000"},_setLineDash:function(s,d){!d||d.length===0||(1&d.length&&d.push.apply(d,d),s.setLineDash(d))},_renderControls:function(s,d){var p=this.getViewportTransform(),_=this.calcTransformMatrix(),S,b,w;d=d||{},b=typeof d.hasBorders<"u"?d.hasBorders:this.hasBorders,w=typeof d.hasControls<"u"?d.hasControls:this.hasControls,_=l.util.multiplyTransformMatrices(p,_),S=l.util.qrDecompose(_),s.save(),s.translate(S.translateX,S.translateY),s.lineWidth=1*this.borderScaleFactor,this.group||(s.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(S.angle-=180),s.rotate(n(this.group?S.angle:this.angle)),d.forActiveSelection||this.group?b&&this.drawBordersInGroup(s,S,d):b&&this.drawBorders(s,d),w&&this.drawControls(s,d),s.restore()},_setShadow:function(s){if(this.shadow){var d=this.shadow,p=this.canvas,_,S=p&&p.viewportTransform[0]||1,b=p&&p.viewportTransform[3]||1;d.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),p&&p._isRetinaScaling()&&(S*=l.devicePixelRatio,b*=l.devicePixelRatio),s.shadowColor=d.color,s.shadowBlur=d.blur*l.browserShadowBlurConstant*(S+b)*(_.scaleX+_.scaleY)/4,s.shadowOffsetX=d.offsetX*S*_.scaleX,s.shadowOffsetY=d.offsetY*b*_.scaleY}},_removeShadow:function(s){this.shadow&&(s.shadowColor="",s.shadowBlur=s.shadowOffsetX=s.shadowOffsetY=0)},_applyPatternGradientTransform:function(s,d){if(!d||!d.toLive)return{offsetX:0,offsetY:0};var p=d.gradientTransform||d.patternTransform,_=-this.width/2+d.offsetX||0,S=-this.height/2+d.offsetY||0;return d.gradientUnits==="percentage"?s.transform(this.width,0,0,this.height,_,S):s.transform(1,0,0,1,_,S),p&&s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),{offsetX:_,offsetY:S}},_renderPaintInOrder:function(s){this.paintFirst==="stroke"?(this._renderStroke(s),this._renderFill(s)):(this._renderFill(s),this._renderStroke(s))},_render:function(){},_renderFill:function(s){this.fill&&(s.save(),this._setFillStyles(s,this),this.fillRule==="evenodd"?s.fill("evenodd"):s.fill(),s.restore())},_renderStroke:function(s){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(s),s.save(),this.strokeUniform&&this.group){var d=this.getObjectScaling();s.scale(1/d.scaleX,1/d.scaleY)}else this.strokeUniform&&s.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(s,this.strokeDashArray),this._setStrokeStyles(s,this),s.stroke(),s.restore()}},_applyPatternForTransformedGradient:function(s,d){var p=this._limitCacheSize(this._getCacheCanvasDimensions()),_=l.util.createCanvasElement(),S,b=this.canvas.getRetinaScaling(),w=p.x/this.scaleX/b,L=p.y/this.scaleY/b;_.width=w,_.height=L,S=_.getContext("2d"),S.beginPath(),S.moveTo(0,0),S.lineTo(w,0),S.lineTo(w,L),S.lineTo(0,L),S.closePath(),S.translate(w/2,L/2),S.scale(p.zoomX/this.scaleX/b,p.zoomY/this.scaleY/b),this._applyPatternGradientTransform(S,d),S.fillStyle=d.toLive(s),S.fill(),s.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),s.scale(b*this.scaleX/p.zoomX,b*this.scaleY/p.zoomY),s.strokeStyle=S.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var s=l.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",s.scaleX),this.set("scaleY",s.scaleY),this.angle=s.angle,this.skewX=s.skewX,this.skewY=0}},_removeTransformMatrix:function(s){var d=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),d=l.util.transformPoint(d,this.transformMatrix)),this.transformMatrix=null,s&&(this.scaleX*=s.scaleX,this.scaleY*=s.scaleY,this.cropX=s.cropX,this.cropY=s.cropY,d.x+=s.offsetLeft,d.y+=s.offsetTop,this.width=s.width,this.height=s.height),this.setPositionByOrigin(d,"center","center")},clone:function(s,d){var p=this.toObject(d);this.constructor.fromObject?this.constructor.fromObject(p,s):l.Object._fromObject("Object",p,s)},cloneAsImage:function(s,d){var p=this.toCanvasElement(d);return s&&s(new l.Image(p)),this},toCanvasElement:function(s){s||(s={});var d=l.util,p=d.saveObjectTransform(this),_=this.group,S=this.shadow,b=Math.abs,w=(s.multiplier||1)*(s.enableRetinaScaling?l.devicePixelRatio:1);delete this.group,s.withoutTransform&&d.resetObjectTransform(this),s.withoutShadow&&(this.shadow=null);var L=l.util.createCanvasElement(),P=this.getBoundingRect(!0,!0),H=this.shadow,K,dt={x:0,y:0},yt,St,pt;H&&(yt=H.blur,H.nonScaling?K={scaleX:1,scaleY:1}:K=this.getObjectScaling(),dt.x=2*Math.round(b(H.offsetX)+yt)*b(K.scaleX),dt.y=2*Math.round(b(H.offsetY)+yt)*b(K.scaleY)),St=P.width+dt.x,pt=P.height+dt.y,L.width=Math.ceil(St),L.height=Math.ceil(pt);var vt=new l.StaticCanvas(L,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});s.format==="jpeg"&&(vt.backgroundColor="#fff"),this.setPositionByOrigin(new l.Point(vt.width/2,vt.height/2),"center","center");var tt=this.canvas;vt.add(this);var mt=vt.toCanvasElement(w||1,s);return this.shadow=S,this.set("canvas",tt),_&&(this.group=_),this.set(p).setCoords(),vt._objects=[],vt.dispose(),vt=null,mt},toDataURL:function(s){return s||(s={}),l.util.toDataURL(this.toCanvasElement(s),s.format||"png",s.quality||1)},isType:function(s){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===s},complexity:function(){return 1},toJSON:function(s){return this.toObject(s)},rotate:function(s){var d=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return d&&this._setOriginToCenter(),this.set("angle",s),d&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(s,d){d=d||this.canvas.getPointer(s);var p=new l.Point(d.x,d.y),_=this._getLeftTopCoords();return this.angle&&(p=l.util.rotatePoint(p,_,n(-this.angle))),{x:p.x-_.x,y:p.y-_.y}},_setupCompositeOperation:function(s){this.globalCompositeOperation&&(s.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){l.runningAnimations&&l.runningAnimations.cancelByTarget(this)}}),l.util.createAccessors&&l.util.createAccessors(l.Object),c(l.Object.prototype,l.Observable),l.Object.NUM_FRACTION_DIGITS=2,l.Object.ENLIVEN_PROPS=["clipPath"],l.Object._fromObject=function(s,d,p,_){var S=l[s];d=f(d,!0),l.util.enlivenPatterns([d.fill,d.stroke],function(b){typeof b[0]<"u"&&(d.fill=b[0]),typeof b[1]<"u"&&(d.stroke=b[1]),l.util.enlivenObjectEnlivables(d,d,function(){var w=_?new S(d[_],d):new S(d);p&&p(w)})})},l.Object.__uid=0)}(C),function(){var m=v.util.degreesToRadians,l={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};v.util.object.extend(v.Object.prototype,{translateToGivenOrigin:function(f,a,r,n,u){var h=f.x,s=f.y,d,p,_;return typeof a=="string"?a=l[a]:a-=.5,typeof n=="string"?n=l[n]:n-=.5,d=n-a,typeof r=="string"?r=c[r]:r-=.5,typeof u=="string"?u=c[u]:u-=.5,p=u-r,(d||p)&&(_=this._getTransformedDimensions(),h=f.x+d*_.x,s=f.y+p*_.y),new v.Point(h,s)},translateToCenterPoint:function(f,a,r){var n=this.translateToGivenOrigin(f,a,r,"center","center");return this.angle?v.util.rotatePoint(n,f,m(this.angle)):n},translateToOriginPoint:function(f,a,r){var n=this.translateToGivenOrigin(f,"center","center",a,r);return this.angle?v.util.rotatePoint(n,f,m(this.angle)):n},getCenterPoint:function(){var f=new v.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,a){var r=this.getCenterPoint();return this.translateToOriginPoint(r,f,a)},toLocalPoint:function(f,a,r){var n=this.getCenterPoint(),u,h;return typeof a<"u"&&typeof r<"u"?u=this.translateToGivenOrigin(n,"center","center",a,r):u=new v.Point(this.left,this.top),h=new v.Point(f.x,f.y),this.angle&&(h=v.util.rotatePoint(h,n,-m(this.angle))),h.subtractEquals(u)},setPositionByOrigin:function(f,a,r){var n=this.translateToCenterPoint(f,a,r),u=this.translateToOriginPoint(n,this.originX,this.originY);this.set("left",u.x),this.set("top",u.y)},adjustPosition:function(f){var a=m(this.angle),r=this.getScaledWidth(),n=v.util.cos(a)*r,u=v.util.sin(a)*r,h,s;typeof this.originX=="string"?h=l[this.originX]:h=this.originX-.5,typeof f=="string"?s=l[f]:s=f-.5,this.left+=n*(s-h),this.top+=u*(s-h),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function m(r){return[new v.Point(r.tl.x,r.tl.y),new v.Point(r.tr.x,r.tr.y),new v.Point(r.br.x,r.br.y),new v.Point(r.bl.x,r.bl.y)]}var l=v.util,c=l.degreesToRadians,f=l.multiplyTransformMatrices,a=l.transformPoint;l.object.extend(v.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(r,n){return n?r?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),r?this.aCoords:this.lineCoords)},getCoords:function(r,n){return m(this._getCoords(r,n))},intersectsWithRect:function(r,n,u,h){var s=this.getCoords(u,h),d=v.Intersection.intersectPolygonRectangle(s,r,n);return d.status==="Intersection"},intersectsWithObject:function(r,n,u){var h=v.Intersection.intersectPolygonPolygon(this.getCoords(n,u),r.getCoords(n,u));return h.status==="Intersection"||r.isContainedWithinObject(this,n,u)||this.isContainedWithinObject(r,n,u)},isContainedWithinObject:function(r,n,u){for(var h=this.getCoords(n,u),s=n?r.aCoords:r.lineCoords,d=0,p=r._getImageLines(s);d<4;d++)if(!r.containsPoint(h[d],p))return!1;return!0},isContainedWithinRect:function(r,n,u,h){var s=this.getBoundingRect(u,h);return s.left>=r.x&&s.left+s.width<=n.x&&s.top>=r.y&&s.top+s.height<=n.y},containsPoint:function(r,d,u,h){var s=this._getCoords(u,h),d=d||this._getImageLines(s),p=this._findCrossPoints(r,d);return p!==0&&p%2===1},isOnScreen:function(r){if(!this.canvas)return!1;var n=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br,h=this.getCoords(!0,r);return h.some(function(s){return s.x<=u.x&&s.x>=n.x&&s.y<=u.y&&s.y>=n.y})||this.intersectsWithRect(n,u,!0,r)?!0:this._containsCenterOfCanvas(n,u,r)},_containsCenterOfCanvas:function(r,n,u){var h={x:(r.x+n.x)/2,y:(r.y+n.y)/2};return!!this.containsPoint(h,null,!0,u)},isPartiallyOnScreen:function(r){if(!this.canvas)return!1;var n=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br;if(this.intersectsWithRect(n,u,!0,r))return!0;var h=this.getCoords(!0,r).every(function(s){return(s.x>=u.x||s.x<=n.x)&&(s.y>=u.y||s.y<=n.y)});return h&&this._containsCenterOfCanvas(n,u,r)},_getImageLines:function(r){var n={topline:{o:r.tl,d:r.tr},rightline:{o:r.tr,d:r.br},bottomline:{o:r.br,d:r.bl},leftline:{o:r.bl,d:r.tl}};return n},_findCrossPoints:function(r,n){var u,h,s,d,p,_=0,S;for(var b in n)if(S=n[b],!(S.o.y<r.y&&S.d.y<r.y)&&!(S.o.y>=r.y&&S.d.y>=r.y)&&(S.o.x===S.d.x&&S.o.x>=r.x?p=S.o.x:(u=0,h=(S.d.y-S.o.y)/(S.d.x-S.o.x),s=r.y-u*r.x,d=S.o.y-h*S.o.x,p=-(s-d)/(u-h)),p>=r.x&&(_+=1),_===2))break;return _},getBoundingRect:function(r,n){var u=this.getCoords(r,n);return l.makeBoundingBoxFromPoints(u)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(r){return Math.abs(r)<this.minScaleLimit?r<0?-this.minScaleLimit:this.minScaleLimit:r===0?1e-4:r},scale:function(r){return this._set("scaleX",r),this._set("scaleY",r),this.setCoords()},scaleToWidth:function(r,n){var u=this.getBoundingRect(n).width/this.getScaledWidth();return this.scale(r/this.width/u)},scaleToHeight:function(r,n){var u=this.getBoundingRect(n).height/this.getScaledHeight();return this.scale(r/this.height/u)},calcLineCoords:function(){var r=this.getViewportTransform(),n=this.padding,u=c(this.angle),h=l.cos(u),s=l.sin(u),d=h*n,p=s*n,_=d+p,S=d-p,b=this.calcACoords(),w={tl:a(b.tl,r),tr:a(b.tr,r),bl:a(b.bl,r),br:a(b.br,r)};return n&&(w.tl.x-=S,w.tl.y-=_,w.tr.x+=_,w.tr.y-=S,w.bl.x-=_,w.bl.y+=S,w.br.x+=S,w.br.y+=_),w},calcOCoords:function(){var r=this._calcRotateMatrix(),n=this._calcTranslateMatrix(),u=this.getViewportTransform(),h=f(u,n),s=f(h,r),s=f(s,[1/u[0],0,0,1/u[3],0,0]),d=this._calculateCurrentDimensions(),p={};return this.forEachControl(function(_,S,b){p[S]=_.positionHandler(d,s,b)}),p},calcACoords:function(){var r=this._calcRotateMatrix(),n=this._calcTranslateMatrix(),u=f(n,r),h=this._getTransformedDimensions(),s=h.x/2,d=h.y/2;return{tl:a({x:-s,y:-d},u),tr:a({x:s,y:-d},u),bl:a({x:-s,y:d},u),br:a({x:s,y:d},u)}},setCoords:function(r){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),r?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return l.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var r=this.getCenterPoint();return[1,0,0,1,r.x,r.y]},transformMatrixKey:function(r){var n="_",u="";return!r&&this.group&&(u=this.group.transformMatrixKey(r)+n),u+this.top+n+this.left+n+this.scaleX+n+this.scaleY+n+this.skewX+n+this.skewY+n+this.angle+n+this.originX+n+this.originY+n+this.width+n+this.height+n+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(r){var n=this.calcOwnMatrix();if(r||!this.group)return n;var u=this.transformMatrixKey(r),h=this.matrixCache||(this.matrixCache={});return h.key===u?h.value:(this.group&&(n=f(this.group.calcTransformMatrix(!1),n)),h.key=u,h.value=n,n)},calcOwnMatrix:function(){var r=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===r)return n.value;var u=this._calcTranslateMatrix(),h={angle:this.angle,translateX:u[4],translateY:u[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return n.key=r,n.value=l.composeMatrix(h),n.value},_getNonTransformedDimensions:function(){var r=this.strokeWidth,n=this.width+r,u=this.height+r;return{x:n,y:u}},_getTransformedDimensions:function(r,n){typeof r>"u"&&(r=this.skewX),typeof n>"u"&&(n=this.skewY);var u,h,s,d=r===0&&n===0;if(this.strokeUniform?(h=this.width,s=this.height):(u=this._getNonTransformedDimensions(),h=u.x,s=u.y),d)return this._finalizeDimensions(h*this.scaleX,s*this.scaleY);var p=l.sizeAfterTransform(h,s,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:r,skewY:n});return this._finalizeDimensions(p.x,p.y)},_finalizeDimensions:function(r,n){return this.strokeUniform?{x:r+this.strokeWidth,y:n+this.strokeWidth}:{x:r,y:n}},_calculateCurrentDimensions:function(){var r=this.getViewportTransform(),n=this._getTransformedDimensions(),u=a(n,r,!0);return u.scalarAdd(2*this.padding)}})}(),v.util.object.extend(v.Object.prototype,{sendToBack:function(){return this.group?v.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?v.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(m){return this.group?v.StaticCanvas.prototype.sendBackwards.call(this.group,this,m):this.canvas&&this.canvas.sendBackwards(this,m),this},bringForward:function(m){return this.group?v.StaticCanvas.prototype.bringForward.call(this.group,this,m):this.canvas&&this.canvas.bringForward(this,m),this},moveTo:function(m){return this.group&&this.group.type!=="activeSelection"?v.StaticCanvas.prototype.moveTo.call(this.group,this,m):this.canvas&&this.canvas.moveTo(this,m),this}}),function(){function m(c,f){if(f){if(f.toLive)return c+": url(#SVGID_"+f.id+"); ";var a=new v.Color(f),r=c+": "+a.toRgb()+"; ",n=a.getAlpha();return n!==1&&(r+=c+"-opacity: "+n.toString()+"; "),r}else return c+": none; "}var l=v.util.toFixed;v.util.object.extend(v.Object.prototype,{getSvgStyles:function(c){var f=this.fillRule?this.fillRule:"nonzero",a=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",n=this.strokeDashOffset?this.strokeDashOffset:"0",u=this.strokeLineCap?this.strokeLineCap:"butt",h=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",d=typeof this.opacity<"u"?this.opacity:"1",p=this.visible?"":" visibility: hidden;",_=c?"":this.getSvgFilter(),S=m("fill",this.fill),b=m("stroke",this.stroke);return[b,"stroke-width: ",a,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",u,"; ","stroke-dashoffset: ",n,"; ","stroke-linejoin: ",h,"; ","stroke-miterlimit: ",s,"; ",S,"fill-rule: ",f,"; ","opacity: ",d,";",_,p].join("")},getSvgSpanStyles:function(c,f){var a="; ",n=c.fontFamily?"font-family: "+(c.fontFamily.indexOf("'")===-1&&c.fontFamily.indexOf('"')===-1?"'"+c.fontFamily+"'":c.fontFamily)+a:"",r=c.strokeWidth?"stroke-width: "+c.strokeWidth+a:"",n=n,u=c.fontSize?"font-size: "+c.fontSize+"px"+a:"",h=c.fontStyle?"font-style: "+c.fontStyle+a:"",s=c.fontWeight?"font-weight: "+c.fontWeight+a:"",d=c.fill?m("fill",c.fill):"",p=c.stroke?m("stroke",c.stroke):"",_=this.getSvgTextDecoration(c),S=c.deltaY?"baseline-shift: "+-c.deltaY+"; ":"";return _&&(_="text-decoration: "+_+a),[p,r,n,u,h,s,_,d,S,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(c){return["overline","underline","line-through"].filter(function(f){return c[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(c,f){var a=c?this.calcTransformMatrix():this.calcOwnMatrix(),r='transform="'+v.util.matrixToSVG(a);return r+(f||"")+'" '},_setSVGBg:function(c){if(this.backgroundColor){var f=v.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',l(-this.width/2,f),'" y="',l(-this.height/2,f),'" width="',l(this.width,f),'" height="',l(this.height,f),`"></rect>
`)}},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(c),{reviver:c})},toClipPathSVG:function(c){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(c),{reviver:c})},_createBaseClipPathSVGMarkup:function(c,f){f=f||{};var a=f.reviver,r=f.additionalTransform||"",n=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),u=c.indexOf("COMMON_PARTS");return c[u]=n,a?a(c.join("")):c.join("")},_createBaseSVGMarkup:function(c,f){f=f||{};var a=f.noStyle,r=f.reviver,n=a?"":'style="'+this.getSvgStyles()+'" ',u=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",h=this.clipPath,s=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=h&&h.absolutePositioned,p=this.stroke,_=this.fill,S=this.shadow,b,w=[],L,P=c.indexOf("COMMON_PARTS"),H=f.additionalTransform;return h&&(h.clipPathId="CLIPPATH_"+v.Object.__uid++,L='<clipPath id="'+h.clipPathId+`" >
`+h.toClipPathSVG(r)+`</clipPath>
`),d&&w.push("<g ",u,this.getSvgCommons(),` >
`),w.push("<g ",this.getSvgTransform(!1),d?"":u+this.getSvgCommons(),` >
`),b=[n,s,a?"":this.addPaintOrder()," ",H?'transform="'+H+'" ':""].join(""),c[P]=b,_&&_.toLive&&w.push(_.toSVG(this)),p&&p.toLive&&w.push(p.toSVG(this)),S&&w.push(S.toSVG(this)),h&&w.push(L),w.push(c.join("")),w.push(`</g>
`),d&&w.push(`</g>
`),r?r(w.join("")):w.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var m=v.util.object.extend,l="stateProperties";function c(a,r,n){var u={},h=!0;n.forEach(function(s){u[s]=a[s]}),m(a[r],u,h)}function f(a,r,n){if(a===r)return!0;if(Array.isArray(a)){if(!Array.isArray(r)||a.length!==r.length)return!1;for(var u=0,h=a.length;u<h;u++)if(!f(a[u],r[u]))return!1;return!0}else if(a&&typeof a=="object"){var s=Object.keys(a),d;if(!r||typeof r!="object"||!n&&s.length!==Object.keys(r).length)return!1;for(var u=0,h=s.length;u<h;u++)if(d=s[u],!(d==="canvas"||d==="group")&&!f(a[d],r[d]))return!1;return!0}}v.util.object.extend(v.Object.prototype,{hasStateChanged:function(a){a=a||l;var r="_"+a;return Object.keys(this[r]).length<this[a].length?!0:!f(this[r],this,!0)},saveState:function(a){var r=a&&a.propertySet||l,n="_"+r;return this[n]?(c(this,n,this[r]),a&&a.stateProperties&&c(this,n,a.stateProperties),this):this.setupState(a)},setupState:function(a){a=a||{};var r=a.propertySet||l;return a.propertySet=r,this["_"+r]={},this.saveState(a),this}})}(),function(){var m=v.util.degreesToRadians;v.util.object.extend(v.Object.prototype,{_findTargetCorner:function(l,c){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=l.x,a=l.y,r,n,u=Object.keys(this.oCoords),h=u.length-1,s;for(this.__corner=0;h>=0;h--)if(s=u[h],!!this.isControlVisible(s)&&(n=this._getImageLines(c?this.oCoords[s].touchCorner:this.oCoords[s].corner),r=this._findCrossPoints({x:f,y:a},n),r!==0&&r%2===1))return this.__corner=s,s;return!1},forEachControl:function(l){for(var c in this.controls)l(this.controls[c],c,this)},_setCornerCoords:function(){var l=this.oCoords;for(var c in l){var f=this.controls[c];l[c].corner=f.calcCornerCoords(this.angle,this.cornerSize,l[c].x,l[c].y,!1),l[c].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,l[c].x,l[c].y,!0)}},drawSelectionBackground:function(l){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;l.save();var c=this.getCenterPoint(),f=this._calculateCurrentDimensions(),a=this.canvas.viewportTransform;return l.translate(c.x,c.y),l.scale(1/a[0],1/a[3]),l.rotate(m(this.angle)),l.fillStyle=this.selectionBackgroundColor,l.fillRect(-f.x/2,-f.y/2,f.x,f.y),l.restore(),this},drawBorders:function(l,c){c=c||{};var f=this._calculateCurrentDimensions(),a=this.borderScaleFactor,r=f.x+a,n=f.y+a,u=typeof c.hasControls<"u"?c.hasControls:this.hasControls,h=!1;return l.save(),l.strokeStyle=c.borderColor||this.borderColor,this._setLineDash(l,c.borderDashArray||this.borderDashArray),l.strokeRect(-r/2,-n/2,r,n),u&&(l.beginPath(),this.forEachControl(function(s,d,p){s.withConnection&&s.getVisibility(p,d)&&(h=!0,l.moveTo(s.x*r,s.y*n),l.lineTo(s.x*r+s.offsetX,s.y*n+s.offsetY))}),h&&l.stroke()),l.restore(),this},drawBordersInGroup:function(l,c,f){f=f||{};var a=v.util.sizeAfterTransform(this.width,this.height,c),r=this.strokeWidth,n=this.strokeUniform,u=this.borderScaleFactor,h=a.x+r*(n?this.canvas.getZoom():c.scaleX)+u,s=a.y+r*(n?this.canvas.getZoom():c.scaleY)+u;return l.save(),this._setLineDash(l,f.borderDashArray||this.borderDashArray),l.strokeStyle=f.borderColor||this.borderColor,l.strokeRect(-h/2,-s/2,h,s),l.restore(),this},drawControls:function(l,c){c=c||{},l.save();var f=this.canvas.getRetinaScaling(),a,r;return l.setTransform(f,0,0,f,0,0),l.strokeStyle=l.fillStyle=c.cornerColor||this.cornerColor,this.transparentCorners||(l.strokeStyle=c.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(l,c.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(a=this.group.calcTransformMatrix()),this.forEachControl(function(n,u,h){r=h.oCoords[u],n.getVisibility(h,u)&&(a&&(r=v.util.transformPoint(r,a)),n.render(l,r.x,r.y,c,h))}),l.restore(),this},isControlVisible:function(l){return this.controls[l]&&this.controls[l].getVisibility(this,l)},setControlVisible:function(l,c){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[l]=c,this},setControlsVisibility:function(l){l||(l={});for(var c in l)this.setControlVisible(c,l[c]);return this},onDeselect:function(){},onSelect:function(){}})}(),v.util.object.extend(v.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(m,l){l=l||{};var c=function(){},f=l.onComplete||c,a=l.onChange||c,r=this;return v.util.animate({target:this,startValue:m.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(n){m.set("left",n),r.requestRenderAll(),a()},onComplete:function(){m.setCoords(),f()}})},fxCenterObjectV:function(m,l){l=l||{};var c=function(){},f=l.onComplete||c,a=l.onChange||c,r=this;return v.util.animate({target:this,startValue:m.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(n){m.set("top",n),r.requestRenderAll(),a()},onComplete:function(){m.setCoords(),f()}})},fxRemove:function(m,l){l=l||{};var c=function(){},f=l.onComplete||c,a=l.onChange||c,r=this;return v.util.animate({target:this,startValue:m.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(n){m.set("opacity",n),r.requestRenderAll(),a()},onComplete:function(){r.remove(m),f()}})}}),v.util.object.extend(v.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var m=[],l,c,f=[];for(l in arguments[0])m.push(l);for(var a=0,r=m.length;a<r;a++)l=m[a],c=a!==r-1,f.push(this._animate(l,arguments[0][l],arguments[1],c));return f}else return this._animate.apply(this,arguments)},_animate:function(m,l,c,f){var a=this,r;l=l.toString(),c?c=v.util.object.clone(c):c={},~m.indexOf(".")&&(r=m.split("."));var n=a.colorProperties.indexOf(m)>-1||r&&a.colorProperties.indexOf(r[1])>-1,u=r?this.get(r[0])[r[1]]:this.get(m);"from"in c||(c.from=u),n||(~l.indexOf("=")?l=u+parseFloat(l.replace("=","")):l=parseFloat(l));var h={target:this,startValue:c.from,endValue:l,byValue:c.by,easing:c.easing,duration:c.duration,abort:c.abort&&function(s,d,p){return c.abort.call(a,s,d,p)},onChange:function(s,d,p){r?a[r[0]][r[1]]=s:a.set(m,s),!f&&c.onChange&&c.onChange(s,d,p)},onComplete:function(s,d,p){f||(a.setCoords(),c.onComplete&&c.onComplete(s,d,p))}};return n?v.util.animateColor(h.startValue,h.endValue,h.duration,h):v.util.animate(h)}}),function(m){var l=m.fabric||(m.fabric={}),c=l.util.object.extend,f=l.util.object.clone,a={x1:1,x2:1,y1:1,y2:1};if(l.Line){l.warn("fabric.Line is already defined");return}l.Line=l.util.createClass(l.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:l.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(n,u){n||(n=[0,0,0,0]),this.callSuper("initialize",u),this.set("x1",n[0]),this.set("y1",n[1]),this.set("x2",n[2]),this.set("y2",n[3]),this._setWidthHeight(u)},_setWidthHeight:function(n){n||(n={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in n?n.left:this._getLeftToOriginX(),this.top="top"in n?n.top:this._getTopToOriginY()},_set:function(n,u){return this.callSuper("_set",n,u),typeof a[n]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:r({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:r({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(n){n.beginPath();var u=this.calcLinePoints();n.moveTo(u.x1,u.y1),n.lineTo(u.x2,u.y2),n.lineWidth=this.strokeWidth;var h=n.strokeStyle;n.strokeStyle=this.stroke||n.fillStyle,this.stroke&&this._renderStroke(n),n.strokeStyle=h},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(n){return c(this.callSuper("toObject",n),this.calcLinePoints())},_getNonTransformedDimensions:function(){var n=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(n.y-=this.strokeWidth),this.height===0&&(n.x-=this.strokeWidth)),n},calcLinePoints:function(){var n=this.x1<=this.x2?-1:1,u=this.y1<=this.y2?-1:1,h=n*this.width*.5,s=u*this.height*.5,d=n*this.width*-.5,p=u*this.height*-.5;return{x1:h,x2:d,y1:s,y2:p}},_toSVG:function(){var n=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,`" />
`]}}),l.Line.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),l.Line.fromElement=function(n,u,h){h=h||{};var s=l.parseAttributes(n,l.Line.ATTRIBUTE_NAMES),d=[s.x1||0,s.y1||0,s.x2||0,s.y2||0];u(new l.Line(d,c(s,h)))},l.Line.fromObject=function(n,u){function h(d){delete d.points,u&&u(d)}var s=f(n,!0);s.points=[n.x1,n.y1,n.x2,n.y2],l.Object._fromObject("Line",s,h,"points")};function r(n,u){var h=n.origin,s=n.axis1,d=n.axis2,p=n.dimension,_=u.nearest,S=u.center,b=u.farthest;return function(){switch(this.get(h)){case _:return Math.min(this.get(s),this.get(d));case S:return Math.min(this.get(s),this.get(d))+.5*this.get(p);case b:return Math.max(this.get(s),this.get(d))}}}}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.util.degreesToRadians;if(l.Circle){l.warn("fabric.Circle is already defined.");return}l.Circle=l.util.createClass(l.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:l.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(a,r){return this.callSuper("_set",a,r),a==="radius"&&this.setRadius(r),this},toObject:function(a){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(a))},_toSVG:function(){var a,r=0,n=0,u=(this.endAngle-this.startAngle)%360;if(u===0)a=["<circle ","COMMON_PARTS",'cx="'+r+'" cy="'+n+'" ','r="',this.radius,`" />
`];else{var h=c(this.startAngle),s=c(this.endAngle),d=this.radius,p=l.util.cos(h)*d,_=l.util.sin(h)*d,S=l.util.cos(s)*d,b=l.util.sin(s)*d,w=u>180?"1":"0";a=['<path d="M '+p+" "+_," A "+d+" "+d," 0 ",+w+" 1"," "+S+" "+b,'" ',"COMMON_PARTS",` />
`]}return a},_render:function(a){a.beginPath(),a.arc(0,0,this.radius,c(this.startAngle),c(this.endAngle),!1),this._renderPaintInOrder(a)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(a){return this.radius=a,this.set("width",a*2).set("height",a*2)}}),l.Circle.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),l.Circle.fromElement=function(a,r){var n=l.parseAttributes(a,l.Circle.ATTRIBUTE_NAMES);if(!f(n))throw new Error("value of `r` attribute is required and can not be negative");n.left=(n.left||0)-n.radius,n.top=(n.top||0)-n.radius,r(new l.Circle(n))};function f(a){return"radius"in a&&a.radius>=0}l.Circle.fromObject=function(a,r){l.Object._fromObject("Circle",a,r)}}(C),function(m){var l=m.fabric||(m.fabric={});if(l.Triangle){l.warn("fabric.Triangle is already defined");return}l.Triangle=l.util.createClass(l.Object,{type:"triangle",width:100,height:100,_render:function(c){var f=this.width/2,a=this.height/2;c.beginPath(),c.moveTo(-f,a),c.lineTo(0,-a),c.lineTo(f,a),c.closePath(),this._renderPaintInOrder(c)},_toSVG:function(){var c=this.width/2,f=this.height/2,a=[-c+" "+f,"0 "+-f,c+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',a,'" />']}}),l.Triangle.fromObject=function(c,f){return l.Object._fromObject("Triangle",c,f)}}(C),function(m){var l=m.fabric||(m.fabric={}),c=Math.PI*2;if(l.Ellipse){l.warn("fabric.Ellipse is already defined.");return}l.Ellipse=l.util.createClass(l.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:l.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,a){switch(this.callSuper("_set",f,a),f){case"rx":this.rx=a,this.set("width",a*2);break;case"ry":this.ry=a,this.set("height",a*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,c,!1),f.restore(),this._renderPaintInOrder(f)}}),l.Ellipse.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),l.Ellipse.fromElement=function(f,a){var r=l.parseAttributes(f,l.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,a(new l.Ellipse(r))},l.Ellipse.fromObject=function(f,a){l.Object._fromObject("Ellipse",f,a)}}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.util.object.extend;if(l.Rect){l.warn("fabric.Rect is already defined");return}l.Rect=l.util.createClass(l.Object,{stateProperties:l.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:l.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var a=this.rx?Math.min(this.rx,this.width/2):0,r=this.ry?Math.min(this.ry,this.height/2):0,n=this.width,u=this.height,h=-this.width/2,s=-this.height/2,d=a!==0||r!==0,p=1-.5522847498;f.beginPath(),f.moveTo(h+a,s),f.lineTo(h+n-a,s),d&&f.bezierCurveTo(h+n-p*a,s,h+n,s+p*r,h+n,s+r),f.lineTo(h+n,s+u-r),d&&f.bezierCurveTo(h+n,s+u-p*r,h+n-p*a,s+u,h+n-a,s+u),f.lineTo(h+a,s+u),d&&f.bezierCurveTo(h+p*a,s+u,h,s+u-p*r,h,s+u-r),f.lineTo(h,s+r),d&&f.bezierCurveTo(h,s+p*r,h+p*a,s,h+a,s),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,a=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',a,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),l.Rect.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),l.Rect.fromElement=function(f,a,r){if(!f)return a(null);r=r||{};var n=l.parseAttributes(f,l.Rect.ATTRIBUTE_NAMES);n.left=n.left||0,n.top=n.top||0,n.height=n.height||0,n.width=n.width||0;var u=new l.Rect(c(r?l.util.object.clone(r):{},n));u.visible=u.visible&&u.width>0&&u.height>0,a(u)},l.Rect.fromObject=function(f,a){return l.Object._fromObject("Rect",f,a)}}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.util.object.extend,f=l.util.array.min,a=l.util.array.max,r=l.util.toFixed,n=l.util.projectStrokeOnPoints;if(l.Polyline){l.warn("fabric.Polyline is already defined");return}l.Polyline=l.util.createClass(l.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:l.Object.prototype.cacheProperties.concat("points"),initialize:function(u,h){h=h||{},this.points=u||[],this.callSuper("initialize",h),this._setPositionDimensions(h)},_projectStrokeOnPoints:function(){return n(this.points,this,!0)},_setPositionDimensions:function(u){var h=this._calcDimensions(u),s,d=this.exactBoundingBox?this.strokeWidth:0;this.width=h.width-d,this.height=h.height-d,u.fromSVG||(s=this.translateToGivenOrigin({x:h.left-this.strokeWidth/2+d/2,y:h.top-this.strokeWidth/2+d/2},"left","top",this.originX,this.originY)),typeof u.left>"u"&&(this.left=u.fromSVG?h.left:s.x),typeof u.top>"u"&&(this.top=u.fromSVG?h.top:s.y),this.pathOffset={x:h.left+this.width/2+d/2,y:h.top+this.height/2+d/2}},_calcDimensions:function(){var u=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,h=f(u,"x")||0,s=f(u,"y")||0,d=a(u,"x")||0,p=a(u,"y")||0,_=d-h,S=p-s;return{left:h,top:s,width:_,height:S}},toObject:function(u){return c(this.callSuper("toObject",u),{points:this.points.concat()})},_toSVG:function(){for(var u=[],h=this.pathOffset.x,s=this.pathOffset.y,d=l.Object.NUM_FRACTION_DIGITS,p=0,_=this.points.length;p<_;p++)u.push(r(this.points[p].x-h,d),",",r(this.points[p].y-s,d)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',u.join(""),`" />
`]},commonRender:function(u){var h,s=this.points.length,d=this.pathOffset.x,p=this.pathOffset.y;if(!s||isNaN(this.points[s-1].y))return!1;u.beginPath(),u.moveTo(this.points[0].x-d,this.points[0].y-p);for(var _=0;_<s;_++)h=this.points[_],u.lineTo(h.x-d,h.y-p);return!0},_render:function(u){this.commonRender(u)&&this._renderPaintInOrder(u)},complexity:function(){return this.get("points").length}}),l.Polyline.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat(),l.Polyline.fromElementGenerator=function(u){return function(h,s,d){if(!h)return s(null);d||(d={});var p=l.parsePointsAttribute(h.getAttribute("points")),_=l.parseAttributes(h,l[u].ATTRIBUTE_NAMES);_.fromSVG=!0,s(new l[u](p,c(_,d)))}},l.Polyline.fromElement=l.Polyline.fromElementGenerator("Polyline"),l.Polyline.fromObject=function(u,h){return l.Object._fromObject("Polyline",u,h,"points")}}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.util.projectStrokeOnPoints;if(l.Polygon){l.warn("fabric.Polygon is already defined");return}l.Polygon=l.util.createClass(l.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return c(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),l.Polygon.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat(),l.Polygon.fromElement=l.Polyline.fromElementGenerator("Polygon"),l.Polygon.fromObject=function(f,a){l.Object._fromObject("Polygon",f,a,"points")}}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.util.array.min,f=l.util.array.max,a=l.util.object.extend,r=l.util.object.clone,n=l.util.toFixed;if(l.Path){l.warn("fabric.Path is already defined");return}l.Path=l.util.createClass(l.Object,{type:"path",path:null,cacheProperties:l.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:l.Object.prototype.stateProperties.concat("path"),initialize:function(u,h){h=r(h||{}),delete h.path,this.callSuper("initialize",h),this._setPath(u||[],h)},_setPath:function(u,h){this.path=l.util.makePathSimpler(Array.isArray(u)?u:l.util.parsePath(u)),l.Polyline.prototype._setPositionDimensions.call(this,h||{})},_renderPathCommands:function(u){var h,s=0,d=0,p=0,_=0,S=0,b=0,w=-this.pathOffset.x,L=-this.pathOffset.y;u.beginPath();for(var P=0,H=this.path.length;P<H;++P)switch(h=this.path[P],h[0]){case"L":p=h[1],_=h[2],u.lineTo(p+w,_+L);break;case"M":p=h[1],_=h[2],s=p,d=_,u.moveTo(p+w,_+L);break;case"C":p=h[5],_=h[6],S=h[3],b=h[4],u.bezierCurveTo(h[1]+w,h[2]+L,S+w,b+L,p+w,_+L);break;case"Q":u.quadraticCurveTo(h[1]+w,h[2]+L,h[3]+w,h[4]+L),p=h[3],_=h[4],S=h[1],b=h[2];break;case"z":case"Z":p=s,_=d,u.closePath();break}},_render:function(u){this._renderPathCommands(u),this._renderPaintInOrder(u)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(u){return a(this.callSuper("toObject",u),{path:this.path.map(function(h){return h.slice()})})},toDatalessObject:function(u){var h=this.toObject(["sourcePath"].concat(u));return h.sourcePath&&delete h.path,h},_toSVG:function(){var u=l.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',u,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var u=l.Object.NUM_FRACTION_DIGITS;return" translate("+n(-this.pathOffset.x,u)+", "+n(-this.pathOffset.y,u)+")"},toClipPathSVG:function(u){var h=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:h})},toSVG:function(u){var h=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:h})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var u=[],h=[],s,d=0,p=0,_=0,S=0,b,w=0,L=this.path.length;w<L;++w){switch(s=this.path[w],s[0]){case"L":_=s[1],S=s[2],b=[];break;case"M":_=s[1],S=s[2],d=_,p=S,b=[];break;case"C":b=l.util.getBoundsOfCurve(_,S,s[1],s[2],s[3],s[4],s[5],s[6]),_=s[5],S=s[6];break;case"Q":b=l.util.getBoundsOfCurve(_,S,s[1],s[2],s[1],s[2],s[3],s[4]),_=s[3],S=s[4];break;case"z":case"Z":_=d,S=p;break}b.forEach(function(pt){u.push(pt.x),h.push(pt.y)}),u.push(_),h.push(S)}var P=c(u)||0,H=c(h)||0,K=f(u)||0,dt=f(h)||0,yt=K-P,St=dt-H;return{left:P,top:H,width:yt,height:St}}}),l.Path.fromObject=function(u,h){if(typeof u.sourcePath=="string"){var s=u.sourcePath;l.loadSVGFromURL(s,function(d){var p=d[0];p.setOptions(u),u.clipPath?l.util.enlivenObjects([u.clipPath],function(_){p.clipPath=_[0],h&&h(p)}):h&&h(p)})}else l.Object._fromObject("Path",u,h,"path")},l.Path.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat(["d"]),l.Path.fromElement=function(u,h,s){var d=l.parseAttributes(u,l.Path.ATTRIBUTE_NAMES);d.fromSVG=!0,h(new l.Path(d.d,a(d,s)))}}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.util.array.min,f=l.util.array.max;l.Group||(l.Group=l.util.createClass(l.Object,l.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(a,r,n){r=r||{},this._objects=[],n&&this.callSuper("initialize",r),this._objects=a||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;if(n)this._updateObjectsACoords();else{var h=r&&r.centerPoint;r.originX!==void 0&&(this.originX=r.originX),r.originY!==void 0&&(this.originY=r.originY),h||this._calcBounds(),this._updateObjectsCoords(h),delete r.centerPoint,this.callSuper("initialize",r)}this.setCoords()},_updateObjectsACoords:function(){for(var a=!0,r=this._objects.length;r--;)this._objects[r].setCoords(a)},_updateObjectsCoords:function(r){for(var r=r||this.getCenterPoint(),n=this._objects.length;n--;)this._updateObjectCoords(this._objects[n],r)},_updateObjectCoords:function(a,r){var n=a.left,u=a.top,h=!0;a.set({left:n-r.x,top:u-r.y}),a.group=this,a.setCoords(h)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(a){var r=!!this.group;return this._restoreObjectsState(),l.util.resetObjectTransform(this),a&&(r&&l.util.removeTransformFromObject(a,this.group.calcTransformMatrix()),this._objects.push(a),a.group=this,a._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,r?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(a){return this._restoreObjectsState(),l.util.resetObjectTransform(this),this.remove(a),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(a){this.dirty=!0,a.group=this,a._set("canvas",this.canvas)},_onObjectRemoved:function(a){this.dirty=!0,delete a.group},_set:function(a,r){var n=this._objects.length;if(this.useSetOnGroup)for(;n--;)this._objects[n].setOnGroup(a,r);if(a==="canvas")for(;n--;)this._objects[n]._set(a,r);l.Object.prototype._set.call(this,a,r)},toObject:function(a){var r=this.includeDefaultValues,n=this._objects.filter(function(h){return!h.excludeFromExport}).map(function(h){var s=h.includeDefaultValues;h.includeDefaultValues=r;var d=h.toObject(a);return h.includeDefaultValues=s,d}),u=l.Object.prototype.toObject.call(this,a);return u.objects=n,u},toDatalessObject:function(a){var r,n=this.sourcePath;if(n)r=n;else{var u=this.includeDefaultValues;r=this._objects.map(function(s){var d=s.includeDefaultValues;s.includeDefaultValues=u;var p=s.toDatalessObject(a);return s.includeDefaultValues=d,p})}var h=l.Object.prototype.toDatalessObject.call(this,a);return h.objects=r,h},render:function(a){this._transformDone=!0,this.callSuper("render",a),this._transformDone=!1},shouldCache:function(){var a=l.Object.prototype.shouldCache.call(this);if(a){for(var r=0,n=this._objects.length;r<n;r++)if(this._objects[r].willDrawShadow())return this.ownCaching=!1,!1}return a},willDrawShadow:function(){if(l.Object.prototype.willDrawShadow.call(this))return!0;for(var a=0,r=this._objects.length;a<r;a++)if(this._objects[a].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(a){for(var r=0,n=this._objects.length;r<n;r++)this._objects[r].render(a);this._drawClipPath(a,this.clipPath)},isCacheDirty:function(a){if(this.callSuper("isCacheDirty",a))return!0;if(!this.statefullCache)return!1;for(var r=0,n=this._objects.length;r<n;r++)if(this._objects[r].isCacheDirty(!0)){if(this._cacheCanvas){var u=this.cacheWidth/this.zoomX,h=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-u/2,-h/2,u,h)}return!0}return!1},_restoreObjectsState:function(){var a=this.calcOwnMatrix();return this._objects.forEach(function(r){l.util.addTransformToObject(r,a),delete r.group,r.setCoords()}),this},destroy:function(){return this._objects.forEach(function(a){a.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(a){a.dispose&&a.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var a=this._objects,r=this.canvas;this._objects=[];var n=this.toObject();delete n.objects;var u=new l.ActiveSelection([]);return u.set(n),u.type="activeSelection",r.remove(this),a.forEach(function(h){h.group=u,h.dirty=!0,r.add(h)}),u.canvas=r,u._objects=a,r._activeObject=u,u.setCoords(),u}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var a=!0;return this.forEachObject(function(r){r.setCoords(a)}),this},_calcBounds:function(a){for(var r=[],n=[],u,h,s,d=["tr","br","bl","tl"],p=0,_=this._objects.length,S,b=d.length;p<_;++p){for(u=this._objects[p],s=u.calcACoords(),S=0;S<b;S++)h=d[S],r.push(s[h].x),n.push(s[h].y);u.aCoords=s}this._getBounds(r,n,a)},_getBounds:function(a,r,n){var u=new l.Point(c(a),c(r)),h=new l.Point(f(a),f(r)),s=u.y||0,d=u.x||0,p=h.x-u.x||0,_=h.y-u.y||0;this.width=p,this.height=_,n||this.setPositionByOrigin({x:d,y:s},"left","top")},_toSVG:function(a){for(var r=["<g ","COMMON_PARTS",` >
`],n=0,u=this._objects.length;n<u;n++)r.push("		",this._objects[n].toSVG(a));return r.push(`</g>
`),r},getSvgStyles:function(){var a=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",r=this.visible?"":" visibility: hidden;";return[a,this.getSvgFilter(),r].join("")},toClipPathSVG:function(a){for(var r=[],n=0,u=this._objects.length;n<u;n++)r.push("	",this._objects[n].toClipPathSVG(a));return this._createBaseClipPathSVGMarkup(r,{reviver:a})}}),l.Group.fromObject=function(a,r){var n=a.objects,u=l.util.object.clone(a,!0);if(delete u.objects,typeof n=="string"){l.loadSVGFromURL(n,function(h){var s=l.util.groupSVGElements(h,a,n),d=u.clipPath;delete u.clipPath,s.set(u),d?l.util.enlivenObjects([d],function(p){s.clipPath=p[0],r&&r(s)}):r&&r(s)});return}l.util.enlivenObjects(n,function(h){l.util.enlivenObjectEnlivables(a,u,function(){r&&r(new l.Group(h,u,!0))})})})}(C),function(m){var l=m.fabric||(m.fabric={});l.ActiveSelection||(l.ActiveSelection=l.util.createClass(l.Group,{type:"activeSelection",initialize:function(c,f){f=f||{},this._objects=c||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),l.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var c=this._objects.concat();this._objects=[];var f=l.Object.prototype.toObject.call(this),a=new l.Group([]);if(delete f.type,a.set(f),c.forEach(function(n){n.canvas.remove(n),n.group=a}),a._objects=c,!this.canvas)return a;var r=this.canvas;return r.add(a),r._activeObject=a,a.setCoords(),a},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(c,f,a){c.save(),c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",c,f),a=a||{},typeof a.hasControls>"u"&&(a.hasControls=!1),a.forActiveSelection=!0;for(var r=0,n=this._objects.length;r<n;r++)this._objects[r]._renderControls(c,a);c.restore()}}),l.ActiveSelection.fromObject=function(c,f){l.util.enlivenObjects(c.objects,function(a){delete c.objects,f&&f(new l.ActiveSelection(a,c,!0))})})}(C),function(m){var l=v.util.object.extend;if(m.fabric||(m.fabric={}),m.fabric.Image){v.warn("fabric.Image is already defined.");return}v.Image=v.util.createClass(v.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:v.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:v.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(c,f){f||(f={}),this.filters=[],this.cacheKey="texture"+v.Object.__uid++,this.callSuper("initialize",f),this._initElement(c,f)},getElement:function(){return this._element||{}},setElement:function(c,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=c,this._originalElement=c,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(c){var f=v.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(c)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(c){v.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var c=this.getElement();return{width:c.naturalWidth||c.width,height:c.naturalHeight||c.height}},_stroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,a=this.height/2;c.beginPath(),c.moveTo(-f,-a),c.lineTo(f,-a),c.lineTo(f,a),c.lineTo(-f,a),c.lineTo(-f,-a),c.closePath()}},toObject:function(c){var f=[];this.filters.forEach(function(r){r&&f.push(r.toObject())});var a=l(this.callSuper("toObject",["cropX","cropY"].concat(c)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(a.resizeFilter=this.resizeFilter.toObject()),a},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var c=[],f=[],a,r=this._element,n=-this.width/2,u=-this.height/2,h="",s="";if(!r)return[];if(this.hasCrop()){var d=v.Object.__uid++;c.push('<clipPath id="imageCrop_'+d+`">
`,'	<rect x="'+n+'" y="'+u+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),h=' clip-path="url(#imageCrop_'+d+')" '}if(this.imageSmoothing||(s='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',n-this.cropX,'" y="',u-this.cropY,'" width="',r.width||r.naturalWidth,'" height="',r.height||r.height,s,'"',h,`></image>
`),this.stroke||this.strokeDashArray){var p=this.fill;this.fill=null,a=["	<rect ",'x="',n,'" y="',u,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=p}return this.paintFirst!=="fill"?c=c.concat(a,f):c=c.concat(f,a),c},getSrc:function(c){var f=c?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(c,f,a){return v.util.loadImage(c,function(r,n){this.setElement(r,a),this._setWidthHeight(),f&&f(this,n)},this,a&&a.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var c=this.resizeFilter,f=this.minimumScaleTrigger,a=this.getTotalObjectScaling(),r=a.scaleX,n=a.scaleY,u=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!c||r>f&&n>f){this._element=u,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,this._lastScaleY=n;return}v.filterBackend||(v.filterBackend=v.initFilterBackend());var h=v.util.createCanvasElement(),s=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,d=u.width,p=u.height;h.width=d,h.height=p,this._element=h,this._lastScaleX=c.scaleX=r,this._lastScaleY=c.scaleY=n,v.filterBackend.applyFilters([c],u,d,p,this._element,s),this._filterScalingX=h.width/this._originalElement.width,this._filterScalingY=h.height/this._originalElement.height},applyFilters:function(c){if(c=c||this.filters||[],c=c.filter(function(u){return u&&!u.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),c.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,a=f.naturalWidth||f.width,r=f.naturalHeight||f.height;if(this._element===this._originalElement){var n=v.util.createCanvasElement();n.width=a,n.height=r,this._element=n,this._filteredEl=n}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,a,r),this._lastScaleX=1,this._lastScaleY=1;return v.filterBackend||(v.filterBackend=v.initFilterBackend()),v.filterBackend.applyFilters(c,this._originalElement,a,r,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(c){v.util.setImageSmoothing(c,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(c),this._renderPaintInOrder(c)},drawCacheOnCanvas:function(c){v.util.setImageSmoothing(c,this.imageSmoothing),v.Object.prototype.drawCacheOnCanvas.call(this,c)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(c){var f=this._element;if(f){var a=this._filterScalingX,r=this._filterScalingY,n=this.width,u=this.height,h=Math.min,s=Math.max,d=s(this.cropX,0),p=s(this.cropY,0),_=f.naturalWidth||f.width,S=f.naturalHeight||f.height,b=d*a,w=p*r,L=h(n*a,_-b),P=h(u*r,S-w),H=-n/2,K=-u/2,dt=h(n,_/a-d),yt=h(u,S/r-p);f&&c.drawImage(f,b,w,L,P,H,K,dt,yt)}},_needsResize:function(){var c=this.getTotalObjectScaling();return c.scaleX!==this._lastScaleX||c.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(c,f){this.setElement(v.util.getById(c),f),v.util.addClass(this.getElement(),v.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={}),this.setOptions(c),this._setWidthHeight(c)},_initFilters:function(c,f){c&&c.length?v.util.enlivenObjects(c,function(a){f&&f(a)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(c){c||(c={});var f=this.getElement();this.width=c.width||f.naturalWidth||f.width||0,this.height=c.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var c=v.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,a=this._element.height,r=1,n=1,u=0,h=0,s=0,d=0,p,_=this.width,S=this.height,b={width:_,height:S};return c&&(c.alignX!=="none"||c.alignY!=="none")?(c.meetOrSlice==="meet"&&(r=n=v.util.findScaleToFit(this._element,b),p=(_-f*r)/2,c.alignX==="Min"&&(u=-p),c.alignX==="Max"&&(u=p),p=(S-a*n)/2,c.alignY==="Min"&&(h=-p),c.alignY==="Max"&&(h=p)),c.meetOrSlice==="slice"&&(r=n=v.util.findScaleToCover(this._element,b),p=f-_/r,c.alignX==="Mid"&&(s=p/2),c.alignX==="Max"&&(s=p),p=a-S/n,c.alignY==="Mid"&&(d=p/2),c.alignY==="Max"&&(d=p),f=_/r,a=S/n)):(r=_/f,n=S/a),{width:f,height:a,scaleX:r,scaleY:n,offsetLeft:u,offsetTop:h,cropX:s,cropY:d}}}),v.Image.CSS_CANVAS="canvas-img",v.Image.prototype.getSvgSrc=v.Image.prototype.getSrc,v.Image.fromObject=function(c,f){var a=v.util.object.clone(c);v.util.loadImage(a.src,function(r,n){if(n){f&&f(null,!0);return}v.Image.prototype._initFilters.call(a,a.filters,function(u){a.filters=u||[],v.Image.prototype._initFilters.call(a,[a.resizeFilter],function(h){a.resizeFilter=h[0],v.util.enlivenObjectEnlivables(a,a,function(){var s=new v.Image(r,a);f(s,!1)})})})},null,a.crossOrigin)},v.Image.fromURL=function(c,f,a){v.util.loadImage(c,function(r,n){f&&f(new v.Image(r,a),n)},null,a&&a.crossOrigin)},v.Image.ATTRIBUTE_NAMES=v.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),v.Image.fromElement=function(c,f,a){var r=v.parseAttributes(c,v.Image.ATTRIBUTE_NAMES);v.Image.fromURL(r["xlink:href"],f,l(a?v.util.object.clone(a):{},r))}}(C),v.util.object.extend(v.Object.prototype,{_getAngleValueForStraighten:function(){var m=this.angle%360;return m>0?Math.round((m-1)/90)*90:Math.round(m/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(m){m=m||{};var l=function(){},c=m.onComplete||l,f=m.onChange||l,a=this;return v.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(r){a.rotate(r),f()},onComplete:function(){a.setCoords(),c()}})}}),v.util.object.extend(v.StaticCanvas.prototype,{straightenObject:function(m){return m.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(m){return m.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function m(c,f){var a="precision "+f+` float;
void main(){}`,r=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(r,a),c.compileShader(r),!!c.getShaderParameter(r,c.COMPILE_STATUS)}v.isWebglSupported=function(c){if(v.isLikelyNode)return!1;c=c||v.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),a=f.getContext("webgl")||f.getContext("experimental-webgl"),r=!1;if(a){v.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),r=v.maxTextureSize>=c;for(var n=["highp","mediump","lowp"],u=0;u<3;u++)if(m(a,n[u])){v.webGlPrecision=n[u];break}}return this.isSupported=r,r},v.WebglFilterBackend=l;function l(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}l.prototype={tileSize:2048,resources:{},setupGLContext:function(c,f){this.dispose(),this.createWebGLCanvas(c,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(c,f)},chooseFastestCopyGLTo2DMethod:function(c,f){var a=typeof window.performance<"u",r;try{new ImageData(1,1),r=!0}catch{r=!1}var n=typeof ArrayBuffer<"u",u=typeof Uint8ClampedArray<"u";if(a&&r&&n&&u){var h=v.util.createCanvasElement(),s=new ArrayBuffer(c*f*4);if(v.forceGLPutImageData){this.imageBuffer=s,this.copyGLTo2D=$;return}var d={imageBuffer:s,destinationWidth:c,destinationHeight:f,targetCanvas:h},p,_,S;h.width=c,h.height=f,p=window.performance.now(),F.call(d,this.gl,d),_=window.performance.now()-p,p=window.performance.now(),$.call(d,this.gl,d),S=window.performance.now()-p,_>S?(this.imageBuffer=s,this.copyGLTo2D=$):this.copyGLTo2D=F}},createWebGLCanvas:function(c,f){var a=v.util.createCanvasElement();a.width=c,a.height=f;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},n=a.getContext("webgl",r);n||(n=a.getContext("experimental-webgl",r)),n&&(n.clearColor(0,0,0,0),this.canvas=a,this.gl=n)},applyFilters:function(c,f,a,r,n,u){var h=this.gl,s;u&&(s=this.getCachedTexture(u,f));var d={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:a,sourceHeight:r,destinationWidth:a,destinationHeight:r,context:h,sourceTexture:this.createTexture(h,a,r,!s&&f),targetTexture:this.createTexture(h,a,r),originalTexture:s||this.createTexture(h,a,r,!s&&f),passes:c.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:n},p=h.createFramebuffer();return h.bindFramebuffer(h.FRAMEBUFFER,p),c.forEach(function(_){_&&_.applyTo(d)}),k(d),this.copyGLTo2D(h,d),h.bindTexture(h.TEXTURE_2D,null),h.deleteTexture(d.sourceTexture),h.deleteTexture(d.targetTexture),h.deleteFramebuffer(p),n.getContext("2d").setTransform(1,0,0,1,0,0),d},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(c,f,a,r){var n=c.createTexture();return c.bindTexture(c.TEXTURE_2D,n),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),r?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,r):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,f,a,0,c.RGBA,c.UNSIGNED_BYTE,null),n},getCachedTexture:function(c,f){if(this.textureCache[c])return this.textureCache[c];var a=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[c]=a,a},evictCachesForKey:function(c){this.textureCache[c]&&(this.gl.deleteTexture(this.textureCache[c]),delete this.textureCache[c])},copyGLTo2D:F,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var c=this.gl,f={renderer:"",vendor:""};if(!c)return f;var a=c.getExtension("WEBGL_debug_renderer_info");if(a){var r=c.getParameter(a.UNMASKED_RENDERER_WEBGL),n=c.getParameter(a.UNMASKED_VENDOR_WEBGL);r&&(f.renderer=r.toLowerCase()),n&&(f.vendor=n.toLowerCase())}return this.gpuInfo=f,f}}}();function k(m){var l=m.targetCanvas,c=l.width,f=l.height,a=m.destinationWidth,r=m.destinationHeight;(c!==a||f!==r)&&(l.width=a,l.height=r)}function F(m,l){var c=m.canvas,f=l.targetCanvas,a=f.getContext("2d");a.translate(0,f.height),a.scale(1,-1);var r=c.height-f.height;a.drawImage(c,0,r,f.width,f.height,0,0,f.width,f.height)}function $(m,l){var c=l.targetCanvas,f=c.getContext("2d"),a=l.destinationWidth,r=l.destinationHeight,n=a*r*4,u=new Uint8Array(this.imageBuffer,0,n),h=new Uint8ClampedArray(this.imageBuffer,0,n);m.readPixels(0,0,a,r,m.RGBA,m.UNSIGNED_BYTE,u);var s=new ImageData(h,a,r);f.putImageData(s,0,0)}(function(){var m=function(){};v.Canvas2dFilterBackend=l;function l(){}l.prototype={evictCachesForKey:m,dispose:m,clearWebGLCaches:m,resources:{},applyFilters:function(c,f,a,r,n){var u=n.getContext("2d");u.drawImage(f,0,0,a,r);var h=u.getImageData(0,0,a,r),s=u.getImageData(0,0,a,r),d={sourceWidth:a,sourceHeight:r,imageData:h,originalEl:f,originalImageData:s,canvasEl:n,ctx:u,filterBackend:this};return c.forEach(function(p){p.applyTo(d)}),(d.imageData.width!==a||d.imageData.height!==r)&&(n.width=d.imageData.width,n.height=d.imageData.height),u.putImageData(d.imageData,0,0),d}}})(),v.Image=v.Image||{},v.Image.filters=v.Image.filters||{},v.Image.filters.BaseFilter=v.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(m){m&&this.setOptions(m)},setOptions:function(m){for(var l in m)this[l]=m[l]},createProgram:function(m,l,c){l=l||this.fragmentSource,c=c||this.vertexSource,v.webGlPrecision!=="highp"&&(l=l.replace(/precision highp float/g,"precision "+v.webGlPrecision+" float"));var f=m.createShader(m.VERTEX_SHADER);if(m.shaderSource(f,c),m.compileShader(f),!m.getShaderParameter(f,m.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+m.getShaderInfoLog(f));var a=m.createShader(m.FRAGMENT_SHADER);if(m.shaderSource(a,l),m.compileShader(a),!m.getShaderParameter(a,m.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+m.getShaderInfoLog(a));var r=m.createProgram();if(m.attachShader(r,f),m.attachShader(r,a),m.linkProgram(r),!m.getProgramParameter(r,m.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+m.getProgramInfoLog(r));var n=this.getAttributeLocations(m,r),u=this.getUniformLocations(m,r)||{};return u.uStepW=m.getUniformLocation(r,"uStepW"),u.uStepH=m.getUniformLocation(r,"uStepH"),{program:r,attributeLocations:n,uniformLocations:u}},getAttributeLocations:function(m,l){return{aPosition:m.getAttribLocation(l,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(m,l,c){var f=l.aPosition,a=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,a),m.enableVertexAttribArray(f),m.vertexAttribPointer(f,2,m.FLOAT,!1,0,0),m.bufferData(m.ARRAY_BUFFER,c,m.STATIC_DRAW)},_setupFrameBuffer:function(m){var l=m.context,c,f;m.passes>1?(c=m.destinationWidth,f=m.destinationHeight,(m.sourceWidth!==c||m.sourceHeight!==f)&&(l.deleteTexture(m.targetTexture),m.targetTexture=m.filterBackend.createTexture(l,c,f)),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,m.targetTexture,0)):(l.bindFramebuffer(l.FRAMEBUFFER,null),l.finish())},_swapTextures:function(m){m.passes--,m.pass++;var l=m.targetTexture;m.targetTexture=m.sourceTexture,m.sourceTexture=l},isNeutralState:function(){var m=this.mainParameter,l=v.Image.filters[this.type].prototype;if(m)if(Array.isArray(l[m])){for(var c=l[m].length;c--;)if(this[m][c]!==l[m][c])return!1;return!0}else return l[m]===this[m];else return!1},applyTo:function(m){m.webgl?(this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m)):this.applyTo2d(m)},retrieveShader:function(m){return m.programCache.hasOwnProperty(this.type)||(m.programCache[this.type]=this.createProgram(m.context)),m.programCache[this.type]},applyToWebGL:function(m){var l=m.context,c=this.retrieveShader(m);m.pass===0&&m.originalTexture?l.bindTexture(l.TEXTURE_2D,m.originalTexture):l.bindTexture(l.TEXTURE_2D,m.sourceTexture),l.useProgram(c.program),this.sendAttributeData(l,c.attributeLocations,m.aPosition),l.uniform1f(c.uniformLocations.uStepW,1/m.sourceWidth),l.uniform1f(c.uniformLocations.uStepH,1/m.sourceHeight),this.sendUniformData(l,c.uniformLocations),l.viewport(0,0,m.destinationWidth,m.destinationHeight),l.drawArrays(l.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(m,l,c){m.activeTexture(c),m.bindTexture(m.TEXTURE_2D,l),m.activeTexture(m.TEXTURE0)},unbindAdditionalTexture:function(m,l){m.activeTexture(l),m.bindTexture(m.TEXTURE_2D,null),m.activeTexture(m.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(m){this[this.mainParameter]=m},sendUniformData:function(){},createHelpLayer:function(m){if(!m.helpLayer){var l=document.createElement("canvas");l.width=m.sourceWidth,l.height=m.sourceHeight,m.helpLayer=l}},toObject:function(){var m={type:this.type},l=this.mainParameter;return l&&(m[l]=this[l]),m},toJSON:function(){return this.toObject()}}),v.Image.filters.BaseFilter.fromObject=function(m,l){var c=new v.Image.filters[m.type](m);return l&&l(c),c},function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.ColorMatrix=f(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(a){this.callSuper("initialize",a),this.matrix=this.matrix.slice(0)},applyTo2d:function(a){var r=a.imageData,n=r.data,u=n.length,h=this.matrix,s,d,p,_,S,b=this.colorsOnly;for(S=0;S<u;S+=4)s=n[S],d=n[S+1],p=n[S+2],b?(n[S]=s*h[0]+d*h[1]+p*h[2]+h[4]*255,n[S+1]=s*h[5]+d*h[6]+p*h[7]+h[9]*255,n[S+2]=s*h[10]+d*h[11]+p*h[12]+h[14]*255):(_=n[S+3],n[S]=s*h[0]+d*h[1]+p*h[2]+_*h[3]+h[4]*255,n[S+1]=s*h[5]+d*h[6]+p*h[7]+_*h[8]+h[9]*255,n[S+2]=s*h[10]+d*h[11]+p*h[12]+_*h[13]+h[14]*255,n[S+3]=s*h[15]+d*h[16]+p*h[17]+_*h[18]+h[19]*255)},getUniformLocations:function(a,r){return{uColorMatrix:a.getUniformLocation(r,"uColorMatrix"),uConstants:a.getUniformLocation(r,"uConstants")}},sendUniformData:function(a,r){var n=this.matrix,u=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],h=[n[4],n[9],n[14],n[19]];a.uniformMatrix4fv(r.uColorMatrix,!1,u),a.uniform4fv(r.uConstants,h)}}),l.Image.filters.ColorMatrix.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Brightness=f(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(a){if(this.brightness!==0){var r=a.imageData,n=r.data,u,h=n.length,s=Math.round(this.brightness*255);for(u=0;u<h;u+=4)n[u]=n[u]+s,n[u+1]=n[u+1]+s,n[u+2]=n[u+2]+s}},getUniformLocations:function(a,r){return{uBrightness:a.getUniformLocation(r,"uBrightness")}},sendUniformData:function(a,r){a.uniform1f(r.uBrightness,this.brightness)}}),l.Image.filters.Brightness.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.util.object.extend,f=l.Image.filters,a=l.util.createClass;f.Convolute=a(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(r){var n=Math.sqrt(this.matrix.length),u=this.type+"_"+n+"_"+(this.opaque?1:0),h=this.fragmentSource[u];return r.programCache.hasOwnProperty(u)||(r.programCache[u]=this.createProgram(r.context,h)),r.programCache[u]},applyTo2d:function(r){var n=r.imageData,u=n.data,h=this.matrix,s=Math.round(Math.sqrt(h.length)),d=Math.floor(s/2),p=n.width,_=n.height,S=r.ctx.createImageData(p,_),b=S.data,w=this.opaque?1:0,L,P,H,K,dt,yt,St,pt,vt,tt,mt,ft,O;for(mt=0;mt<_;mt++)for(tt=0;tt<p;tt++){for(dt=(mt*p+tt)*4,L=0,P=0,H=0,K=0,O=0;O<s;O++)for(ft=0;ft<s;ft++)St=mt+O-d,yt=tt+ft-d,!(St<0||St>=_||yt<0||yt>=p)&&(pt=(St*p+yt)*4,vt=h[O*s+ft],L+=u[pt]*vt,P+=u[pt+1]*vt,H+=u[pt+2]*vt,w||(K+=u[pt+3]*vt));b[dt]=L,b[dt+1]=P,b[dt+2]=H,w?b[dt+3]=u[dt+3]:b[dt+3]=K}r.imageData=S},getUniformLocations:function(r,n){return{uMatrix:r.getUniformLocation(n,"uMatrix"),uOpaque:r.getUniformLocation(n,"uOpaque"),uHalfSize:r.getUniformLocation(n,"uHalfSize"),uSize:r.getUniformLocation(n,"uSize")}},sendUniformData:function(r,n){r.uniform1fv(n.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),l.Image.filters.Convolute.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Grayscale=f(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(a){var r=a.imageData,n=r.data,u,h=n.length,s,d=this.mode;for(u=0;u<h;u+=4)d==="average"?s=(n[u]+n[u+1]+n[u+2])/3:d==="lightness"?s=(Math.min(n[u],n[u+1],n[u+2])+Math.max(n[u],n[u+1],n[u+2]))/2:d==="luminosity"&&(s=.21*n[u]+.72*n[u+1]+.07*n[u+2]),n[u]=s,n[u+1]=s,n[u+2]=s},retrieveShader:function(a){var r=this.type+"_"+this.mode;if(!a.programCache.hasOwnProperty(r)){var n=this.fragmentSource[this.mode];a.programCache[r]=this.createProgram(a.context,n)}return a.programCache[r]},getUniformLocations:function(a,r){return{uMode:a.getUniformLocation(r,"uMode")}},sendUniformData:function(a,r){var n=1;a.uniform1i(r.uMode,n)},isNeutralState:function(){return!1}}),l.Image.filters.Grayscale.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Invert=f(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(a){var r=a.imageData,n=r.data,u,h=n.length;for(u=0;u<h;u+=4)n[u]=255-n[u],n[u+1]=255-n[u+1],n[u+2]=255-n[u+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(a,r){return{uInvert:a.getUniformLocation(r,"uInvert")}},sendUniformData:function(a,r){a.uniform1i(r.uInvert,this.invert)}}),l.Image.filters.Invert.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.util.object.extend,f=l.Image.filters,a=l.util.createClass;f.Noise=a(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(r){if(this.noise!==0){var n=r.imageData,u=n.data,h,s=u.length,d=this.noise,p;for(h=0,s=u.length;h<s;h+=4)p=(.5-Math.random())*d,u[h]+=p,u[h+1]+=p,u[h+2]+=p}},getUniformLocations:function(r,n){return{uNoise:r.getUniformLocation(n,"uNoise"),uSeed:r.getUniformLocation(n,"uSeed")}},sendUniformData:function(r,n){r.uniform1f(n.uNoise,this.noise/255),r.uniform1f(n.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),l.Image.filters.Noise.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Pixelate=f(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(a){var r=a.imageData,n=r.data,u=r.height,h=r.width,s,d,p,_,S,b,w,L,P,H,K;for(d=0;d<u;d+=this.blocksize)for(p=0;p<h;p+=this.blocksize)for(s=d*4*h+p*4,_=n[s],S=n[s+1],b=n[s+2],w=n[s+3],H=Math.min(d+this.blocksize,u),K=Math.min(p+this.blocksize,h),L=d;L<H;L++)for(P=p;P<K;P++)s=L*4*h+P*4,n[s]=_,n[s+1]=S,n[s+2]=b,n[s+3]=w},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(a,r){return{uBlocksize:a.getUniformLocation(r,"uBlocksize"),uStepW:a.getUniformLocation(r,"uStepW"),uStepH:a.getUniformLocation(r,"uStepH")}},sendUniformData:function(a,r){a.uniform1f(r.uBlocksize,this.blocksize)}}),l.Image.filters.Pixelate.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.util.object.extend,f=l.Image.filters,a=l.util.createClass;f.RemoveColor=a(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(r){var n=r.imageData,u=n.data,h,s=this.distance*255,d,p,_,S=new l.Color(this.color).getSource(),b=[S[0]-s,S[1]-s,S[2]-s],w=[S[0]+s,S[1]+s,S[2]+s];for(h=0;h<u.length;h+=4)d=u[h],p=u[h+1],_=u[h+2],d>b[0]&&p>b[1]&&_>b[2]&&d<w[0]&&p<w[1]&&_<w[2]&&(u[h+3]=0)},getUniformLocations:function(r,n){return{uLow:r.getUniformLocation(n,"uLow"),uHigh:r.getUniformLocation(n,"uHigh")}},sendUniformData:function(r,n){var u=new l.Color(this.color).getSource(),h=parseFloat(this.distance),s=[0+u[0]/255-h,0+u[1]/255-h,0+u[2]/255-h,1],d=[u[0]/255+h,u[1]/255+h,u[2]/255+h,1];r.uniform4fv(n.uLow,s),r.uniform4fv(n.uHigh,d)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),l.Image.filters.RemoveColor.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass,a={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var r in a)c[r]=f(c.ColorMatrix,{type:r,matrix:a[r],mainParameter:!1,colorsOnly:!0}),l.Image.filters[r].fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric,c=l.Image.filters,f=l.util.createClass;c.BlendColor=f(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(a){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[a]+`}
}`},retrieveShader:function(a){var r=this.type+"_"+this.mode,n;return a.programCache.hasOwnProperty(r)||(n=this.buildSource(this.mode),a.programCache[r]=this.createProgram(a.context,n)),a.programCache[r]},applyTo2d:function(a){var r=a.imageData,n=r.data,u=n.length,h,s,d,p,_,S,b,w=1-this.alpha;b=new l.Color(this.color).getSource(),h=b[0]*this.alpha,s=b[1]*this.alpha,d=b[2]*this.alpha;for(var L=0;L<u;L+=4)switch(p=n[L],_=n[L+1],S=n[L+2],this.mode){case"multiply":n[L]=p*h/255,n[L+1]=_*s/255,n[L+2]=S*d/255;break;case"screen":n[L]=255-(255-p)*(255-h)/255,n[L+1]=255-(255-_)*(255-s)/255,n[L+2]=255-(255-S)*(255-d)/255;break;case"add":n[L]=p+h,n[L+1]=_+s,n[L+2]=S+d;break;case"diff":case"difference":n[L]=Math.abs(p-h),n[L+1]=Math.abs(_-s),n[L+2]=Math.abs(S-d);break;case"subtract":n[L]=p-h,n[L+1]=_-s,n[L+2]=S-d;break;case"darken":n[L]=Math.min(p,h),n[L+1]=Math.min(_,s),n[L+2]=Math.min(S,d);break;case"lighten":n[L]=Math.max(p,h),n[L+1]=Math.max(_,s),n[L+2]=Math.max(S,d);break;case"overlay":n[L]=h<128?2*p*h/255:255-2*(255-p)*(255-h)/255,n[L+1]=s<128?2*_*s/255:255-2*(255-_)*(255-s)/255,n[L+2]=d<128?2*S*d/255:255-2*(255-S)*(255-d)/255;break;case"exclusion":n[L]=h+p-2*h*p/255,n[L+1]=s+_-2*s*_/255,n[L+2]=d+S-2*d*S/255;break;case"tint":n[L]=h+p*w,n[L+1]=s+_*w,n[L+2]=d+S*w}},getUniformLocations:function(a,r){return{uColor:a.getUniformLocation(r,"uColor")}},sendUniformData:function(a,r){var n=new l.Color(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,a.uniform4fv(r.uColor,n)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),l.Image.filters.BlendColor.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric,c=l.Image.filters,f=l.util.createClass;c.BlendImage=f(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(a){var r=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return a.programCache.hasOwnProperty(r)||(a.programCache[r]=this.createProgram(a.context,n)),a.programCache[r]},applyToWebGL:function(a){var r=a.context,n=this.createTexture(a.filterBackend,this.image);this.bindAdditionalTexture(r,n,r.TEXTURE1),this.callSuper("applyToWebGL",a),this.unbindAdditionalTexture(r,r.TEXTURE1)},createTexture:function(a,r){return a.getCachedTexture(r.cacheKey,r._element)},calculateMatrix:function(){var a=this.image,r=a._element.width,n=a._element.height;return[1/a.scaleX,0,0,0,1/a.scaleY,0,-a.left/r,-a.top/n,1]},applyTo2d:function(a){var r=a.imageData,n=a.filterBackend.resources,u=r.data,h=u.length,s=r.width,d=r.height,p,_,S,b,w,L,P,H,K,dt,yt=this.image,St;n.blendImage||(n.blendImage=l.util.createCanvasElement()),K=n.blendImage,dt=K.getContext("2d"),K.width!==s||K.height!==d?(K.width=s,K.height=d):dt.clearRect(0,0,s,d),dt.setTransform(yt.scaleX,0,0,yt.scaleY,yt.left,yt.top),dt.drawImage(yt._element,0,0,s,d),St=dt.getImageData(0,0,s,d).data;for(var pt=0;pt<h;pt+=4)switch(w=u[pt],L=u[pt+1],P=u[pt+2],H=u[pt+3],p=St[pt],_=St[pt+1],S=St[pt+2],b=St[pt+3],this.mode){case"multiply":u[pt]=w*p/255,u[pt+1]=L*_/255,u[pt+2]=P*S/255,u[pt+3]=H*b/255;break;case"mask":u[pt+3]=b;break}},getUniformLocations:function(a,r){return{uTransformMatrix:a.getUniformLocation(r,"uTransformMatrix"),uImage:a.getUniformLocation(r,"uImage")}},sendUniformData:function(a,r){var n=this.calculateMatrix();a.uniform1i(r.uImage,1),a.uniformMatrix3fv(r.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),l.Image.filters.BlendImage.fromObject=function(a,r){l.Image.fromObject(a.image,function(n){var u=l.util.object.clone(a);u.image=n,r(new l.Image.filters.BlendImage(u))})}}(C),function(m){var l=m.fabric||(m.fabric={}),c=Math.pow,f=Math.floor,a=Math.sqrt,r=Math.abs,n=Math.round,u=Math.sin,h=Math.ceil,s=l.Image.filters,d=l.util.createClass;s.Resize=d(s.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(p,_){return{uDelta:p.getUniformLocation(_,"uDelta"),uTaps:p.getUniformLocation(_,"uTaps")}},sendUniformData:function(p,_){p.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),p.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(p){var _=this.getFilterWindow(),S=this.type+"_"+_;if(!p.programCache.hasOwnProperty(S)){var b=this.generateShader(_);p.programCache[S]=this.createProgram(p.context,b)}return p.programCache[S]},getFilterWindow:function(){var p=this.tempScale;return Math.ceil(this.lanczosLobes/p)},getTaps:function(){for(var p=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,S=this.getFilterWindow(),b=new Array(S),w=1;w<=S;w++)b[w-1]=p(w*_);return b},generateShader:function(b){for(var _=new Array(b),S=this.fragmentSourceTOP,b,w=1;w<=b;w++)_[w-1]=w+".0 * uDelta";return S+="uniform float uTaps["+b+`];
`,S+=`void main() {
`,S+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,S+=`  float sum = 1.0;
`,_.forEach(function(L,P){S+="  color += texture2D(uTexture, vTexCoord + "+L+") * uTaps["+P+`];
`,S+="  color += texture2D(uTexture, vTexCoord - "+L+") * uTaps["+P+`];
`,S+="  sum += 2.0 * uTaps["+P+`];
`}),S+=`  gl_FragColor = color / sum;
`,S+="}",S},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(p){p.webgl?(p.passes++,this.width=p.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=p.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),p.destinationWidth=this.dW,this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p),p.sourceWidth=p.destinationWidth,this.height=p.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),p.destinationHeight=this.dH,this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p),p.sourceHeight=p.destinationHeight):this.applyTo2d(p)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(p){return function(_){if(_>=p||_<=-p)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var S=_/p;return u(_)/_*u(S)/S}},applyTo2d:function(p){var _=p.imageData,S=this.scaleX,b=this.scaleY;this.rcpScaleX=1/S,this.rcpScaleY=1/b;var w=_.width,L=_.height,P=n(w*S),H=n(L*b),K;this.resizeType==="sliceHack"?K=this.sliceByTwo(p,w,L,P,H):this.resizeType==="hermite"?K=this.hermiteFastResize(p,w,L,P,H):this.resizeType==="bilinear"?K=this.bilinearFiltering(p,w,L,P,H):this.resizeType==="lanczos"&&(K=this.lanczosResize(p,w,L,P,H)),p.imageData=K},sliceByTwo:function(p,_,S,b,w){var L=p.imageData,P=.5,H=!1,K=!1,dt=_*P,yt=S*P,St=l.filterBackend.resources,pt,vt,tt=0,mt=0,ft=_,O=0;for(St.sliceByTwo||(St.sliceByTwo=document.createElement("canvas")),pt=St.sliceByTwo,(pt.width<_*1.5||pt.height<S)&&(pt.width=_*1.5,pt.height=S),vt=pt.getContext("2d"),vt.clearRect(0,0,_*1.5,S),vt.putImageData(L,0,0),b=f(b),w=f(w);!H||!K;)_=dt,S=yt,b<f(dt*P)?dt=f(dt*P):(dt=b,H=!0),w<f(yt*P)?yt=f(yt*P):(yt=w,K=!0),vt.drawImage(pt,tt,mt,_,S,ft,O,dt,yt),tt=ft,mt=O,O+=yt;return vt.getImageData(tt,mt,b,w)},lanczosResize:function(p,_,S,b,w){function L(M){var B,X,R,E,U,G,Q,W,it,ht,_t;for(O.x=(M+.5)*yt,x.x=f(O.x),B=0;B<w;B++){for(O.y=(B+.5)*St,x.y=f(O.y),U=0,G=0,Q=0,W=0,it=0,X=x.x-tt;X<=x.x+tt;X++)if(!(X<0||X>=_)){ht=f(1e3*r(X-O.x)),ft[ht]||(ft[ht]={});for(var J=x.y-mt;J<=x.y+mt;J++)J<0||J>=S||(_t=f(1e3*r(J-O.y)),ft[ht][_t]||(ft[ht][_t]=dt(a(c(ht*pt,2)+c(_t*vt,2))/1e3)),R=ft[ht][_t],R>0&&(E=(J*_+X)*4,U+=R,G+=R*P[E],Q+=R*P[E+1],W+=R*P[E+2],it+=R*P[E+3]))}E=(B*b+M)*4,K[E]=G/U,K[E+1]=Q/U,K[E+2]=W/U,K[E+3]=it/U}return++M<b?L(M):H}var P=p.imageData.data,H=p.ctx.createImageData(b,w),K=H.data,dt=this.lanczosCreate(this.lanczosLobes),yt=this.rcpScaleX,St=this.rcpScaleY,pt=2/this.rcpScaleX,vt=2/this.rcpScaleY,tt=h(yt*this.lanczosLobes/2),mt=h(St*this.lanczosLobes/2),ft={},O={},x={};return L(0)},bilinearFiltering:function(p,_,S,b,w){var L,P,H,K,dt,yt,St,pt,vt,tt,mt,ft,O=0,x,M=this.rcpScaleX,B=this.rcpScaleY,X=4*(_-1),R=p.imageData,E=R.data,U=p.ctx.createImageData(b,w),G=U.data;for(St=0;St<w;St++)for(pt=0;pt<b;pt++)for(dt=f(M*pt),yt=f(B*St),vt=M*pt-dt,tt=B*St-yt,x=4*(yt*_+dt),mt=0;mt<4;mt++)L=E[x+mt],P=E[x+4+mt],H=E[x+X+mt],K=E[x+X+4+mt],ft=L*(1-vt)*(1-tt)+P*vt*(1-tt)+H*tt*(1-vt)+K*vt*tt,G[O++]=ft;return U},hermiteFastResize:function(p,_,S,b,w){for(var L=this.rcpScaleX,P=this.rcpScaleY,H=h(L/2),K=h(P/2),dt=p.imageData,yt=dt.data,St=p.ctx.createImageData(b,w),pt=St.data,vt=0;vt<w;vt++)for(var tt=0;tt<b;tt++){for(var mt=(tt+vt*b)*4,ft=0,O=0,x=0,M=0,B=0,X=0,R=0,E=(vt+.5)*P,U=f(vt*P);U<(vt+1)*P;U++)for(var G=r(E-(U+.5))/K,Q=(tt+.5)*L,W=G*G,it=f(tt*L);it<(tt+1)*L;it++){var ht=r(Q-(it+.5))/H,_t=a(W+ht*ht);_t>1&&_t<-1||(ft=2*_t*_t*_t-3*_t*_t+1,ft>0&&(ht=4*(it+U*_),R+=ft*yt[ht+3],x+=ft,yt[ht+3]<255&&(ft=ft*yt[ht+3]/250),M+=ft*yt[ht],B+=ft*yt[ht+1],X+=ft*yt[ht+2],O+=ft))}pt[mt]=M/O,pt[mt+1]=B/O,pt[mt+2]=X/O,pt[mt+3]=R/x}return St},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),l.Image.filters.Resize.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Contrast=f(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(a){if(this.contrast!==0){var r=a.imageData,n,h,u=r.data,h=u.length,s=Math.floor(this.contrast*255),d=259*(s+255)/(255*(259-s));for(n=0;n<h;n+=4)u[n]=d*(u[n]-128)+128,u[n+1]=d*(u[n+1]-128)+128,u[n+2]=d*(u[n+2]-128)+128}},getUniformLocations:function(a,r){return{uContrast:a.getUniformLocation(r,"uContrast")}},sendUniformData:function(a,r){a.uniform1f(r.uContrast,this.contrast)}}),l.Image.filters.Contrast.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Saturation=f(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(a){if(this.saturation!==0){var r=a.imageData,n=r.data,u=n.length,h=-this.saturation,s,d;for(s=0;s<u;s+=4)d=Math.max(n[s],n[s+1],n[s+2]),n[s]+=d!==n[s]?(d-n[s])*h:0,n[s+1]+=d!==n[s+1]?(d-n[s+1])*h:0,n[s+2]+=d!==n[s+2]?(d-n[s+2])*h:0}},getUniformLocations:function(a,r){return{uSaturation:a.getUniformLocation(r,"uSaturation")}},sendUniformData:function(a,r){a.uniform1f(r.uSaturation,-this.saturation)}}),l.Image.filters.Saturation.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Vibrance=f(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(a){if(this.vibrance!==0){var r=a.imageData,n=r.data,u=n.length,h=-this.vibrance,s,d,p,_;for(s=0;s<u;s+=4)d=Math.max(n[s],n[s+1],n[s+2]),p=(n[s]+n[s+1]+n[s+2])/3,_=Math.abs(d-p)*2/255*h,n[s]+=d!==n[s]?(d-n[s])*_:0,n[s+1]+=d!==n[s+1]?(d-n[s+1])*_:0,n[s+2]+=d!==n[s+2]?(d-n[s+2])*_:0}},getUniformLocations:function(a,r){return{uVibrance:a.getUniformLocation(r,"uVibrance")}},sendUniformData:function(a,r){a.uniform1f(r.uVibrance,-this.vibrance)}}),l.Image.filters.Vibrance.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Blur=f(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(a){a.webgl?(this.aspectRatio=a.sourceWidth/a.sourceHeight,a.passes++,this._setupFrameBuffer(a),this.horizontal=!0,this.applyToWebGL(a),this._swapTextures(a),this._setupFrameBuffer(a),this.horizontal=!1,this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},applyTo2d:function(a){a.imageData=this.simpleBlur(a)},simpleBlur:function(a){var r=a.filterBackend.resources,n,u,h=a.imageData.width,s=a.imageData.height;r.blurLayer1||(r.blurLayer1=l.util.createCanvasElement(),r.blurLayer2=l.util.createCanvasElement()),n=r.blurLayer1,u=r.blurLayer2,(n.width!==h||n.height!==s)&&(u.width=n.width=h,u.height=n.height=s);var d=n.getContext("2d"),p=u.getContext("2d"),_=15,S,b,w,L,P=this.blur*.06*.5;for(d.putImageData(a.imageData,0,0),p.clearRect(0,0,h,s),L=-15;L<=_;L++)S=(Math.random()-.5)/4,b=L/_,w=P*b*h+S,p.globalAlpha=1-Math.abs(b),p.drawImage(n,w,S),d.drawImage(u,0,0),p.globalAlpha=1,p.clearRect(0,0,u.width,u.height);for(L=-15;L<=_;L++)S=(Math.random()-.5)/4,b=L/_,w=P*b*s+S,p.globalAlpha=1-Math.abs(b),p.drawImage(n,S,w),d.drawImage(u,0,0),p.globalAlpha=1,p.clearRect(0,0,u.width,u.height);a.ctx.drawImage(n,0,0);var H=a.ctx.getImageData(0,0,n.width,n.height);return d.globalAlpha=1,d.clearRect(0,0,n.width,n.height),H},getUniformLocations:function(a,r){return{delta:a.getUniformLocation(r,"uDelta")}},sendUniformData:function(a,r){var n=this.chooseRightDelta();a.uniform2fv(r.delta,n)},chooseRightDelta:function(){var a=1,r=[0,0],n;return this.horizontal?this.aspectRatio>1&&(a=1/this.aspectRatio):this.aspectRatio<1&&(a=this.aspectRatio),n=a*this.blur*.12,this.horizontal?r[0]=n:r[1]=n,r}}),c.Blur.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Gamma=f(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(a){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,a)},applyTo2d:function(a){var r=a.imageData,n=r.data,u=this.gamma,h=n.length,s=1/u[0],d=1/u[1],p=1/u[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,h=256;_<h;_++)this.rVals[_]=Math.pow(_/255,s)*255,this.gVals[_]=Math.pow(_/255,d)*255,this.bVals[_]=Math.pow(_/255,p)*255;for(_=0,h=n.length;_<h;_+=4)n[_]=this.rVals[n[_]],n[_+1]=this.gVals[n[_+1]],n[_+2]=this.bVals[n[_+2]]},getUniformLocations:function(a,r){return{uGamma:a.getUniformLocation(r,"uGamma")}},sendUniformData:function(a,r){a.uniform3fv(r.uGamma,this.gamma)}}),l.Image.filters.Gamma.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Composed=f(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(a){this.callSuper("initialize",a),this.subFilters=this.subFilters.slice(0)},applyTo:function(a){a.passes+=this.subFilters.length-1,this.subFilters.forEach(function(r){r.applyTo(a)})},toObject:function(){return l.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(a){return a.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(a){return!a.isNeutralState()})}}),l.Image.filters.Composed.fromObject=function(a,r){var n=a.subFilters||[],u=n.map(function(s){return new l.Image.filters[s.type](s)}),h=new l.Image.filters.Composed({subFilters:u});return r&&r(h),h}}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.Image.filters,f=l.util.createClass;c.HueRotation=f(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var a=this.rotation*Math.PI,r=l.util.cos(a),n=l.util.sin(a),u=1/3,h=Math.sqrt(u)*n,s=1-r;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=r+s/3,this.matrix[1]=u*s-h,this.matrix[2]=u*s+h,this.matrix[5]=u*s+h,this.matrix[6]=r+u*s,this.matrix[7]=u*s-h,this.matrix[10]=u*s-h,this.matrix[11]=u*s+h,this.matrix[12]=r+u*s},isNeutralState:function(a){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,a)},applyTo:function(a){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,a)}}),l.Image.filters.HueRotation.fromObject=l.Image.filters.BaseFilter.fromObject}(C),function(m){var l=m.fabric||(m.fabric={}),c=l.util.object.clone;if(l.Text){l.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");l.Text=l.util.createClass(l.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:l.Object.prototype.stateProperties.concat(f),cacheProperties:l.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(a,r){this.styles=r?r.styles||{}:{},this.text=a,this.__skipDimension=!0,this.callSuper("initialize",r),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var a=this.path;a&&(a.segmentsInfo=l.util.getPathSegmentsInfo(a.path))},getMeasuringContext:function(){return l._measuringContext||(l._measuringContext=this.canvas&&this.canvas.contextCache||l.util.createCanvasElement().getContext("2d")),l._measuringContext},_splitText:function(){var a=this._splitTextIntoLines(this.text);return this.textLines=a.lines,this._textLines=a.graphemeLines,this._unwrappedTextLines=a._unwrappedLines,this._text=a.graphemeText,a},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var a,r,n,u,h,s,d,p=0,_=this._textLines.length;p<_;p++)if(!(this.textAlign!=="justify"&&(p===_-1||this.isEndOfWrapping(p)))&&(u=0,h=this._textLines[p],r=this.getLineWidth(p),r<this.width&&(d=this.textLines[p].match(this._reSpacesAndTabs)))){n=d.length,a=(this.width-r)/n;for(var S=0,b=h.length;S<=b;S++)s=this.__charBounds[p][S],this._reSpaceAndTab.test(h[S])?(s.width+=a,s.kernedWidth+=a,s.left+=u,u+=a):s.left+=u}},isEndOfWrapping:function(a){return a===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var a=this.callSuper("_getCacheCanvasDimensions"),r=this.fontSize;return a.width+=r*a.zoomX,a.height+=r*a.zoomY,a},_render:function(a){var r=this.path;r&&!r.isNotVisible()&&r._render(a),this._setTextStyles(a),this._renderTextLinesBackground(a),this._renderTextDecoration(a,"underline"),this._renderText(a),this._renderTextDecoration(a,"overline"),this._renderTextDecoration(a,"linethrough")},_renderText:function(a){this.paintFirst==="stroke"?(this._renderTextStroke(a),this._renderTextFill(a)):(this._renderTextFill(a),this._renderTextStroke(a))},_setTextStyles:function(a,r,n){if(a.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":a.textBaseline="middle";break;case"ascender":a.textBaseline="top";break;case"descender":a.textBaseline="bottom";break}a.font=this._getFontDeclaration(r,n)},calcTextWidth:function(){for(var a=this.getLineWidth(0),r=1,n=this._textLines.length;r<n;r++){var u=this.getLineWidth(r);u>a&&(a=u)}return a},_renderTextLine:function(a,r,n,u,h,s){this._renderChars(a,r,n,u,h,s)},_renderTextLinesBackground:function(a){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var r,n,u=a.fillStyle,h,s,d=this._getLeftOffset(),p=this._getTopOffset(),_=0,S=0,b,w,L=this.path,P,H=0,K=this._textLines.length;H<K;H++){if(r=this.getHeightOfLine(H),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",H)){p+=r;continue}h=this._textLines[H],n=this._getLineLeftOffset(H),S=0,_=0,s=this.getValueOfPropertyAt(H,0,"textBackgroundColor");for(var dt=0,yt=h.length;dt<yt;dt++)b=this.__charBounds[H][dt],w=this.getValueOfPropertyAt(H,dt,"textBackgroundColor"),L?(a.save(),a.translate(b.renderLeft,b.renderTop),a.rotate(b.angle),a.fillStyle=w,w&&a.fillRect(-b.width/2,-r/this.lineHeight*(1-this._fontSizeFraction),b.width,r/this.lineHeight),a.restore()):w!==s?(P=d+n+_,this.direction==="rtl"&&(P=this.width-P-S),a.fillStyle=s,s&&a.fillRect(P,p,S,r/this.lineHeight),_=b.left,S=b.width,s=w):S+=b.kernedWidth;w&&!L&&(P=d+n+_,this.direction==="rtl"&&(P=this.width-P-S),a.fillStyle=w,a.fillRect(P,p,S,r/this.lineHeight)),p+=r}a.fillStyle=u,this._removeShadow(a)}},getFontCache:function(a){var r=a.fontFamily.toLowerCase();l.charWidthsCache[r]||(l.charWidthsCache[r]={});var n=l.charWidthsCache[r],u=a.fontStyle.toLowerCase()+"_"+(a.fontWeight+"").toLowerCase();return n[u]||(n[u]={}),n[u]},_measureChar:function(a,r,n,u){var h=this.getFontCache(r),s=this._getFontDeclaration(r),d=this._getFontDeclaration(u),p=n+a,_=s===d,S,b,w,L=r.fontSize/this.CACHE_FONT_SIZE,P;if(n&&h[n]!==void 0&&(w=h[n]),h[a]!==void 0&&(P=S=h[a]),_&&h[p]!==void 0&&(b=h[p],P=b-w),S===void 0||w===void 0||b===void 0){var H=this.getMeasuringContext();this._setTextStyles(H,r,!0)}return S===void 0&&(P=S=H.measureText(a).width,h[a]=S),w===void 0&&_&&n&&(w=H.measureText(n).width,h[n]=w),_&&b===void 0&&(b=H.measureText(p).width,h[p]=b,P=b-w),{width:S*L,kernedWidth:P*L}},getHeightOfChar:function(a,r){return this.getValueOfPropertyAt(a,r,"fontSize")},measureLine:function(a){var r=this._measureLine(a);return this.charSpacing!==0&&(r.width-=this._getWidthOfCharSpacing()),r.width<0&&(r.width=0),r},_measureLine:function(a){var r=0,n,u,h=this._textLines[a],s,d,p=0,_=new Array(h.length),S=0,b,w,L=this.path,P=this.pathSide==="right";for(this.__charBounds[a]=_,n=0;n<h.length;n++)u=h[n],d=this._getGraphemeBox(u,a,n,s),_[n]=d,r+=d.kernedWidth,s=u;if(_[n]={left:d?d.left+d.width:0,width:0,kernedWidth:0,height:this.fontSize},L){switch(w=L.segmentsInfo[L.segmentsInfo.length-1].length,b=l.util.getPointOnPath(L.path,0,L.segmentsInfo),b.x+=L.pathOffset.x,b.y+=L.pathOffset.y,this.textAlign){case"left":S=P?w-r:0;break;case"center":S=(w-r)/2;break;case"right":S=P?0:w-r;break}for(S+=this.pathStartOffset*(P?-1:1),n=P?h.length-1:0;P?n>=0:n<h.length;P?n--:n++)d=_[n],S>w?S%=w:S<0&&(S+=w),this._setGraphemeOnPath(S,d,b),S+=d.kernedWidth}return{width:r,numOfSpaces:p}},_setGraphemeOnPath:function(a,r,n){var u=a+r.kernedWidth/2,h=this.path,s=l.util.getPointOnPath(h.path,u,h.segmentsInfo);r.renderLeft=s.x-n.x,r.renderTop=s.y-n.y,r.angle=s.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(a,r,n,u,h){var s=this.getCompleteStyleDeclaration(r,n),d=u?this.getCompleteStyleDeclaration(r,n-1):{},p=this._measureChar(a,s,u,d),_=p.kernedWidth,S=p.width,b;this.charSpacing!==0&&(b=this._getWidthOfCharSpacing(),S+=b,_+=b);var w={width:S,left:0,height:s.fontSize,kernedWidth:_,deltaY:s.deltaY};if(n>0&&!h){var L=this.__charBounds[r][n-1];w.left=L.left+L.width+p.kernedWidth-p.width}return w},getHeightOfLine:function(a){if(this.__lineHeights[a])return this.__lineHeights[a];for(var r=this._textLines[a],n=this.getHeightOfChar(a,0),u=1,h=r.length;u<h;u++)n=Math.max(this.getHeightOfChar(a,u),n);return this.__lineHeights[a]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var a,r=0,n=0,u=this._textLines.length;n<u;n++)a=this.getHeightOfLine(n),r+=n===u-1?a/this.lineHeight:a;return r},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(a,r){a.save();for(var n=0,u=this._getLeftOffset(),h=this._getTopOffset(),s=0,d=this._textLines.length;s<d;s++){var p=this.getHeightOfLine(s),_=p/this.lineHeight,S=this._getLineLeftOffset(s);this._renderTextLine(r,a,this._textLines[s],u+S,h+n+_,s),n+=p}a.restore()},_renderTextFill:function(a){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(a,"fillText")},_renderTextStroke:function(a){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray),a.beginPath(),this._renderTextCommon(a,"strokeText"),a.closePath(),a.restore())},_renderChars:function(a,r,n,u,h,s){var d=this.getHeightOfLine(s),p=this.textAlign.indexOf("justify")!==-1,_,S,b="",w,L=0,P,H=this.path,K=!p&&this.charSpacing===0&&this.isEmptyStyles(s)&&!H,dt=this.direction==="ltr",yt=this.direction==="ltr"?1:-1,St,pt=r.canvas.getAttribute("dir");if(r.save(),pt!==this.direction&&(r.canvas.setAttribute("dir",dt?"ltr":"rtl"),r.direction=dt?"ltr":"rtl",r.textAlign=dt?"left":"right"),h-=d*this._fontSizeFraction/this.lineHeight,K){this._renderChar(a,r,s,0,n.join(""),u,h,d),r.restore();return}for(var vt=0,tt=n.length-1;vt<=tt;vt++)P=vt===tt||this.charSpacing||H,b+=n[vt],w=this.__charBounds[s][vt],L===0?(u+=yt*(w.kernedWidth-w.width),L+=w.width):L+=w.kernedWidth,p&&!P&&this._reSpaceAndTab.test(n[vt])&&(P=!0),P||(_=_||this.getCompleteStyleDeclaration(s,vt),S=this.getCompleteStyleDeclaration(s,vt+1),P=l.util.hasStyleChanged(_,S,!1)),P&&(H?(r.save(),r.translate(w.renderLeft,w.renderTop),r.rotate(w.angle),this._renderChar(a,r,s,vt,b,-L/2,0,d),r.restore()):(St=u,this._renderChar(a,r,s,vt,b,St,h,d)),b="",_=S,u+=yt*L,L=0);r.restore()},_applyPatternGradientTransformText:function(a){var r=l.util.createCanvasElement(),n,u=this.width+this.strokeWidth,h=this.height+this.strokeWidth;return r.width=u,r.height=h,n=r.getContext("2d"),n.beginPath(),n.moveTo(0,0),n.lineTo(u,0),n.lineTo(u,h),n.lineTo(0,h),n.closePath(),n.translate(u/2,h/2),n.fillStyle=a.toLive(n),this._applyPatternGradientTransform(n,a),n.fill(),n.createPattern(r,"no-repeat")},handleFiller:function(a,r,n){var u,h;return n.toLive?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(u=-this.width/2,h=-this.height/2,a.translate(u,h),a[r]=this._applyPatternGradientTransformText(n),{offsetX:u,offsetY:h}):(a[r]=n.toLive(a,this),this._applyPatternGradientTransform(a,n)):(a[r]=n,{offsetX:0,offsetY:0})},_setStrokeStyles:function(a,r){return a.lineWidth=r.strokeWidth,a.lineCap=this.strokeLineCap,a.lineDashOffset=this.strokeDashOffset,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,this.handleFiller(a,"strokeStyle",r.stroke)},_setFillStyles:function(a,r){return this.handleFiller(a,"fillStyle",r.fill)},_renderChar:function(a,r,n,u,h,s,d){var p=this._getStyleDeclaration(n,u),_=this.getCompleteStyleDeclaration(n,u),S=a==="fillText"&&_.fill,b=a==="strokeText"&&_.stroke&&_.strokeWidth,w,L;!b&&!S||(r.save(),S&&(w=this._setFillStyles(r,_)),b&&(L=this._setStrokeStyles(r,_)),r.font=this._getFontDeclaration(_),p&&p.textBackgroundColor&&this._removeShadow(r),p&&p.deltaY&&(d+=p.deltaY),S&&r.fillText(h,s-w.offsetX,d-w.offsetY),b&&r.strokeText(h,s-L.offsetX,d-L.offsetY),r.restore())},setSuperscript:function(a,r){return this._setScript(a,r,this.superscript)},setSubscript:function(a,r){return this._setScript(a,r,this.subscript)},_setScript:function(a,r,n){var u=this.get2DCursorLocation(a,!0),h=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize"),s=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"deltaY"),d={fontSize:h*n.size,deltaY:s+h*n.baseline};return this.setSelectionStyles(d,a,r),this},_getLineLeftOffset:function(a){var r=this.getLineWidth(a),n=this.width-r,u=this.textAlign,h=this.direction,d,s=0,d=this.isEndOfWrapping(a);return u==="justify"||u==="justify-center"&&!d||u==="justify-right"&&!d||u==="justify-left"&&!d?0:(u==="center"&&(s=n/2),u==="right"&&(s=n),u==="justify-center"&&(s=n/2),u==="justify-right"&&(s=n),h==="rtl"&&(s-=n),s)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var a=this._forceClearCache;return a||(a=this.hasStateChanged("_dimensionAffectingProps")),a&&(this.dirty=!0,this._forceClearCache=!1),a},getLineWidth:function(a){if(this.__lineWidths[a]!==void 0)return this.__lineWidths[a];var r=this.measureLine(a),n=r.width;return this.__lineWidths[a]=n,n},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(a,r,n){var u=this._getStyleDeclaration(a,r);return u&&typeof u[n]<"u"?u[n]:this[n]},_renderTextDecoration:function(a,r){if(!(!this[r]&&!this.styleHas(r))){for(var n,u,h,s,d,p,_,S,b=this._getLeftOffset(),w=this._getTopOffset(),L,P,H,K,dt,yt,St,pt,vt=this.path,tt=this._getWidthOfCharSpacing(),mt=this.offsets[r],ft=0,O=this._textLines.length;ft<O;ft++){if(n=this.getHeightOfLine(ft),!this[r]&&!this.styleHas(r,ft)){w+=n;continue}_=this._textLines[ft],yt=n/this.lineHeight,s=this._getLineLeftOffset(ft),P=0,H=0,S=this.getValueOfPropertyAt(ft,0,r),pt=this.getValueOfPropertyAt(ft,0,"fill"),L=w+yt*(1-this._fontSizeFraction),u=this.getHeightOfChar(ft,0),d=this.getValueOfPropertyAt(ft,0,"deltaY");for(var x=0,M=_.length;x<M;x++)if(K=this.__charBounds[ft][x],dt=this.getValueOfPropertyAt(ft,x,r),St=this.getValueOfPropertyAt(ft,x,"fill"),h=this.getHeightOfChar(ft,x),p=this.getValueOfPropertyAt(ft,x,"deltaY"),vt&&dt&&St)a.save(),a.fillStyle=pt,a.translate(K.renderLeft,K.renderTop),a.rotate(K.angle),a.fillRect(-K.kernedWidth/2,mt*h+p,K.kernedWidth,this.fontSize/15),a.restore();else if((dt!==S||St!==pt||h!==u||p!==d)&&H>0){var B=b+s+P;this.direction==="rtl"&&(B=this.width-B-H),S&&pt&&(a.fillStyle=pt,a.fillRect(B,L+mt*u+d,H,this.fontSize/15)),P=K.left,H=K.width,S=dt,pt=St,u=h,d=p}else H+=K.kernedWidth;var B=b+s+P;this.direction==="rtl"&&(B=this.width-B-H),a.fillStyle=St,dt&&St&&a.fillRect(B,L+mt*u+d,H-tt,this.fontSize/15),w+=n}this._removeShadow(a)}},_getFontDeclaration:function(a,r){var n=a||this,u=this.fontFamily,h=l.Text.genericFonts.indexOf(u.toLowerCase())>-1,s=u===void 0||u.indexOf("'")>-1||u.indexOf(",")>-1||u.indexOf('"')>-1||h?n.fontFamily:'"'+n.fontFamily+'"';return[l.isLikelyNode?n.fontWeight:n.fontStyle,l.isLikelyNode?n.fontStyle:n.fontWeight,r?this.CACHE_FONT_SIZE+"px":n.fontSize+"px",s].join(" ")},render:function(a){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",a)))},_splitTextIntoLines:function(a){for(var r=a.split(this._reNewline),n=new Array(r.length),u=[`
`],h=[],s=0;s<r.length;s++)n[s]=l.util.string.graphemeSplit(r[s]),h=h.concat(n[s],u);return h.pop(),{_unwrappedLines:n,lines:r,graphemeText:h,graphemeLines:n}},toObject:function(a){var r=f.concat(a),n=this.callSuper("toObject",r);return n.styles=l.util.stylesToArray(this.styles,this.text),n.path&&(n.path=this.path.toObject()),n},set:function(a,r){this.callSuper("set",a,r);var n=!1,u=!1;if(typeof a=="object")for(var h in a)h==="path"&&this.setPathInfo(),n=n||this._dimensionAffectingProps.indexOf(h)!==-1,u=u||h==="path";else n=this._dimensionAffectingProps.indexOf(a)!==-1,u=a==="path";return u&&this.setPathInfo(),n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),l.Text.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),l.Text.DEFAULT_SVG_FONT_SIZE=16,l.Text.fromElement=function(a,r,n){if(!a)return r(null);var u=l.parseAttributes(a,l.Text.ATTRIBUTE_NAMES),h=u.textAnchor||"left";if(n=l.util.object.extend(n?c(n):{},u),n.top=n.top||0,n.left=n.left||0,u.textDecoration){var s=u.textDecoration;s.indexOf("underline")!==-1&&(n.underline=!0),s.indexOf("overline")!==-1&&(n.overline=!0),s.indexOf("line-through")!==-1&&(n.linethrough=!0),delete n.textDecoration}"dx"in u&&(n.left+=u.dx),"dy"in u&&(n.top+=u.dy),"fontSize"in n||(n.fontSize=l.Text.DEFAULT_SVG_FONT_SIZE);var d="";"textContent"in a?d=a.textContent:"firstChild"in a&&a.firstChild!==null&&"data"in a.firstChild&&a.firstChild.data!==null&&(d=a.firstChild.data),d=d.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var p=n.strokeWidth;n.strokeWidth=0;var _=new l.Text(d,n),S=_.getScaledHeight()/_.height,b=(_.height+_.strokeWidth)*_.lineHeight-_.height,w=b*S,L=_.getScaledHeight()+w,P=0;h==="center"&&(P=_.getScaledWidth()/2),h==="right"&&(P=_.getScaledWidth()),_.set({left:_.left-P,top:_.top-(L-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof p<"u"?p:1}),r(_)},l.Text.fromObject=function(a,r){var n=c(a),u=a.path;return delete n.path,l.Object._fromObject("Text",n,function(h){h.styles=l.util.stylesFromArray(a.styles,a.text),u?l.Object._fromObject("Path",u,function(s){h.set("path",s),r(h)},"path"):r(h)},"text")},l.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],l.util.createAccessors&&l.util.createAccessors(l.Text)}(C),function(){v.util.object.extend(v.Text.prototype,{isEmptyStyles:function(m){if(!this.styles||typeof m<"u"&&!this.styles[m])return!0;var l=typeof m>"u"?this.styles:{line:this.styles[m]};for(var c in l)for(var f in l[c])for(var a in l[c][f])return!1;return!0},styleHas:function(m,l){if(!this.styles||!m||m===""||typeof l<"u"&&!this.styles[l])return!1;var c=typeof l>"u"?this.styles:{0:this.styles[l]};for(var f in c)for(var a in c[f])if(typeof c[f][a][m]<"u")return!0;return!1},cleanStyle:function(m){if(!this.styles||!m||m==="")return!1;var l=this.styles,c=0,f,a,r=!0,n=0,u;for(var h in l){f=0;for(var s in l[h]){var u=l[h][s],d=u.hasOwnProperty(m);c++,d?(a?u[m]!==a&&(r=!1):a=u[m],u[m]===this[m]&&delete u[m]):r=!1,Object.keys(u).length!==0?f++:delete l[h][s]}f===0&&delete l[h]}for(var p=0;p<this._textLines.length;p++)n+=this._textLines[p].length;r&&c===n&&(this[m]=a,this.removeStyle(m))},removeStyle:function(m){if(!(!this.styles||!m||m==="")){var l=this.styles,c,f,a;for(f in l){c=l[f];for(a in c)delete c[a][m],Object.keys(c[a]).length===0&&delete c[a];Object.keys(c).length===0&&delete l[f]}}},_extendStyles:function(m,l){var c=this.get2DCursorLocation(m);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex),this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{}),v.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),l)},get2DCursorLocation:function(m,l){typeof m>"u"&&(m=this.selectionStart);for(var c=l?this._unwrappedTextLines:this._textLines,f=c.length,a=0;a<f;a++){if(m<=c[a].length)return{lineIndex:a,charIndex:m};m-=c[a].length+this.missingNewlineOffset(a)}return{lineIndex:a-1,charIndex:c[a-1].length<m?c[a-1].length:m}},getSelectionStyles:function(m,l,c){typeof m>"u"&&(m=this.selectionStart||0),typeof l>"u"&&(l=this.selectionEnd||m);for(var f=[],a=m;a<l;a++)f.push(this.getStyleAtPosition(a,c));return f},getStyleAtPosition:function(m,l){var c=this.get2DCursorLocation(m),f=l?this.getCompleteStyleDeclaration(c.lineIndex,c.charIndex):this._getStyleDeclaration(c.lineIndex,c.charIndex);return f||{}},setSelectionStyles:function(m,l,c){typeof l>"u"&&(l=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||l);for(var f=l;f<c;f++)this._extendStyles(f,m);return this._forceClearCache=!0,this},_getStyleDeclaration:function(m,l){var c=this.styles&&this.styles[m];return c?c[l]:null},getCompleteStyleDeclaration:function(m,l){for(var c=this._getStyleDeclaration(m,l)||{},f={},a,r=0;r<this._styleProperties.length;r++)a=this._styleProperties[r],f[a]=typeof c[a]>"u"?this[a]:c[a];return f},_setStyleDeclaration:function(m,l,c){this.styles[m][l]=c},_deleteStyleDeclaration:function(m,l){delete this.styles[m][l]},_getLineStyle:function(m){return!!this.styles[m]},_setLineStyle:function(m){this.styles[m]={}},_deleteLineStyle:function(m){delete this.styles[m]}})}(),function(){function m(l){l.textDecoration&&(l.textDecoration.indexOf("underline")>-1&&(l.underline=!0),l.textDecoration.indexOf("line-through")>-1&&(l.linethrough=!0),l.textDecoration.indexOf("overline")>-1&&(l.overline=!0),delete l.textDecoration)}v.IText=v.util.createClass(v.Text,v.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(l,c){this.callSuper("initialize",l,c),this.initBehavior()},setSelectionStart:function(l){l=Math.max(l,0),this._updateAndFire("selectionStart",l)},setSelectionEnd:function(l){l=Math.min(l,this.text.length),this._updateAndFire("selectionEnd",l)},_updateAndFire:function(l,c){this[l]!==c&&(this._fireSelectionChanged(),this[l]=c),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(l){this.clearContextTop(),this.callSuper("render",l),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(l){this.callSuper("_render",l)},clearContextTop:function(l){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this.canvas.contextTop,f=this.canvas.viewportTransform;c.save(),c.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(c),this._clearTextArea(c),l||c.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var l=this._getCursorBoundaries(),c=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(l,c):this.renderSelection(l,c),c.restore()}},_clearTextArea:function(l){var c=this.width+4,f=this.height+4;l.clearRect(-c/2,-f/2,c,f)},_getCursorBoundaries:function(l){typeof l>"u"&&(l=this.selectionStart);var c=this._getLeftOffset(),f=this._getTopOffset(),a=this._getCursorBoundariesOffsets(l);return{left:c,top:f,leftOffset:a.left,topOffset:a.top}},_getCursorBoundariesOffsets:function(l){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var c,f,a,r=0,n=0,u,h=this.get2DCursorLocation(l);a=h.charIndex,f=h.lineIndex;for(var s=0;s<f;s++)r+=this.getHeightOfLine(s);c=this._getLineLeftOffset(f);var d=this.__charBounds[f][a];return d&&(n=d.left),this.charSpacing!==0&&a===this._textLines[f].length&&(n-=this._getWidthOfCharSpacing()),u={top:r,left:c+(n>0?n:0)},this.direction==="rtl"&&(u.left*=-1),this.cursorOffsetCache=u,this.cursorOffsetCache},renderCursor:function(l,c){var f=this.get2DCursorLocation(),a=f.lineIndex,r=f.charIndex>0?f.charIndex-1:0,n=this.getValueOfPropertyAt(a,r,"fontSize"),u=this.scaleX*this.canvas.getZoom(),h=this.cursorWidth/u,s=l.topOffset,d=this.getValueOfPropertyAt(a,r,"deltaY");s+=(1-this._fontSizeFraction)*this.getHeightOfLine(a)/this.lineHeight-n*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(l,c),c.fillStyle=this.cursorColor||this.getValueOfPropertyAt(a,r,"fill"),c.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,c.fillRect(l.left+l.leftOffset-h/2,s+l.top+d,h,n)},renderSelection:function(l,c){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,a=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,r=this.textAlign.indexOf("justify")!==-1,n=this.get2DCursorLocation(f),u=this.get2DCursorLocation(a),h=n.lineIndex,s=u.lineIndex,d=n.charIndex<0?0:n.charIndex,p=u.charIndex<0?0:u.charIndex,_=h;_<=s;_++){var S=this._getLineLeftOffset(_)||0,b=this.getHeightOfLine(_),w=0,L=0,P=0;if(_===h&&(L=this.__charBounds[h][d].left),_>=h&&_<s)P=r&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===s)if(p===0)P=this.__charBounds[s][p].left;else{var H=this._getWidthOfCharSpacing();P=this.__charBounds[s][p-1].left+this.__charBounds[s][p-1].width-H}w=b,(this.lineHeight<1||_===s&&this.lineHeight>1)&&(b/=this.lineHeight);var K=l.left+S+L,dt=P-L,yt=b,St=0;this.inCompositionMode?(c.fillStyle=this.compositionColor||"black",yt=1,St=b):c.fillStyle=this.selectionColor,this.direction==="rtl"&&(K=this.width-K-dt),c.fillRect(K,l.top+l.topOffset+St,dt,yt),l.topOffset+=w}},getCurrentCharFontSize:function(){var l=this._getCurrentCharIndex();return this.getValueOfPropertyAt(l.l,l.c,"fontSize")},getCurrentCharColor:function(){var l=this._getCurrentCharIndex();return this.getValueOfPropertyAt(l.l,l.c,"fill")},_getCurrentCharIndex:function(){var l=this.get2DCursorLocation(this.selectionStart,!0),c=l.charIndex>0?l.charIndex-1:0;return{l:l.lineIndex,c}}}),v.IText.fromObject=function(l,c){var f=v.util.stylesFromArray(l.styles,l.text),a=Object.assign({},l,{styles:f});if(m(a),a.styles)for(var r in a.styles)for(var n in a.styles[r])m(a.styles[r][n]);v.Object._fromObject("IText",a,c,"text")}}(),function(){var m=v.util.object.clone;v.util.object.extend(v.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var l=this;this.on("added",function(){var c=l.canvas;c&&(c._hasITextHandlers||(c._hasITextHandlers=!0,l._initCanvasHandlers(c)),c._iTextInstances=c._iTextInstances||[],c._iTextInstances.push(l))})},initRemovedHandler:function(){var l=this;this.on("removed",function(){var c=l.canvas;c&&(c._iTextInstances=c._iTextInstances||[],v.util.removeFromArray(c._iTextInstances,l),c._iTextInstances.length===0&&(c._hasITextHandlers=!1,l._removeCanvasHandlers(c)))})},_initCanvasHandlers:function(l){l._mouseUpITextHandler=function(){l._iTextInstances&&l._iTextInstances.forEach(function(c){c.__isMousedown=!1})},l.on("mouse:up",l._mouseUpITextHandler)},_removeCanvasHandlers:function(l){l.off("mouse:up",l._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(l,c,f,a){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},l.animate("_currentCursorOpacity",c,{duration:f,onComplete:function(){r.isAborted||l[a]()},onChange:function(){l.canvas&&l.selectionStart===l.selectionEnd&&l.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var l=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){l._currentTickCompleteState=l._animateCursor(l,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(l){var c=this,f=l?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){c._tick()},f)},abortCursorAnimation:function(){var l=this._currentTickState||this._currentTickCompleteState,c=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,l&&c&&c.clearContext(c.contextTop||c.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(l){var c=0,f=l-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f--;for(;/\S/.test(this._text[f])&&f>-1;)c++,f--;return l-c},findWordBoundaryRight:function(l){var c=0,f=l;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)c++,f++;return l+c},findLineBoundaryLeft:function(l){for(var c=0,f=l-1;!/\n/.test(this._text[f])&&f>-1;)c++,f--;return l-c},findLineBoundaryRight:function(l){for(var c=0,f=l;!/\n/.test(this._text[f])&&f<this._text.length;)c++,f++;return l+c},searchWordBoundary:function(l,c){for(var f=this._text,a=this._reSpace.test(f[l])?l-1:l,r=f[a],n=v.reNonWord;!n.test(r)&&a>0&&a<f.length;)a+=c,r=f[a];return n.test(r)&&(a+=c===1?0:1),a},selectWord:function(l){l=l||this.selectionStart;var c=this.searchWordBoundary(l,-1),f=this.searchWordBoundary(l,1);this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(l){l=l||this.selectionStart;var c=this.findLineBoundaryLeft(l),f=this.findLineBoundaryRight(l);return this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(l){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(l),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(l){l._iTextInstances&&l._iTextInstances.forEach(function(c){c.selected=!1,c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(l){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var c=this.getSelectionStartFromPointer(l.e),f=this.selectionStart,a=this.selectionEnd;(c!==this.__selectionStartOnMouseDown||f===a)&&(f===c||a===c)||(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==a)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(l,c,f){var a=f.slice(0,l),r=v.util.string.graphemeSplit(a).length;if(l===c)return{selectionStart:r,selectionEnd:r};var n=f.slice(l,c),u=v.util.string.graphemeSplit(n).length;return{selectionStart:r,selectionEnd:r+u}},fromGraphemeToStringSelection:function(l,c,f){var a=f.slice(0,l),r=a.join("").length;if(l===c)return{selectionStart:r,selectionEnd:r};var n=f.slice(l,c),u=n.join("").length;return{selectionStart:r,selectionEnd:r+u}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var l=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=l.selectionStart,this.hiddenTextarea.selectionEnd=l.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var l=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=l.selectionEnd,this.inCompositionMode||(this.selectionStart=l.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var l=this._calcTextareaPosition();this.hiddenTextarea.style.left=l.left,this.hiddenTextarea.style.top=l.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var l=this.inCompositionMode?this.compositionStart:this.selectionStart,c=this._getCursorBoundaries(l),f=this.get2DCursorLocation(l),a=f.lineIndex,r=f.charIndex,n=this.getValueOfPropertyAt(a,r,"fontSize")*this.lineHeight,u=c.leftOffset,h=this.calcTransformMatrix(),s={x:c.left+u,y:c.top+c.topOffset+n},d=this.canvas.getRetinaScaling(),p=this.canvas.upperCanvasEl,_=p.width/d,S=p.height/d,b=_-n,w=S-n,L=p.clientWidth/_,P=p.clientHeight/S;return s=v.util.transformPoint(s,h),s=v.util.transformPoint(s,this.canvas.viewportTransform),s.x*=L,s.y*=P,s.x<0&&(s.x=0),s.x>b&&(s.x=b),s.y<0&&(s.y=0),s.y>w&&(s.y=w),s.x+=this.canvas._offset.left,s.y+=this.canvas._offset.top,{left:s.x+"px",top:s.y+"px",fontSize:n+"px",charHeight:n}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var l=this._textBeforeEdit!==this.text,c=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,c&&(c.blur&&c.blur(),c.parentNode&&c.parentNode.removeChild(c)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),l&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),l&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var l in this.styles)this._textLines[l]||delete this.styles[l]},removeStyleFromTo:function(l,c){var f=this.get2DCursorLocation(l,!0),a=this.get2DCursorLocation(c,!0),r=f.lineIndex,n=f.charIndex,u=a.lineIndex,h=a.charIndex,s,d;if(r!==u){if(this.styles[r])for(s=n;s<this._unwrappedTextLines[r].length;s++)delete this.styles[r][s];if(this.styles[u])for(s=h;s<this._unwrappedTextLines[u].length;s++)d=this.styles[u][s],d&&(this.styles[r]||(this.styles[r]={}),this.styles[r][n+s-h]=d);for(s=r+1;s<=u;s++)delete this.styles[s];this.shiftLineStyles(u,r-u)}else if(this.styles[r]){d=this.styles[r];var p=h-n,_,S;for(s=n;s<h;s++)delete d[s];for(S in this.styles[r])_=parseInt(S,10),_>=h&&(d[_-p]=d[S],delete d[S])}},shiftLineStyles:function(l,c){var f=m(this.styles);for(var a in this.styles){var r=parseInt(a,10);r>l&&(this.styles[r+c]=f[r],f[r-c]||delete this.styles[r])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(l,c,f,a){var r,n={},u=!1,h=this._unwrappedTextLines[l].length===c;f||(f=1),this.shiftLineStyles(l,f),this.styles[l]&&(r=this.styles[l][c===0?c:c-1]);for(var s in this.styles[l]){var d=parseInt(s,10);d>=c&&(u=!0,n[d-c]=this.styles[l][s],h&&c===0||delete this.styles[l][s])}var p=!1;for(u&&!h&&(this.styles[l+f]=n,p=!0),p&&f--;f>0;)a&&a[f-1]?this.styles[l+f]={0:m(a[f-1])}:r?this.styles[l+f]={0:m(r)}:delete this.styles[l+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(l,c,f,a){this.styles||(this.styles={});var r=this.styles[l],n=r?m(r):{};f||(f=1);for(var u in n){var h=parseInt(u,10);h>=c&&(r[h+f]=n[h],n[h-f]||delete r[h])}if(this._forceClearCache=!0,a){for(;f--;)Object.keys(a[f]).length&&(this.styles[l]||(this.styles[l]={}),this.styles[l][c+f]=m(a[f]));return}if(r)for(var s=r[c?c-1:1];s&&f--;)this.styles[l][c+f]=m(s)},insertNewStyleBlock:function(l,c,f){for(var a=this.get2DCursorLocation(c,!0),r=[0],n=0,u=0;u<l.length;u++)l[u]===`
`?(n++,r[n]=0):r[n]++;r[0]>0&&(this.insertCharStyleObject(a.lineIndex,a.charIndex,r[0],f),f=f&&f.slice(r[0]+1)),n&&this.insertNewlineStyleObject(a.lineIndex,a.charIndex+r[0],n);for(var u=1;u<n;u++)r[u]>0?this.insertCharStyleObject(a.lineIndex+u,0,r[u],f):f&&this.styles[a.lineIndex+u]&&f[0]&&(this.styles[a.lineIndex+u][0]=f[0]),f=f&&f.slice(r[u]+1);r[u]>0&&this.insertCharStyleObject(a.lineIndex+u,0,r[u],f)},setSelectionStartEndWithShift:function(l,c,f){f<=l?(c===l?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=l),this.selectionStart=f):f>l&&f<c?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(c===l?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=c),this.selectionEnd=f)},setSelectionInBoundaries:function(){var l=this.text.length;this.selectionStart>l?this.selectionStart=l:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>l?this.selectionEnd=l:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),v.util.object.extend(v.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(m){if(this.canvas){this.__newClickTime=+new Date;var l=m.pointer;this.isTripleClick(l)&&(this.fire("tripleclick",m),this._stopEvent(m.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=l,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(m){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===m.x&&this.__lastPointer.y===m.y},_stopEvent:function(m){m.preventDefault&&m.preventDefault(),m.stopPropagation&&m.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(m){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(m.e))},tripleClickHandler:function(m){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(m.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(m){!this.canvas||!this.editable||m.e.button&&m.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(m.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(m){!this.canvas||!this.editable||m.e.button&&m.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(m){if(this.__isMousedown=!1,!(!this.editable||this.group||m.transform&&m.transform.actionPerformed||m.e.button&&m.e.button!==1)){if(this.canvas){var l=this.canvas._activeObject;if(l&&l!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(m.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(m){var l=this.getSelectionStartFromPointer(m),c=this.selectionStart,f=this.selectionEnd;m.shiftKey?this.setSelectionStartEndWithShift(c,f,l):(this.selectionStart=l,this.selectionEnd=l),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(m){for(var l=this.getLocalPointer(m),c=0,f=0,a=0,r=0,n=0,u,h,s=0,d=this._textLines.length;s<d&&a<=l.y;s++)a+=this.getHeightOfLine(s)*this.scaleY,n=s,s>0&&(r+=this._textLines[s-1].length+this.missingNewlineOffset(s-1));u=this._getLineLeftOffset(n),f=u*this.scaleX,h=this._textLines[n],this.direction==="rtl"&&(l.x=this.width*this.scaleX-l.x+f);for(var p=0,_=h.length;p<_&&(c=f,f+=this.__charBounds[n][p].kernedWidth*this.scaleX,f<=l.x);p++)r++;return this._getNewSelectionStartFromOffset(l,c,f,r,_)},_getNewSelectionStartFromOffset:function(m,l,c,f,a){var r=m.x-l,n=c-m.x,u=n>r||n<0?0:1,h=f+u;return this.flipX&&(h=a-h),h>this._text.length&&(h=this._text.length),h}}),v.util.object.extend(v.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=v.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var m=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+m.top+"; left: "+m.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingｰtop: "+m.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):v.document.body.appendChild(this.hiddenTextarea),v.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),v.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),v.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),v.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),v.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),v.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),v.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),v.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),v.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(v.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(m){if(this.isEditing){var l=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(m.keyCode in l)this[l[m.keyCode]](m);else if(m.keyCode in this.ctrlKeysMapDown&&(m.ctrlKey||m.metaKey))this[this.ctrlKeysMapDown[m.keyCode]](m);else return;m.stopImmediatePropagation(),m.preventDefault(),m.keyCode>=33&&m.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(m){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(m.keyCode in this.ctrlKeysMapUp&&(m.ctrlKey||m.metaKey))this[this.ctrlKeysMapUp[m.keyCode]](m);else return;m.stopImmediatePropagation(),m.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(m){var l=this.fromPaste;if(this.fromPaste=!1,m&&m.stopPropagation(),!!this.isEditing){var c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,a=c.length,r,n,u=a-f,h=this.selectionStart,s=this.selectionEnd,d=h!==s,p,_,S;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var b=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),w=h>b.selectionStart;d?(r=this._text.slice(h,s),u+=s-h):a<f&&(w?r=this._text.slice(s+u,s):r=this._text.slice(h,h-u)),n=c.slice(b.selectionEnd-u,b.selectionEnd),r&&r.length&&(n.length&&(p=this.getSelectionStyles(h,h+1,!1),p=n.map(function(){return p[0]})),d?(_=h,S=s):w?(_=s-r.length,S=s):(_=s,S=s+r.length),this.removeStyleFromTo(_,S)),n.length&&(l&&n.join("")===v.copiedText&&!v.disableStyleCopyPaste&&(p=v.copiedTextStyle),this.insertNewStyleBlock(n,h,p)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(m){this.compositionStart=m.target.selectionStart,this.compositionEnd=m.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(v.copiedText=this.getSelectedText(),v.disableStyleCopyPaste?v.copiedTextStyle=null:v.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(m){return m&&m.clipboardData||v.window.clipboardData},_getWidthBeforeCursor:function(m,l){var c=this._getLineLeftOffset(m),f;return l>0&&(f=this.__charBounds[m][l-1],c+=f.left+f.width),c},getDownCursorOffset:function(m,l){var c=this._getSelectionForOffset(m,l),f=this.get2DCursorLocation(c),a=f.lineIndex;if(a===this._textLines.length-1||m.metaKey||m.keyCode===34)return this._text.length-c;var r=f.charIndex,n=this._getWidthBeforeCursor(a,r),u=this._getIndexOnLine(a+1,n),h=this._textLines[a].slice(r);return h.length+u+1+this.missingNewlineOffset(a)},_getSelectionForOffset:function(m,l){return m.shiftKey&&this.selectionStart!==this.selectionEnd&&l?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(m,l){var c=this._getSelectionForOffset(m,l),f=this.get2DCursorLocation(c),a=f.lineIndex;if(a===0||m.metaKey||m.keyCode===33)return-c;var r=f.charIndex,n=this._getWidthBeforeCursor(a,r),u=this._getIndexOnLine(a-1,n),h=this._textLines[a].slice(0,r),s=this.missingNewlineOffset(a-1);return-this._textLines[a-1].length+u-h.length+(1-s)},_getIndexOnLine:function(m,l){for(var c=this._textLines[m],f=this._getLineLeftOffset(m),a=f,r=0,n,u,h=0,s=c.length;h<s;h++)if(n=this.__charBounds[m][h].width,a+=n,a>l){u=!0;var d=a-n,p=a,_=Math.abs(d-l),S=Math.abs(p-l);r=S<_?h:h-1;break}return u||(r=c.length-1),r},moveCursorDown:function(m){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",m)},moveCursorUp:function(m){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",m)},_moveCursorUpOrDown:function(m,l){var c="get"+m+"CursorOffset",f=this[c](l,this._selectionDirection==="right");l.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(m){var l=this._selectionDirection==="left"?this.selectionStart+m:this.selectionEnd+m;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,l),m!==0},moveCursorWithoutShift:function(m){return m<0?(this.selectionStart+=m,this.selectionEnd=this.selectionStart):(this.selectionEnd+=m,this.selectionStart=this.selectionEnd),m!==0},moveCursorLeft:function(m){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",m)},_move:function(m,l,c){var f;if(m.altKey)f=this["findWordBoundary"+c](this[l]);else if(m.metaKey||m.keyCode===35||m.keyCode===36)f=this["findLineBoundary"+c](this[l]);else return this[l]+=c==="Left"?-1:1,!0;if(typeof f<"u"&&this[l]!==f)return this[l]=f,!0},_moveLeft:function(m,l){return this._move(m,l,"Left")},_moveRight:function(m,l){return this._move(m,l,"Right")},moveCursorLeftWithoutShift:function(m){var l=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(l=this._moveLeft(m,"selectionStart")),this.selectionEnd=this.selectionStart,l},moveCursorLeftWithShift:function(m){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(m,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(m,"selectionStart")},moveCursorRight:function(m){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",m)},_moveCursorLeftOrRight:function(m,l){var c="moveCursor"+m+"With";this._currentCursorOpacity=1,l.shiftKey?c+="Shift":c+="outShift",this[c](l)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(m){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(m,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(m,"selectionEnd")},moveCursorRightWithoutShift:function(m){var l=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(l=this._moveRight(m,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,l},removeChars:function(m,l){typeof l>"u"&&(l=m+1),this.removeStyleFromTo(m,l),this._text.splice(m,l-m),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(m,l,c,f){typeof f>"u"&&(f=c),f>c&&this.removeStyleFromTo(c,f);var a=v.util.string.graphemeSplit(m);this.insertNewStyleBlock(a,c,l),this._text=[].concat(this._text.slice(0,c),a,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var m=v.util.toFixed,l=/  +/g;v.util.object.extend(v.Text.prototype,{_toSVG:function(){var c=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(c.textTop,c.textLeft);return this._wrapSVGTextAndBg(f)},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(c){var f=!0,a=this.getSvgTextDecoration(this);return[c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",a?'text-decoration="'+a+'" ':"",'style="',this.getSvgStyles(f),'"',this.addPaintOrder()," >",c.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(c,f){var a=[],r=[],n=c,u;this._setSVGBg(r);for(var h=0,s=this._textLines.length;h<s;h++)u=this._getLineLeftOffset(h),(this.textBackgroundColor||this.styleHas("textBackgroundColor",h))&&this._setSVGTextLineBg(r,h,f+u,n),this._setSVGTextLineText(a,h,f+u,n),n+=this.getHeightOfLine(h);return{textSpans:a,textBgRects:r}},_createTextCharSpan:function(c,f,a,r){var n=c!==c.trim()||c.match(l),u=this.getSvgSpanStyles(f,n),h=u?'style="'+u+'"':"",s=f.deltaY,d="",p=v.Object.NUM_FRACTION_DIGITS;return s&&(d=' dy="'+m(s,p)+'" '),['<tspan x="',m(a,p),'" y="',m(r,p),'" ',d,h,">",v.util.string.escapeXml(c),"</tspan>"].join("")},_setSVGTextLineText:function(c,f,a,r){var n=this.getHeightOfLine(f),u=this.textAlign.indexOf("justify")!==-1,h,s,d="",p,_,S=0,b=this._textLines[f],w;r+=n*(1-this._fontSizeFraction)/this.lineHeight;for(var L=0,P=b.length-1;L<=P;L++)w=L===P||this.charSpacing,d+=b[L],p=this.__charBounds[f][L],S===0?(a+=p.kernedWidth-p.width,S+=p.width):S+=p.kernedWidth,u&&!w&&this._reSpaceAndTab.test(b[L])&&(w=!0),w||(h=h||this.getCompleteStyleDeclaration(f,L),s=this.getCompleteStyleDeclaration(f,L+1),w=v.util.hasStyleChanged(h,s,!0)),w&&(_=this._getStyleDeclaration(f,L)||{},c.push(this._createTextCharSpan(d,_,a,r)),d="",h=s,a+=S,S=0)},_pushTextBgRect:function(c,f,a,r,n,u){var h=v.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(f),' x="',m(a,h),'" y="',m(r,h),'" width="',m(n,h),'" height="',m(u,h),`"></rect>
`)},_setSVGTextLineBg:function(c,f,a,r){for(var n=this._textLines[f],u=this.getHeightOfLine(f)/this.lineHeight,h=0,s=0,d,p,_=this.getValueOfPropertyAt(f,0,"textBackgroundColor"),S=0,b=n.length;S<b;S++)d=this.__charBounds[f][S],p=this.getValueOfPropertyAt(f,S,"textBackgroundColor"),p!==_?(_&&this._pushTextBgRect(c,_,a+s,r,h,u),s=d.left,h=d.width,_=p):h+=d.kernedWidth;p&&this._pushTextBgRect(c,p,a+s,r,h,u)},_getFillAttributes:function(c){var f=c&&typeof c=="string"?new v.Color(c):"";return!f||!f.getSource()||f.getAlpha()===1?'fill="'+c+'"':'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(c){for(var f=0,a=0,r=0;r<c;r++)f+=this.getHeightOfLine(r);return a=this.getHeightOfLine(r),{lineTop:f,offset:(this._fontSizeMult-this._fontSizeFraction)*a/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(c){var f=v.Object.prototype.getSvgStyles.call(this,c);return f+" white-space: pre;"}})}(),function(m){var l=m.fabric||(m.fabric={});l.Textbox=l.util.createClass(l.IText,l.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:l.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(c){for(var f=0,a=0,r=0,n={},u=0;u<c.graphemeLines.length;u++)c.graphemeText[r]===`
`&&u>0?(a=0,r++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(c.graphemeText[r])&&u>0&&(a++,r++),n[u]={line:f,offset:a},r+=c.graphemeLines[u].length,a+=c.graphemeLines[u].length;return n},styleHas:function(c,f){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[f];a&&(f=a.line)}return l.Text.prototype.styleHas.call(this,c,f)},isEmptyStyles:function(c){if(!this.styles)return!0;var f=0,a=c+1,r,n,u=!1,h=this._styleMap[c],s=this._styleMap[c+1];h&&(c=h.line,f=h.offset),s&&(a=s.line,u=a===c,r=s.offset),n=typeof c>"u"?this.styles:{line:this.styles[c]};for(var d in n)for(var p in n[d])if(p>=f&&(!u||p<r))for(var _ in n[d][p])return!1;return!0},_getStyleDeclaration:function(c,f){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[c];if(!a)return null;c=a.line,f=a.offset+f}return this.callSuper("_getStyleDeclaration",c,f)},_setStyleDeclaration:function(c,f,a){var r=this._styleMap[c];c=r.line,f=r.offset+f,this.styles[c][f]=a},_deleteStyleDeclaration:function(c,f){var a=this._styleMap[c];c=a.line,f=a.offset+f,delete this.styles[c][f]},_getLineStyle:function(c){var f=this._styleMap[c];return!!this.styles[f.line]},_setLineStyle:function(c){var f=this._styleMap[c];this.styles[f.line]={}},_wrapText:function(c,f){var a=[],r;for(this.isWrapping=!0,r=0;r<c.length;r++)a=a.concat(this._wrapLine(c[r],r,f));return this.isWrapping=!1,a},_measureWord:function(c,f,a){var r=0,n,u=!0;a=a||0;for(var h=0,s=c.length;h<s;h++){var d=this._getGraphemeBox(c[h],f,h+a,n,u);r+=d.kernedWidth,n=c[h]}return r},_wrapLine:function(c,f,a,K){var n=0,u=this.splitByGrapheme,h=[],s=[],d=u?l.util.string.graphemeSplit(c):c.split(this._wordJoiners),p="",_=0,S=u?"":" ",b=0,w=0,L=0,P=!0,H=this._getWidthOfCharSpacing(),K=K||0;d.length===0&&d.push([]),a-=K;for(var dt=0;dt<d.length;dt++)p=u?d[dt]:l.util.string.graphemeSplit(d[dt]),b=this._measureWord(p,f,_),_+=p.length,n+=w+b-H,n>a&&!P?(h.push(s),s=[],n=b,P=!0):n+=H,!P&&!u&&s.push(S),s=s.concat(p),w=u?0:this._measureWord([S],f,_),_++,P=!1,b>L&&(L=b);return dt&&h.push(s),L+K>this.dynamicMinWidth&&(this.dynamicMinWidth=L-H+K),h},isEndOfWrapping:function(c){return!this._styleMap[c+1]||this._styleMap[c+1].line!==this._styleMap[c].line},missingNewlineOffset:function(c){return this.splitByGrapheme?this.isEndOfWrapping(c)?1:0:1},_splitTextIntoLines:function(c){for(var f=l.Text.prototype._splitTextIntoLines.call(this,c),a=this._wrapText(f.lines,this.width),r=new Array(a.length),n=0;n<a.length;n++)r[n]=a[n].join("");return f.lines=r,f.graphemeLines=a,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var c={};for(var f in this._styleMap)this._textLines[f]&&(c[this._styleMap[f].line]=1);for(var f in this.styles)c[f]||delete this.styles[f]},toObject:function(c){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(c))}}),l.Textbox.fromObject=function(c,f){var a=l.util.stylesFromArray(c.styles,c.text),r=Object.assign({},c,{styles:a});return l.Object._fromObject("Textbox",r,f,"text")}}(C),function(){var m=v.controlsUtils,l=m.scaleSkewCursorStyleHandler,c=m.scaleCursorStyleHandler,f=m.scalingEqually,a=m.scalingYOrSkewingX,r=m.scalingXOrSkewingY,n=m.scaleOrSkewActionName,u=v.Object.prototype.controls;if(u.ml=new v.Control({x:-.5,y:0,cursorStyleHandler:l,actionHandler:r,getActionName:n}),u.mr=new v.Control({x:.5,y:0,cursorStyleHandler:l,actionHandler:r,getActionName:n}),u.mb=new v.Control({x:0,y:.5,cursorStyleHandler:l,actionHandler:a,getActionName:n}),u.mt=new v.Control({x:0,y:-.5,cursorStyleHandler:l,actionHandler:a,getActionName:n}),u.tl=new v.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),u.tr=new v.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),u.bl=new v.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:f}),u.br=new v.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:f}),u.mtr=new v.Control({x:0,y:-.5,actionHandler:m.rotationWithSnapping,cursorStyleHandler:m.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),v.Textbox){var h=v.Textbox.prototype.controls={};h.mtr=u.mtr,h.tr=u.tr,h.br=u.br,h.tl=u.tl,h.bl=u.bl,h.mt=u.mt,h.mb=u.mb,h.mr=new v.Control({x:.5,y:0,actionHandler:m.changeWidth,cursorStyleHandler:l,actionName:"resizing"}),h.ml=new v.Control({x:-.5,y:0,actionHandler:m.changeWidth,cursorStyleHandler:l,actionName:"resizing"})}}()}(ko)),ko}var Ja=cp(),Uo={exports:{}},Po,Vh;function fp(){if(Vh)return Po;Vh=1;var C="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Po=C,Po}var Ho,qh;function hp(){if(qh)return Ho;qh=1;var C=fp();function v(){}function j(){}return j.resetWarningCache=v,Ho=function(){function D($,m,l,c,f,a){if(a!==C){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}D.isRequired=D;function k(){return D}var F={array:D,bigint:D,bool:D,func:D,number:D,object:D,string:D,symbol:D,any:D,arrayOf:k,element:D,elementType:D,instanceOf:k,node:D,objectOf:k,oneOf:k,oneOfType:k,shape:k,exact:k,checkPropTypes:j,resetWarningCache:v};return F.PropTypes=F,F},Ho}var Wh;function dp(){return Wh||(Wh=1,Uo.exports=hp()()),Uo.exports}var gp=dp();const Ka=Xo(gp),ud=({template1Image:C,template2Image:v,template3Image:j,onTemplateSelect:D})=>Lt.jsxs("div",{className:"template-picker",children:[Lt.jsx("img",{src:C,alt:"Template 1",onClick:()=>D(C),className:"template"}),Lt.jsx("img",{src:v,alt:"Template 2",onClick:()=>D(v),className:"template"}),Lt.jsx("img",{src:j,alt:"Template 3",onClick:()=>D(j),className:"template"})]});ud.propTypes={template1Image:Ka.string.isRequired,template2Image:Ka.string.isRequired,template3Image:Ka.string.isRequired,onTemplateSelect:Ka.func.isRequired};const cd=({canvas:C})=>{const v=()=>{const k=new Ja.fabric.Textbox("Твой текст",{left:150,top:150,fontSize:24,fill:"#000",fontFamily:"Rubik",editable:!0});C.add(k)},j=k=>{const F=k.target.files[0];if(!F)return;const $=new FileReader;$.onload=()=>{Ja.fabric.Image.fromURL($.result,m=>{m.set({scaleX:.5,scaleY:.5,left:100,top:100}),C.add(m)})},$.readAsDataURL(F)},D=()=>{const k=C.getActiveObject();k&&C.remove(k)};return Lt.jsxs("div",{className:"toolbar",children:[Lt.jsxs("div",{className:"button-group",children:[Lt.jsx("button",{onClick:v,className:"bg-green",children:"Текст"}),Lt.jsx("button",{onClick:D,className:"bg-red",children:"Удалить"})]}),Lt.jsx("input",{type:"file",onChange:j})]})};cd.propTypes={canvas:Ka.object.isRequired};const mp=new URL("/assets/jersey-d_Ax2HGK.png",import.meta.url).href,vp=new URL("/assets/jerseyback-Dk1VCPPw.jpg",import.meta.url).href,pp=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAREAAAC5CAMAAAA4cvuLAAABLFBMVEWpAQCnAgCrAACuAACWAAChAACeAACZAACRAAD65d/7+vedAACkAACXAAD5+/r5///+9vn1+/fNjYn/9vvLi4z//fT/7eaNAAD7+////vv34uHxycfSkZKyXl3csbP4+vjuz8m8aGffu7+lMDP/9vL319fMm5jswLvUoKLkubjFjYmmRESxT07gs6/77vD03NXmysmEAACsOj/z//XHh3//8ujZiYeqT0T949Xx6ubNbmXkran/29W6W1azRk/AcnXr///yvL/qxrmaHib1/e7aqrHVua3ooZzKh5DmxsnPpqHffnz/7faUChe/loreraJyAACtUFjclIjRgXywOEKzSUbSh5XdnKONHCGxZ12dABe5RT6rJSqeP0i+WFiNGRTiz8O/oJy5eXmONS5LXVytAAALpElEQVR4nO2ciXbbNhaGSYAgaRAmAVOwQHmh7UBe5D2sM06dTJxlUrd1mmbSTJdJ20z6/u8wF6RkyUsyyfS0Dt37HZ0mgkhV+HVXAIrnIQiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIAiCIMhfGd9BLo8L4RFPfPjbiPqG9/1P/q+Pdw0IQq8c9ymFCdYPMvnwJh/jYR/0IBOvn73SvJnvXv0TZ/V7cF+dz4R/EUpEJOil4XchPEqueJczCGjWEiuBTwrWcBk/YZSCoXwwHmPvvNwZiGAtUYSybpxMB5eIIkZZfPZ0uubyZSOSoCuoCCauH/4ZRfAI4jjwaUvcJv7sYHYWHhc5uBP87fDu1Efwefdo9t2v3rufXPdUPxDW4TItucpSzkvlgP/mppgP/n6g8rRM4VGWpfuLNKmUZZa5G9wg3JQbpaTMTJ4W6xFbNKmR0t3kboNrRpjUPgjbYiNspsgV3zFGWsmlw+ykpljtbu2otBkYkkpecpmb/GzEyjyXHATKpVrpkmiDlym38FYXSfmDiLYl/zaKmJwXqjI1x3mlV7svdJXzKh3DQTBewnRLXql6BBSreJ4pJ8hc7NFoRVpVVlWZXkSDhYRXVT2fIo0i5cajtTV4OB6uPboTb1mV5+ru3AQ7XBrFe2uPxkNra2+UAkOqeo8hz0SLxiqZTc1d4mUMqagtBUmjSC/uRtEw5UxHgSADCBKlXdkfZ4/9lUqaqujEcRiFzVA8vb9tpc253nRlabSY8id5ftS9lImIx1qTakZxhPjUg7rB1Q6hLxgdFBJi5l4yLlCih7Ui6ySkrClgKImPdMlTaRcY1Bt+tKHsk9PsuX+htPGgLAYTakuF1ihiY5awiLEwSZKIECEGSlpu9yYy5vTDKpegCExduBIU/CDpFJybVL9l1CeCJBsFV3l2FIUASxIG7y5Y4ju1QL52KcL/sf10e3v76dPFxcUvIC2wE5grt18mZ6bubAQUMesCWiGo2qEbYsvSgCJ8NSYgkVOEl/lptbs+5CvH+tdJW9xlSKMI1BWZ4drl1tNNp0inUQSiy4j9uSq3ChTxBXzdoAu7bXmqcrWWECjQa0WMgXykmlwjjatOMoi5oi3W0dAoop/w09xCWDw+2GQEynGIIyBJb2PMYg8caaQIeI1/60BC9uVLMRWCNjZiskpBhcZr5KlUVf8ZBJAPX1T4FBjaiCzARqAo7W1SaMmI3ykgjnCbjUmh9AKjqBXxoAeMdysXgA5/pX7ojRSB4oyrtC5rFNwj+79CiBFtybsNw8h6MvPNYNAZzN8KfRcHPacIlBp1/T4EYqiVWR1HoPfvPioMt3LnN4ib4GXgNR7EEShiqt2jbcfT59vbR4/rMHzdc/w4htk3gu/YT5iAuoJ6UD6A10D6tXwCBYUtL+bhK6dw9bYq81TZBQFBhIjQragkG+BG+fHzIKlhIpkW9YpCG+PITjixgujS5aDgpuR3dyewJte6WHV5lkQdDtEi1Z8lozUUz6PxRlrXI97EyohPw3bGkasUgdC6Mplr9qCIL82qoAkjD56o3Go++NatfDT1axx8u2jARvKvupPrKFHXq/VqD+9RRMoV1hSnjmjNOkXm4brwha1krpTam1uam1tqgPblrutryqnRyHD46+im2Ah0uyvJeKU0AEVKiCOCicc7Veoa4zytINs2QabKuM6MTEtVNbnGDDNOOh+za5zfx/MeRaDTC4dDrq9Z48ZCHGFevAtTh5Y3lSXEkrr6MHU1D0OQf6A4GxYkrsiTxXzYLq9JZrRUtowIEzW+q0d9NtAmc1X82XUkmMvyUw6dXncJ0k7qLKGuTFNnEtxCYq6goIGKxGR1stYaknppTDZP2rJW1BDd0ZlUs65PaeIFlOgkTGYK8AndGds7iY6mdncPpzrxP/v93f6Y3cPdvktFzZMx/X4Pnh72D1+2rYq/kx1Lez8RHvP92kpc/Rl2wC+y9ckmjXiQT+JQUBHHSZN+XCqBXjmZjqI4Ygk8iaaDKKxfTQK4KmEBmQ5Ia5ZGalgnKw+22O3N724P+W7zFSWDNFeryWRIdJtahLLlwcnJYGZQ0wFO9p1hsZfw9IFLtNAGjzZwxPLJ4JvOYCtslYl4wb/Sg/tdCCZW2wZTHCV0UKXfB6+/D8cX+pCJaXwilSmqokEaqGxXuiBC3IOn9uEP04SEw5094odzEEXyYv7d+8GfJGJGL3QHNssrXYfKNFVzMXhN8UXU3V05t7ZB/eStC5dapaPCXmmuN4KExj23/KyntiJnI/WOL2TpR7lVeTHD2hVHyMsfuzMGsoeCktTkMlW705Qmg+fRT7vFyqSNCC+GKHya5zwfVRuQZ3JTrQVgI5l7yu18PNpZF36yZ8oKsq9oVfL1Em8fMq2bZW5KN6neD257/N/xs37FJxWBtDRjlSkVuBfXDrAWrcpM6YfTca+pQKReeuz2zykNmRfNQZkCXsPa5TWhd6KtStVOHUO0nvrZJ4x54tk9fUER8hrcBUr7nzfPeLX5peS2yl52e7UjpVCGzC4EbgUATKqlitBfCpNDBNj/9dmznwDIvr5HWNSHoHnea/xb4FUQRqKzBSBCoz2urDnuxFO1Iio9lVqvQqx1e5otVcRfziCE6HtdATkUYoAQDGYaflakRvHFc3HkVnEqK/UkIONTIdEbdaxzc6fbKGKl2wjWS7cYY35bFRHLhankcS92tTs4EYOvVxDoa/JM5ZM2QsgtLXmZ64Q254kINEDhGw5mk840XlNyXUFTk6YHP0LOaasi/nKR8tL0Yq/u5yB3QgxwnR5MzV5UBOZcPul6rOkKfeYHb7RMeTYDkRX+5P+Z5afyiTWZPYKcw/byqmqpItxMxaDD6NRY3fu6Nv98rgEbKXluX7zaGvFqcw9SlMw6jSLFQrykoPzXqdL3NgNvqb028hGKmKrguqizry4KrjI5qQiNV7mR1pal2Xm7/wjs7IYrYkpXp0L4bM7JQJlawb0TijAmtnrNARJTbC/JTMmbrQjYiLWVkk0Vn7rzI1ZPKiIgXcVrhVJcl0pZq26+IjDFLDVNo5dCI2d4NamIR4nwgo41RmnoCip7U7zGZ++OI3J5+cHyiIWeOec19fleym4fQoA9PVWVlDdBEV+8UxGII1JGLBGsJhTR3kVFPNfjifgIPCd1W56u973BikinCNRvwxM1UO3v5faSItAXUfb2gBuTO69psyLDEVHvcl6tiOY89IbtPdwRXmUjlEAjkNzuqyy/0TZCaq/RZZH4bNjZ1Esg+pIi7syZT73uuts2znVbFemK4fYExAfBkqEiAZvgsVPEckZGS0A+eI28rIjvzp0RQaKFWchHrYusdMu6ta/Z1fPsQRAwZmdxkhULX7rUMThVfWvtNfllr2lsjVASvb4PvBbtUoSJBVtBMQ4CFBO7k4ZfwvmAgt43onS4/ye85Ko40uB6Y98ZXLt2fR3hwgEvSzfdc/OvmTy4XO/XGaMTSodBWFwdWc8YLaP8+XP6PUB9mrywtQHoCTl42qwsT5C5oSzjgeed2cj7FPHrn2K168SVw3UiwYsduXP+bH/e2Mjk70uGI1PizBH+l420UA6H8D3hTnWf/boojuNg+uyvZ4xGuuMfQbxXkcY82uc03ti6PwR3OfWGc4QszN5keWaLQRcUUdycs5FW2sfvg3g02YYWNzeDbl+mYCO/XPdHum4oZd0lDRG30+1B2NWr0V/QLiYR9UHfR5VycUSlxXp83Z/ounE7d5Q6K+kE/VKvQli57o903fhQ8YKV9AuwkWI1bt3p5j8Cl1rZT4cz3cPVmKAiDcRnv30uXu4Tioo0QNvPIhIR9+8GXPdn+TQgzKNuYcATLfvVyB+G+3c2IJ5At/NXrFKvwv1apK7unTDX/WE+LdBCEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEOR9/BcI9VqQc5zkuQAAAABJRU5ErkJggg==",import.meta.url).href,yp=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAACoCAMAAABt9SM9AAABRFBMVEUAAADaCxDeCxDfCxDbAADYjY7jCxFmdHTdAADlMzUEBASnCAzYCxDQCg/FCg7LCg+WCAu/Cg5KWVmsi4uMjIxiBQd/Bgm1CQ13BglOBAabCAu7CQ5SBAaGBwqwCQ3pU1VaWlp0goIbAQJbBQc5AwRvBghnBQiNBwouAACZCAviFRmCgoJzdHQmJiavAADGAAApAgNBAwUADg7OjY6bjY3ljo67jY2hAAASAQEgAgM1AwTmQkRQWVnCAABcampeXl7Jysqfg4PmyMg1OjrsfX7mmJgrOjqlmpoyNTWboqIWICDJpaUAGRjbpabjU1W0UlOmUlNaUVF+UlLFU1SHUlK7JiesODrOOTueOToXOTlHOzuDmprRNDaFR0izo6PTbm/FSUqzs7NKMDCzMjOMODlvVVafWVpjOTmbcnNgHx8ALy/1fH2PnbtOAAAH8klEQVR4nO3b/1viRh4H8E8mMAnmC4mQBEKClgCBSsEoKFh0u7W7XdeuXb2evfY8b3u196X3//9+nwmg3rrr9u7Zu/Do57UrgSTjk7yfyTCZjACEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYSQR+CzL55ul/Lb+Xy+XC6X8vnRzrA8HI528NNOvoQrbtseDrfzO7hSbC7j5nLppvAOLm4XHi4Kj748zPosP5bD0jiXG6iDBN93VTVKV453odrpV+JBf1fNzeEbdRD2VWdXVfu4T1XtV6C6p4rCe/gZV1fTwpu7ECR9Fwv308JfTTM7uY/usDzQdV5xATyud8azE25ApxFbkeTbTErJsq3XDc1noVORuYO7tIpSBxeGLvFWBcDmxmSSzAs3x1bc1i0TC+a+Ws3u3D6+589UObKa0OLypvgcWNWabUDgOjZji6zCULMNQ5eLxbrMTLGb1Wnha4VzVvU74HI2FmsjKxCFo9Ax07IPLCtM6+t0wZmoMOBzmTO5bjJZluZJMaMWcTx32eTNmiylYUU1q4sLF0T1gjFngVhoaWGtKMuzlB9cVgAvjvAlakP6qpniPOdVimFQLJ4UGUbEuOa5IZckjldbEnSNW7/BETk3opZmSrcL50YPLqt5WjMxxzPF2sFlPGVm+WKdjnVM1nxs1iJczUXFihNz8+7vsURlnBdmktXdeIBZYQ/iCKq2xkxbXHuMJ74FFUOTEwh8vxXWTYkZTYBOzHXLx+YN3DjEV3Db8/JV0+e2zUVh1tRCcA2NdWBjPcNT+h/67Mjnhi6uH8aN9BtRdAdgrHMZU2nyIgZSsTlfpCO2TkwNghr4eAnWbwon14XL6xmcyP/Fy+N5f2of82hN0ma73e/H1QCiilrZ66t9TINXbkrsclnXmc9jrHIhNm74jZDbd0Th9AJtbz+g/tXbvnm1Jpx8u/765PXp6fr62cmbs9XpdPV3a2vfrYpN2B4Vb/b/faFwUTj/vvCHH85/PL/6PLV2fvitKHx6+t3JQ2zbb2ytpqbrU/wRpvOFWIcb/lhgks01V9SbTdg/PlCEA6V30Du49uQJ/kfr0+dZn0+mFAyL1TSJaxAzTS1lfTxLTYRleJIsyTq25BTWvTAsZjO9XSwyj0kU1r0wrKKN9Ur0zSUK635KQQ6SGna80ntGCuteSkHC1wrg/SH2qiiseykXdYDQj2AcNJ0ahSV8OSyX8qXSzqhULpe3R6N8foRK5dEzz4EO5waAGI1plLM+0GWw8adkoObUfTGW57uzkeGc6o4Hqo63fb4RO5AO81FYwtFLAMsRN9ObhjEf/+MNvFfWWrd3o7BSl62JWLiTmM+zYqK10jyA6s1eFNbMZfrabPrzEXhJfA2GbbyLnix2qe5SAz9ziLXG8W1tkRV3cWVDXIWbWrpDLHP6Nlw4+PO+WTeu61U62p6I4Zm6BnuwWeS1JgwzPsblsfEmvq5XkhyKVYG2B9Aax2EX+6R6EFNY1y4/XTwIw7AA2jBupQ+r65qtSXrohbsU1o1jdZEVj6DbBMcVYSWSbEsNrSZLIYV1Y+tVbp5VDICNliseqUJdjP+Jp2UdfyfrI1wmz0fqp4K9tbKVJG5tC9clouNVlCXmwy71s25b/WRmI/XJxk8vo5u+RLJJYd2n95fuvDchrkzqwd+r98LRirN6JTqpFNZ9lAKfTRlxPHGLOCqXRunEvqc75eEwLwZ00vmAT0vD2fuNL15kfcjZEU93JMbr0LDwUzWGdPhGHfRFPUsnkIiBrmSwH/ejDnZgy6eZHm62MCxZxm58kN4qYkeVS+k8pPSJvuN6exBquMVhulfUrWb5wcwk/W/gZSga9pqYJClmHXHP0E07wXsgL7KYzDxzNksSxhZng2eP/In0RQv7ppw38Rps4E8IRgOvtorBRddLXKFczBvpgOu5uVe/Zn242VIKfs3ivDv/2EwwuwhcbTZHlxl1COpGsRVMwG0fb2V6qNlTCmJaUWCKYa2oK/GiBo5s8HRaliTX64Zrt8LZrsfZHukSwLAkmemMG6auG4zZ49m0SEnS61yrmZZbmY06rxx94Dc9Asq5ydteLa1I2DPFChYWZ0M4Ld/3tKQd1P2wMhFTLonyM7ZQ/uJ5j9QGKM5aK930x9jQx6L15+oVZQUiLDOOF0OC+L03nwMueRa0u7Y3jjRu2IPPv876OJdC78eqtXg2ptcbFsPmnkv9sCXmwHd2BwOrWoVfaEww1buK508R8V/V5xL3Kk1YnU6n6389WVs7e3325pfeRtZHuSR650mMtzcy14x6GHDGA7DhaDHtVIS2uv6ob3Fu6/0AltFtVqp7QWzXND/R1DY15u+hXJg1m0FH56F4dhHz3N8oq/fpXUWcmdqmL/6goCJzdZ3G/96r91zHLoO4oRk7Ra5Zf+9lfURLTNzuME38fZPPmbH/kP6a9+NLR0oNMaTlclt95ONVH6J8z2Vmi3etZP+nb7I+nOWmFLyOKYbftdw/Lm9vWEEZHdPSUi5qktwF2Nt/Q1l9iPKzH5sA1erZv3UZVlYorbt6VwDJZAxvdRkorHfp/RonsAc7b3UZKKp3UQp80um+uttloKzuUgq607r72IaiehflQi1cfng3IigXJzRk/Fsp/6Rh0N/sCY0yEEIIIYQQQgh5Nxon/Q9QVoQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEkAftXy1zwv9h5pinAAAAAElFTkSuQmCC",import.meta.url).href,_p=new URL("/assets/cloud9-CQ4g74cy.jpg",import.meta.url).href,Sp=()=>{const C=ut.useRef(null),v=ut.useRef(null),[j,D]=ut.useState(null),[k,F]=ut.useState(!0),$=ut.useRef(null),m=ut.useRef(null),l=(f,a)=>{Ja.fabric.Image.fromURL(a,r=>{if(!r){console.error("Ошибка загрузки веломайки!");return}const n=Math.min(f.width/r.width,f.height/r.height);r.scale(n),r.set({left:(f.width-r.width*n)/2,top:(f.height-r.height*n)/2,selectable:!1}),f.add(r),f.sendToBack(r),f.renderAll()})};ut.useEffect(()=>{if(v.current&&(v.current.dispose(),v.current=null),C.current){const f=new Ja.fabric.Canvas(C.current,{width:window.innerWidth*.9,height:window.innerHeight*.6,backgroundColor:"white"});v.current=f,l(f,k?mp:vp);const a=k?$.current:m.current;a&&f.loadFromJSON(a,()=>f.renderAll())}},[k]),ut.useEffect(()=>{if(!j)return;const f=v.current;Ja.fabric.Image.fromURL(j,a=>{a.set({left:150,top:150,scaleX:.2,scaleY:.2,selectable:!0,hasControls:!0}),f.add(a),f.renderAll()})},[j]);const c=()=>{v.current&&(k?$.current=JSON.stringify(v.current):m.current=JSON.stringify(v.current),F(!k))};return Lt.jsxs("div",{className:"configurator-container",children:[Lt.jsx("button",{className:"back-button",onClick:()=>window.location.href="/",children:"Назад"}),Lt.jsx("h1",{children:"Редактор Веломайки"}),Lt.jsx(ud,{template1Image:pp,template2Image:yp,template3Image:_p,onTemplateSelect:D}),Lt.jsx("canvas",{ref:C,className:"canvas"}),Lt.jsx(cd,{canvas:v.current}),Lt.jsx("button",{className:"toggle-button",onClick:c,children:k?"Другая сторона":"Передняя сторона"})]})},Cp="/src/assets/pogacar2.PNG",bp=()=>{const[C,v]=ut.useState(!1);return Lt.jsx("div",{className:"container",children:C?Lt.jsx(Sp,{onBack:()=>v(!1)}):Lt.jsxs("div",{className:"homepage",children:[Lt.jsxs("div",{className:"hero-section",children:[Lt.jsx("img",{src:Cp,alt:"Веломайка",className:"hero-image"}),Lt.jsx("h1",{className:"hero-title",children:"Уникальные веломайки с вашим индивидуальным дизайном, полная свобода!"})]}),Lt.jsxs("div",{className:"advantages",children:[Lt.jsx("h2",{children:"Почему выбирают нас?"}),Lt.jsxs("div",{className:"advantages-list",children:[Lt.jsxs("div",{className:"advantage-item",children:[Lt.jsx("h3",{children:"🎨 Полная кастомизация"}),Lt.jsx("p",{children:"Выбирайте шаблон или создавайте свой уникальный стиль."})]}),Lt.jsxs("div",{className:"advantage-item",children:[Lt.jsx("h3",{children:"📥 Сохранение макета"}),Lt.jsx("p",{children:"Скачивайте макет без регистрации и сложностей."})]}),Lt.jsxs("div",{className:"advantage-item",children:[Lt.jsx("h3",{children:"🚴 Качество материалов"}),Lt.jsx("p",{children:"Дышащие, прочные и комфортные ткани для велоспорта."})]}),Lt.jsxs("div",{className:"advantage-item",children:[Lt.jsx("h3",{children:"🚀 Быстрое производство"}),Lt.jsx("p",{children:"Изготовление и доставка в кратчайшие сроки."})]})]})]}),Lt.jsx("button",{className:"start-button",onClick:()=>v(!0),children:"Начать создание"})]})})};Pm.createRoot(document.getElementById("root")).render(Lt.jsx(Mm.StrictMode,{children:Lt.jsxs(Jv,{children:[" ",Lt.jsx(bp,{})]})}));
